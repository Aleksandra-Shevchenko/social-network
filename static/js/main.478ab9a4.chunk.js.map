{"version":3,"sources":["components/UserCard/UsersCard.module.css","components/common/Preloader/Preloader.module.css","components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileStatus.module.css","components/Login/Login.module.css","components/Landing/Landing.module.css","components/Users/Users.module.css","components/Friends/Friends.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Header/Header.module.css","reportWebVitals.js","api/api.js","redux/authReducer.js","utils/utils.js","redux/userReducer.js","redux/appReducer.js","images/email.svg","images/settings.svg","images/friends.svg","images/user.svg","images/news.svg","components/Navbar/Navbar.js","components/Dialogs/Dialog/Dialog.js","components/Dialogs/Message/Message.js","components/common/AddMessageForm/AddMessageForm.js","components/Dialogs/Dialogs.js","redux/dialogsReducer.js","hoc/WithAuthRedirect.js","components/Dialogs/DialogsContainer.js","components/News/News.js","components/Settings/Settings.js","components/Pagination/Pagination.js","images/avatarDefault.svg","components/UserCard/UserCard.js","components/Users/Users.js","images/preloader.svg","components/common/Preloader/Preloader.js","components/Users/UsersContainer.js","redux/profileReducer.js","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","images/camera.svg","components/Profile/ProfileInfo/ProfileStatus.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js","images/logo.svg","components/Header/Header.js","components/Header/HeaderContainer.js","components/Friends/Friends.js","components/Friends/FriendsContainer.js","utils/validation/LoginFormSchema.js","components/Login/Login.js","components/Landing/Landing.js","App.js","redux/reduxStore.js","index.js","components/Pagination/Pagination.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/Dialog/Dialog.module.css","components/Dialogs/Message/Message.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Navbar/Navbar.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","api","axios","create","baseURL","withCredentials","headers","usersApi","getUsers","currentPage","pageSize","get","res","data","getFriends","getUserInfo","userId","profileApi","getProfile","followFriend","post","resultCode","unfollowFriend","delete","authApi","values","getStatus","updateStatus","status","put","SET_AUTH_USER_DATA","SET_ERROR","inintialState","id","email","login","isAuth","isFetching","error","setAuthUserData","type","getAuthUser","dispatch","a","authReducer","state","action","errorMessage","updateObjectInArr","items","itemId","objPropName","newObjProp","map","el","FOLLOW","UNFOLLOW","SET_USERS","SET_FRIENDS","SET_FRIENDS_AFTER_DELETE","SET_CURRENT_PAGE","SET_CURRENT_FRIENDS_PAGE","SET_TOTAL_USERS_COUNT","SET_TOTAL_FRIENDS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","followingInProgress","friends","currentFriendsPage","pageFriendsSize","totalFriendsCount","followSuccess","unfollowSuccess","setUsers","setTotalUsersCount","num","toggleIsFetching","toggleFollowingProgress","progress","setFriends","setFriendsAfterDelete","setTotalFriendsCount","getUsersOrFriends","page","apiMethod","actionCreatorSetItems","actionCreatorTotalCount","totalCount","followUnfollowFlow","actionCreator","bind","follow","unfollow","userReducer","followed","filter","item","SET_INITIALIZED","initialized","appReducer","Navbar","props","className","style","menu","menu_nav","menu_list","to","link","activeClassName","active","picture","src","alt","user","news","settings","Dialog","name","dialog","Message","text","message_box","avatar","AddMessageForm","initialValues","message","onSubmit","setSubmitting","isSubmitting","placeholder","disabled","Dialogs","dialogsPage","onSendMessage","dialogs","dialogs_list","d","messages","m","form","SEND_MESSAGE","dialogsReducer","newText","mapStateToPropsForRedirect","auth","WithAuthRedirect","Component","RedirectComponent","this","React","connect","compose","sendMessageActionCreator","News","Settings","Pagination","onClick","portionSize","pagesCount","Math","ceil","pages","i","push","useState","portionNumber","setPortionNumber","portionCount","leftBorderNumber","rightBorderNumber","useEffect","paginator","left","arrow","p","page_active","right","UserCard","photos","small","avatarDefault","some","Users","onPageChanged","Preloader","preloader","UsersContainer","pageNum","setCurrentPage","length","usersPage","ADD_POST","SET_USER_PROFILE","SET_STATUS","posts","profile","setStatus","profileReducer","Post","MyPosts","myPosts_box","title","value","addPost","profilePage","newPostTex","addPostActionCreator","ProfileStatus","editMode","setEditMode","profile_status","autoFocus","onBlur","onChange","e","currentTarget","noChanges","ProfileInfo","idAuthUser","profile_info","user_photo","large","user_photoDefault","description_box","main_info","header","fullName","info","headline","aboutMe","lookingForAJob","lookingForAJobDescription","photo","photo_default","camera","Profile","content","MyPostsContainer","ProfileContainer","console","log","match","params","getPersonalInfo","withRouter","Header","logout","logo_box","logo","logoLink","logo_text","user_box","avatarNotAuth","hidden_box","HeaderContainer","Friends","setCurrentFriendsPage","getUserFriends","loginFormSchema","Yup","shape","required","password","min","err","login_box","rememberMe","validationSchema","errors","touched","isValid","dirty","container","form_row","htmlFor","label","input","input_error","component","form_checkbox","checkbox","btn","btn_disabled","server_errorContainer","server_error","Landing","showNum","n","String","split","reverse","join","slice","introduce","text_box","subtitle","data_item","data_nums","liner","data_text","App","initializeApp","path","DialogsContainer","exact","authUserId","app","reducers","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.478ab9a4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"UsersCard_avatar__7Wzzt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__GEOde\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__1KZ02\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_info\":\"ProfileStatus_profile_info__31_wB\",\"description_box\":\"ProfileStatus_description_box__1jV-l\",\"user_photo\":\"ProfileStatus_user_photo__1Gzwh\",\"user_photoDefault\":\"ProfileStatus_user_photoDefault__1tNob\",\"header\":\"ProfileStatus_header__23dCf\",\"caption\":\"ProfileStatus_caption__3qmL3\",\"info\":\"ProfileStatus_info__SmNuY\",\"headline\":\"ProfileStatus_headline__2PVkF\",\"text\":\"ProfileStatus_text__13i11\",\"photos\":\"ProfileStatus_photos__2D9fU\",\"photo\":\"ProfileStatus_photo__1x8f0\",\"photo_default\":\"ProfileStatus_photo_default__WggP-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login_box\":\"Login_login_box__Y6NMk\",\"container\":\"Login_container__1gh3E\",\"title\":\"Login_title__2gOxU\",\"form\":\"Login_form__1oI7F\",\"form_row\":\"Login_form_row__3t5Xl\",\"form_checkbox\":\"Login_form_checkbox__2jxsT\",\"label\":\"Login_label__68JtG\",\"input\":\"Login_input__2Xz_f\",\"checkbox\":\"Login_checkbox__2nHAi\",\"input_error\":\"Login_input_error__3D39Z\",\"error\":\"Login_error__25IZ_\",\"server_errorContainer\":\"Login_server_errorContainer__3Hk2W\",\"server_error\":\"Login_server_error__1upWp\",\"btn\":\"Login_btn__avbxQ\",\"btn_disabled\":\"Login_btn_disabled__1LDYR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"introduce\":\"Landing_introduce__3-NDZ\",\"text_box\":\"Landing_text_box__wEPvO\",\"title\":\"Landing_title__31zGb\",\"subtitle\":\"Landing_subtitle__3rb2_\",\"link\":\"Landing_link__xYGqK\",\"data\":\"Landing_data__2asvw\",\"data_item\":\"Landing_data_item__3qhKN\",\"data_nums\":\"Landing_data_nums__35Jm0\",\"liner\":\"Landing_liner__1Q7-t\",\"data_text\":\"Landing_data_text__3YH8R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__coBMK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Friends_avatar__FU8fM\",\"page\":\"Friends_page__2aqf4\",\"page_active\":\"Friends_page_active__1Ptoi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_info\":\"ProfileInfo_profile_info__2mOSo\",\"description_box\":\"ProfileInfo_description_box__22GFZ\",\"user_photo\":\"ProfileInfo_user_photo__2q-zf\",\"user_photoDefault\":\"ProfileInfo_user_photoDefault__3Yiy2\",\"header\":\"ProfileInfo_header__3B74Z\",\"caption\":\"ProfileInfo_caption__1Orjr\",\"info\":\"ProfileInfo_info__2fHGV\",\"headline\":\"ProfileInfo_headline__Ng3FZ\",\"text\":\"ProfileInfo_text__33OWi\",\"photos\":\"ProfileInfo_photos__3NjGQ\",\"photo\":\"ProfileInfo_photo___q1pS\",\"photo_default\":\"ProfileInfo_photo_default__29Y-k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1wvV2\",\"logo_box\":\"Header_logo_box__3Uutf\",\"logo\":\"Header_logo__2rM5x\",\"logo_text\":\"Header_logo_text__2S9gQ\",\"avatar\":\"Header_avatar__20hQt\",\"avatarNotAuth\":\"Header_avatarNotAuth__21vIS\",\"user_box\":\"Header_user_box__1ks-9\",\"name\":\"Header_name__3CMva\",\"login\":\"Header_login__FBYHa\",\"hidden_box\":\"Header_hidden_box__11vvz\",\"logout\":\"Header_logout__2E1oC\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n  withCredentials: true,\r\n  headers: {'API-KEY': '15561bb6-da04-4759-83e8-0491bebdaf61'},\r\n})\r\n\r\n//получение пользователей и разворачивание страницы пользователя\r\nexport const usersApi = {\r\n  getUsers(currentPage = 1, pageSize = 10){\r\n    return api.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    .then(res => res.data)\r\n  },\r\n\r\n  getFriends(currentPage = 1, pageSize = 10){\r\n    return api.get(`users?page=${currentPage}&count=${pageSize}&friend=true`)\r\n    .then(res => res.data);\r\n  },\r\n\r\n  getUserInfo(userId) {\r\n    return profileApi.getProfile(userId);\r\n  },\r\n\r\n  //добавление или удаление пользователя из друзей\r\n  followFriend (userId) {\r\n    return api.post(`follow/${userId}`, {})\r\n    .then(res => {\r\n      if(!res.data.resultCode){\r\n        return res.data;\r\n      }\r\n    })\r\n  },\r\n\r\n  unfollowFriend(userId) {\r\n    return api.delete(`follow/${userId}`)\r\n    .then(res => {\r\n      if(!res.data.resultCode){\r\n        return res.data;\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n//авторизация пользователя\r\nexport const authApi = {\r\n  authUser() {\r\n    return api.get(`auth/me`);\r\n  },\r\n\r\n  login(values){\r\n    return api.post(`auth/login`, values);\r\n  },\r\n  \r\n  logout(){\r\n    return api.delete(`auth/login`);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n//\r\nexport const profileApi = {\r\n  getProfile(userId) {\r\n    return api.get(`profile/${userId}`)\r\n    .then(res => res.data)\r\n  },\r\n  getStatus(userId) {\r\n    return api.get(`profile/status/${userId}`)\r\n  },\r\n  updateStatus(status){\r\n    return api.put(`profile/status`, {status: status})\r\n    \r\n  }\r\n}\r\n\r\n\r\n\r\n    ","import { authApi } from \"../api/api\";\r\n\r\nconst SET_AUTH_USER_DATA = 'auth/SET_AUTH_USER_DATA';\r\nconst SET_ERROR= 'auth/SET_ERROR';\r\n\r\n\r\nlet inintialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  isFetching: false,\r\n  error: '',\r\n};\r\n\r\nconst setAuthUserData = (data) => ({type: SET_AUTH_USER_DATA , data: data});\r\nconst setError = (err) => ({type: SET_ERROR , errorMessage: err});\r\n\r\nconst authReducer = (state = inintialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n        error: '',\r\n      };\r\n    case SET_ERROR:\r\n      return {\r\n        ...state,\r\n        error: action.errorMessage,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getAuthUser = () => {\r\n  return async (dispatch) => {\r\n    const res = await authApi.authUser();\r\n    if (!res.data.resultCode) {\r\n      dispatch(setAuthUserData({...res.data.data, isAuth: true}));\r\n    }\r\n  }\r\n};\r\n\r\nexport const login = (values) => {\r\n  return async (dispatch) => {\r\n    const res = await authApi.login(values);\r\n    if (!res.data.resultCode) {\r\n      dispatch(getAuthUser());\r\n    } else {\r\n      dispatch(setError(res.data.messages[0]));\r\n    }\r\n  }\r\n};\r\n\r\nexport const logout = () => {\r\n  return async (dispatch) => {\r\n    const res = await authApi.logout();\r\n    if (!res.data.resultCode) {\r\n      dispatch(setAuthUserData({\r\n        id: null,\r\n        email: null,\r\n        login: null,\r\n        isAuth: false\r\n      }));\r\n    }\r\n  }\r\n};\r\n\r\n\r\n\r\nexport default authReducer;","\r\nexport const updateObjectInArr = (items, itemId, objPropName, newObjProp) => {\r\n  return items.map(el => (el[objPropName] === itemId) ? {...el, ...newObjProp} :  el)\r\n}","import { usersApi } from \"../api/api\";\r\nimport { updateObjectInArr } from \"../utils/utils\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS= 'SET_USERS';\r\nconst SET_FRIENDS = 'SET_FRIENDS';\r\nconst SET_FRIENDS_AFTER_DELETE = 'SET_FRIENDS_AFTER_DELETE';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_CURRENT_FRIENDS_PAGE = 'SET_CURRENT_FRIENDS_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'; \r\nconst SET_TOTAL_FRIENDS_COUNT = 'SET_TOTAL_FRIENDS_COUNT'; \r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nconst inintialState = {\r\n  users : [],\r\n  pageSize: 20,\r\n  totalUsersCount: 1,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n  friends: [],\r\n  currentFriendsPage: 1,\r\n  pageFriendsSize: 10,\r\n  totalFriendsCount: 0,\r\n};\r\n\r\nconst userReducer = (state = inintialState, action) =>{\r\n  switch (action.type) {\r\n    case FOLLOW: \r\n      return {\r\n        ...state,\r\n        users: updateObjectInArr(state.users, action.userId, 'id', {followed: true}),\r\n      };\r\n    case UNFOLLOW: \r\n      return {\r\n        ...state,\r\n        users: updateObjectInArr(state.users, action.userId, 'id', {followed: false}),\r\n      };\r\n    case SET_USERS:\r\n      return {...state, users: [...action.users]};\r\n\r\n    case SET_FRIENDS:\r\n      return {...state, friends: [...action.friends]};\r\n\r\n    case SET_FRIENDS_AFTER_DELETE:\r\n      return {...state,\r\n        friends: state.friends.filter((item) => item.id !== action.userId )\r\n      };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {...state, currentPage: action.page};\r\n\r\n    case SET_CURRENT_FRIENDS_PAGE:\r\n      return {...state, currentFriendsPage: action.page};\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {...state, totalUsersCount: action.num};\r\n\r\n    case SET_TOTAL_FRIENDS_COUNT:\r\n      return {...state, totalFriendsCount: action.num};\r\n      \r\n    case TOGGLE_IS_FETCHING:\r\n      return {...state, isFetching: action.isFetching};\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {...state,\r\n        followingInProgress: action.progress\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\n\r\nconst setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (page) => ({type: SET_CURRENT_PAGE, page});\r\nexport const setCurrentFriendsPage = (page) => ({type: SET_CURRENT_FRIENDS_PAGE, page});\r\nexport const setTotalUsersCount = (num) => ({type: SET_TOTAL_USERS_COUNT, num});\r\n\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (progress, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, progress, userId});\r\n\r\nconst setFriends = (friends) => ({type: SET_FRIENDS, friends});\r\nexport const setFriendsAfterDelete = (userId) => ({type: SET_FRIENDS_AFTER_DELETE, userId});\r\nexport const setTotalFriendsCount = (num) => ({type: SET_TOTAL_FRIENDS_COUNT, num});\r\n\r\n// общие вспомогательные ф-ии\r\nconst getUsersOrFriends = async (dispatch, page, pageSize, apiMethod, actionCreatorSetItems, actionCreatorTotalCount) => {\r\n  dispatch(toggleIsFetching(true));\r\n  const data = await apiMethod(page, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(actionCreatorSetItems(data.items));\r\n  dispatch(actionCreatorTotalCount(data.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  const res = await apiMethod(userId);\r\n  if (!res.data.resultCode) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\n// ThunkCreators\r\nexport const getUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    const apiMethod = usersApi.getUsers.bind(usersApi);\r\n    getUsersOrFriends(dispatch, page, pageSize, apiMethod, setUsers, setTotalUsersCount);\r\n  }\r\n};\r\n\r\nexport const getUserFriends = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    const apiMethod = usersApi.getFriends.bind(usersApi);\r\n    getUsersOrFriends(dispatch, page, pageSize, apiMethod, setFriends, setTotalFriendsCount);\r\n  }\r\n};\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    const apiMethod = usersApi.followFriend.bind(usersApi);\r\n    followUnfollowFlow(dispatch, userId, apiMethod, followSuccess);\r\n  }\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    const apiMethod = usersApi.unfollowFriend.bind(usersApi);\r\n    followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess);\r\n    dispatch(setFriendsAfterDelete(userId));\r\n  }\r\n};\r\n\r\nexport default userReducer;","import { getAuthUser } from \"./authReducer\";\r\nimport { getUsers } from \"./userReducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\nlet inintialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst setInitialized = () => ({type: SET_INITIALIZED});\r\n\r\nconst appReducer = (state = inintialState, action) =>{\r\n  switch (action.type) {\r\n    case SET_INITIALIZED:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializeApp = () => {\r\n  return (dispatch) => {\r\n    dispatch(getUsers());\r\n    dispatch(getAuthUser())\r\n      .then(() => {\r\n        dispatch(setInitialized());\r\n      })\r\n  }\r\n};\r\n\r\nexport default appReducer;","export default __webpack_public_path__ + \"static/media/email.1ba0e733.svg\";","export default __webpack_public_path__ + \"static/media/settings.22afaeb4.svg\";","export default __webpack_public_path__ + \"static/media/friends.c34571e0.svg\";","export default __webpack_public_path__ + \"static/media/user.2e054d03.svg\";","export default __webpack_public_path__ + \"static/media/news.8904c144.svg\";","import style from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport email from '../../images/email.svg';\r\nimport settings from '../../images/settings.svg';\r\nimport friends from '../../images/friends.svg';\r\nimport user from '../../images/user.svg';\r\nimport news from '../../images/news.svg';\r\n\r\n\r\n\r\nfunction Navbar(props) {\r\n  return (\r\n    <div className={style.menu}>\r\n      <nav className={style.menu_nav}>\r\n        <ul className={style.menu_list}>\r\n          <li className={style.item}>\r\n            <NavLink to='/profile' className={style.link} activeClassName={style.active}>Profile\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/dialogs' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={email} alt=\"\"/>\r\n              Messanger\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/friends' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={friends} alt=\"\"/>\r\n              Friends\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/users' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={user} alt=\"\"/>\r\n              Users\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/news' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={news} alt=\"\"/>\r\n              News\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/settings' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={settings} alt=\"\"/>\r\n              Settings\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import style from \"./Dialog.module.css\";\r\n\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nfunction Dialog ({ name, id }) {\r\n  return (\r\n    <li className={style.dialog}>\r\n      <NavLink to={`/dialogs/${id}`} className={style.link} activeClassName={style.active}>{name}\r\n      </NavLink>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Dialog;","import style from \"./Message.module.css\";\r\n\r\n\r\nfunction Message ({ text }) {\r\n  return (\r\n    <div className={style.message_box}>\r\n      <img className={style.avatar} src='https://static.mycity.travel/manage/uploads/7/36/112961/1/2500px-fribourgregion-20190704-dscf3505_3000.jpg' alt=''/>\r\n      <p className={style.text}>{text}</p>\r\n    </div>\r\n  )\r\n}\r\n  \r\n\r\nexport default Message;","import { Field, Form, Formik } from 'formik';\r\n\r\nfunction AddMessageForm(props) {\r\n  const submit = (values, { setSubmitting }) => {\r\n    props.onSubmit(values);\r\n  }\r\n  \r\n  return (\r\n    <Formik\r\n      initialValues={{ message: \"\" }}\r\n      onSubmit={submit}\r\n    >\r\n      {({ isSubmitting }) => (\r\n        <Form className={props.style}>\r\n          <Field type=\"text\" name=\"message\" placeholder='Enter your message'/>\r\n          <button type=\"submit\" disabled={isSubmitting}>Send</button>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  )\r\n}\r\n\r\nexport default AddMessageForm;","import React from 'react';\r\n\r\nimport style from \"./Dialogs.module.css\";\r\nimport Dialog from \"./Dialog/Dialog\";\r\nimport Message from \"./Message/Message\";\r\nimport AddMessageForm from '../common/AddMessageForm/AddMessageForm';\r\n\r\n\r\nfunction Dialogs({ dialogsPage, onSendMessage }) {\r\n \r\n  function handleSubmit(values) {\r\n    onSendMessage(values.message);\r\n  }\r\n\r\n  return (\r\n    <div className={style.dialogs}>\r\n      <ul className={style.dialogs_list}>\r\n        {dialogsPage.dialogs.map(d => <Dialog name={d.name} id={d.id} key={d.id}/>)}\r\n      </ul>\r\n\r\n      <div className={style.messages}>\r\n        {dialogsPage.messages.map(m => <Message text={m.text} key={m.id}/>)}\r\n        <AddMessageForm onSubmit={handleSubmit} style={style.form}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dialogs;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nconst inintialState = {\r\n  messages:   [\r\n    {id: '1', text: 'Hi'},\r\n    {id: '2', text: 'How are you?'},\r\n    {id: '3', text: `Hellow world! Hellow world! Hellow world!}Hellow world! Hellow world!\r\n    Hellow world! Hellow world!`}\r\n  ],\r\n  dialogs : [\r\n    {id: '1', name: 'Sasha'},\r\n    {id: '2', name: 'Kolya'},\r\n    {id: '3', name: 'Sveta'},\r\n    {id: '4', name: 'Tanya'},\r\n    {id: '5', name: 'Medok'},\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = inintialState, action) =>{\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, {id: '6', text: action.newText}],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const sendMessageActionCreator = (text) => ({type: SEND_MESSAGE, newText: text});\r\n\r\nexport default dialogsReducer;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({ isAuth: state.auth.isAuth,\r\n  id: state.auth.id });\r\n\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render(){\r\n      if(!this.props.isAuth) return <Redirect to={'/login'}/>\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n}","import Dialogs from \"./Dialogs\";\r\nimport { sendMessageActionCreator } from \"../../redux/dialogsReducer\";\r\nimport { connect } from 'react-redux';\r\nimport { WithAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\nconst  mapStateToProps = (state) => ({ dialogsPage: state.dialogsPage });\r\n\r\nconst  mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onSendMessage: (text) => {\r\n      dispatch(sendMessageActionCreator(text))\r\n    },\r\n  }\r\n}\r\n\r\n// const AuthRedirectComponent = WithAuthRedirect(Dialogs);\r\n// const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\r\n\r\n// мы заменили предыдущие вызовы ф-ий, одной ф-ей компоуз\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  WithAuthRedirect\r\n)(Dialogs);","import style from \"./News.module.css\";\r\n\r\n\r\nfunction News(props) {\r\n  return (\r\n    <div>\r\n      News\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News;","import style from \"./Settings.module.css\";\r\n\r\n\r\nfunction Settings(props) {\r\n  return (\r\n    <div>\r\n      Settings\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport style from './Pagination.module.css';\r\n\r\n\r\nfunction Pagination({ totalCount, pageSize, currentPage, onClick, portionSize = 10}) {\r\n\r\n  const pagesCount = Math.ceil(totalCount / pageSize);\r\n  const pages = [];\r\n  for(let i = 1; i <= pagesCount; i++){\r\n    pages.push(i);\r\n  }\r\n\r\n  const [portionNumber, setPortionNumber] = React.useState(1);\r\n\r\n  const portionCount = Math.ceil(pagesCount / portionSize);\r\n  const leftBorderNumber = (portionNumber - 1) * portionSize + 1;\r\n  const rightBorderNumber = portionNumber * portionSize;\r\n\r\n\r\n  function handleLeftClick() {\r\n    setPortionNumber(portionNumber - 1);\r\n    onClick((portionNumber - 2) * portionSize + 1);\r\n  }\r\n\r\n  function handleRightClick() {\r\n    setPortionNumber(portionNumber + 1);\r\n    onClick(portionNumber * portionSize + 1);\r\n  }\r\n\r\n  React.useEffect(()=> {\r\n    setPortionNumber(Math.ceil(currentPage / portionSize))\r\n  }, [currentPage, portionSize]);\r\n\r\n  \r\n  return (\r\n    <div className={style.paginator}>\r\n      {portionNumber > 1 && (\r\n        <button className={`${style.left} ${style.arrow}`} onClick={handleLeftClick} />\r\n      )}\r\n      {pages\r\n        .filter((p) =>  p >= leftBorderNumber && p <= rightBorderNumber)\r\n        .map((p) => { return (\r\n          <button\r\n            key={p}\r\n            className={`${style.page} ${p === currentPage && style.page_active}`}\r\n            onClick={() => onClick(p)}\r\n          >\r\n            {p}\r\n          </button>\r\n        )}\r\n      )}\r\n      {portionCount > portionNumber && (\r\n        <button className={`${style.right} ${style.arrow}`} onClick={handleRightClick} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n  \r\nexport default Pagination;","export default __webpack_public_path__ + \"static/media/avatarDefault.b6ecac72.svg\";","import style from './UsersCard.module.css';\r\nimport avatarDefault from \"../../images/avatarDefault.svg\";\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nfunction UserCard({ user, followingInProgress, follow, unfollow }) {\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <NavLink to={'/profile/' + user.id}>\r\n          <img src={!user.photos.small ? avatarDefault : user.photos.small} alt='' className={style.avatar}/>\r\n        </NavLink>\r\n\r\n        {user.followed \r\n          ? <button\r\n              disabled={followingInProgress.some(id  => id === user.id)}\r\n              onClick={() => unfollow(user.id)}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          : <button \r\n              disabled={followingInProgress.some(id  => id === user.id)}\r\n              onClick={() => follow(user.id)}\r\n            >\r\n              Follow\r\n            </button>}\r\n      </div>\r\n      <div>\r\n        <p>{user.name}</p>\r\n        <p>{user.status}</p>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserCard;","import style from './Users.module.css';\r\nimport React from 'react';\r\nimport Pagination from '../Pagination/Pagination';\r\nimport UserCard from '../UserCard/UserCard';\r\n\r\n\r\nfunction Users({\r\n  totalUsersCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  users,\r\n  followingInProgress,\r\n  unfollow,\r\n  follow\r\n}) {\r\n\r\n  return (\r\n    <div>\r\n      <Pagination\r\n        totalCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n        currentPage={currentPage}\r\n        onClick={onPageChanged}\r\n      />\r\n      {users.map((user) => {\r\n        return (\r\n          <UserCard\r\n            key={user.id} \r\n            user={user}\r\n            followingInProgress={followingInProgress}\r\n            follow={follow}\r\n            unfollow={unfollow}\r\n          />)\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;","export default __webpack_public_path__ + \"static/media/preloader.85b18b8e.svg\";","import React from 'react';\r\nimport preloader from '../../../images/preloader.svg';\r\nimport style from './Preloader.module.css';\r\n\r\n\r\n\r\nfunction Preloader(props) {\r\n  return (\r\n    <img className={style.preloader} src={preloader} alt='#' />\r\n  );\r\n}\r\n\r\nexport default Preloader;","import { connect } from \"react-redux\";\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers } from \"../../redux/userReducer\";\r\nimport React from 'react';\r\nimport Users from \"./Users\";\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { WithAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    if(this.props.users.length === 0){\r\n      this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n  };\r\n    \r\n  onPageChanged = (pageNum) => {\r\n    this.props.setCurrentPage(pageNum);\r\n    this.props.getUsers(pageNum, this.props.pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : <Users {...this.props} onPageChanged={this.onPageChanged} />}\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state.usersPage.users,\r\n    pageSize: state.usersPage.pageSize,\r\n    totalUsersCount: state.usersPage.totalUsersCount,\r\n    currentPage: state.usersPage.currentPage,\r\n    isFetching: state.usersPage.isFetching,\r\n    followingInProgress: state.usersPage.followingInProgress,\r\n  }\r\n}\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    getUsers,\r\n  }),\r\n  WithAuthRedirect\r\n)(UsersContainer);\r\n\r\n\r\n\r\n//теперь передаем вместо функции mapDispatchToProps передаем объект,\r\n//ф-ия connect сама возьмет этот объект и сгененирурет коллбэки которые мы реньше прописывали в mapDispatchToProps\r\n\r\n// const AuthRedirectComponent = WithAuthRedirect(UsersContainer);\r\n\r\n\r\n// export default  connect(mapStateToProps, {\r\n//   follow,\r\n//   unfollow,\r\n//   setCurrentPage,\r\n//   toggleFollowingProgress,\r\n//   getUsers,\r\n// })(AuthRedirectComponent);\r\n\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   return {\r\n//     follow: (userId) => {\r\n//       dispatch(followAC(userId));\r\n//     },\r\n//     unfollow: (userId) => {\r\n//       dispatch(unfollowAC(userId));\r\n//     },\r\n//     setUsers: (users) => {\r\n//       dispatch(setUsersAC(users));\r\n//     },\r\n//     setCurrentPage: (pageNum) => {\r\n//       dispatch(setCurrentPageAC(pageNum));\r\n//     },\r\n//     setTotalUsersCount: (totalCount) => {\r\n//       dispatch(setTotalUsersCountAC(totalCount));\r\n//     },\r\n//     toggleIsFetching: (isFetching) => {\r\n//       dispatch(toggleIsFetchingAC(isFetching));\r\n//     }\r\n//   }\r\n// }","import { profileApi, usersApi } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nlet inintialState = {\r\n  posts: [\r\n    {id: '1', text: 'How are you?'},\r\n    {id: '2', text: 'Hellow world!'},\r\n    {id: '3', text: 'Hi'},\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n};\r\n\r\nconst profileReducer = (state = inintialState, action) =>{\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, {id: 4, text: action.newText}],\r\n      };\r\n\r\n    case SET_USER_PROFILE:\r\n      return {...state, profile: action.profile};\r\n\r\n    case SET_STATUS:\r\n      return {...state, status: action.status};\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (text) => ({type: ADD_POST, newText: text});\r\n\r\nconst setUserProfile = (profile) => ({type: SET_USER_PROFILE,  profile: profile});\r\nconst setStatus = (status) => ({type: SET_STATUS,  status: status});\r\n\r\n//thunkCreator из него возращаем непосредственно нашу thunk\r\nexport const getPersonalInfo = (userId) => {\r\n  return async (dispatch) => {\r\n    const data = await usersApi.getUserInfo(userId);\r\n    dispatch(setUserProfile(data));\r\n  }\r\n};\r\n\r\nexport const getStatus = (userId) => {\r\n  return async (dispatch) => {\r\n    const res = await profileApi.getStatus(userId);\r\n    dispatch(setStatus(res.data));\r\n  }\r\n};\r\n\r\nexport const updateStatus = (status) => {\r\n  return async (dispatch) => {\r\n    const res = await profileApi.updateStatus(status);\r\n    if (!res.data.resultCode) {\r\n      dispatch(setStatus(status));\r\n    }\r\n  }\r\n};\r\n\r\nexport default profileReducer;","import style from './Post.module.css';\r\n\r\n\r\nfunction Post({ message }) {\r\n  return (\r\n    <>\r\n      <div className={style.post}>\r\n        <img className={style.avatar} src='https://static.mycity.travel/manage/uploads/7/36/112961/1/2500px-fribourgregion-20190704-dscf3505_3000.jpg' alt=''/>\r\n        <p className={style.text}>{message}</p>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\n\r\nimport style from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport AddMessageForm  from \"../../common/AddMessageForm/AddMessageForm\";\r\n\r\n// {profilePage, addPost}\r\nfunction MyPosts(props) {\r\n\r\n  function handleSubmit(value) {\r\n    props.addPost(value.message);\r\n  }\r\n\r\n  return (\r\n    <div className={style.myPosts_box}>\r\n      <div>\r\n        <h2 className={style.title}>My posts</h2>\r\n        <AddMessageForm onSubmit={handleSubmit} style={style.form}/>\r\n      </div>\r\n      <div className='PostList'>\r\n        {props.posts.map(p => <Post message={p.text} key={p.id}/>)}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyPosts;","import { connect } from 'react-redux';\r\nimport { addPostActionCreator } from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostTex: state.profilePage.newPostTex,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (text) => {\r\n      dispatch(addPostActionCreator(text));\r\n    },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyPosts);","export default __webpack_public_path__ + \"static/media/camera.9436a671.svg\";","import React from 'react';\r\nimport style from './ProfileStatus.module.css';\r\n\r\nfunction ProfileStatus(props) {\r\n\r\n  const [editMode, setEditMode] = React.useState(false);\r\n  const [status, setStatus] = React.useState(props.status);\r\n\r\n\r\n  function activateEditMode() {\r\n    if(props.noChanges){\r\n      setEditMode(false);\r\n      return;\r\n    }\r\n    setEditMode(true);\r\n  };\r\n\r\n  function deactivateEditMode() {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  function handleChangeStatus(e) {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  \r\n  return (\r\n    <div className={style.profile_status}>\r\n      {editMode ? (\r\n        <div>\r\n          <input autoFocus={true} onBlur={deactivateEditMode} value={status} onChange={handleChangeStatus} />\r\n        </div>\r\n        ) : (\r\n          <div>\r\n            <p onClick={activateEditMode}>{props.status || 'No status'}</p>\r\n          </div>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n};\r\n  \r\nexport default ProfileStatus;","import style from './ProfileInfo.module.css';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport camera from '../../../images/camera.svg';\r\nimport avatarDefault from '../../../images/avatarDefault.svg';\r\nimport ProfileStatus from './ProfileStatus';\r\n\r\n\r\nfunction ProfileInfo({ profile, status, updateStatus, idAuthUser}) {\r\n\r\n  if(!profile){\r\n    return <Preloader />\r\n  }\r\n\r\n  return (\r\n    <div className={style.profile_info}>\r\n      <div>\r\n        <img className={`${style.user_photo} ${!profile.photos.large && style.user_photoDefault}`} src={profile.photos.large || avatarDefault } alt='#'/>\r\n      </div>\r\n      <div className={style.description_box}>\r\n        <div className={style.main_info}>\r\n          <h2 className={style.header} >{profile.fullName}</h2>\r\n          <ProfileStatus status={status} updateStatus={updateStatus}\r\n            noChanges={profile.userId !== idAuthUser && true} />\r\n        </div>\r\n        <div className={style.info}>\r\n          <p className={style.text}>\r\n            <span className={style.headline}>About me: </span> \r\n            {profile.aboutMe || 'no description'}\r\n          </p>\r\n          <p className={style.text}>\r\n            <span className={style.headline}>{profile.lookingForAJob ? 'Looking for a job: ' : 'Employed: '}</span> \r\n            {profile.lookingForAJobDescription || 'no description'}\r\n          </p>\r\n        </div>\r\n        <div className={style.photos}>\r\n          <img className={`${style.photo} ${!profile.photos.large && style.photo_default}`} src={profile.photos.large || camera} alt=\"#\"/>\r\n          <img className={`${style.photo} ${!profile.photos.small && style.photo_default}`} src={profile.photos.small || camera} alt=\"\"/>\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;","import style from './Profile.module.css';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nfunction  Profile({ profile, status, updateStatus, id}) {\r\n  return (\r\n    <div className={style.content}>\r\n      <ProfileInfo profile={profile} status={status} updateStatus={updateStatus} idAuthUser={id} />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import { connect } from 'react-redux';\r\nimport { getPersonalInfo, getStatus, updateStatus } from '../../redux/profileReducer';\r\nimport React from 'react';\r\nimport Profile from './Profile'\r\nimport { withRouter } from 'react-router';\r\nimport { WithAuthRedirect } from '../../hoc/WithAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    console.log(this.props)\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) userId = this.props.id;\r\n    this.props.getPersonalInfo(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n            \r\n  render() {\r\n    return (\r\n      <Profile {...this.props} />\r\n    )\r\n  }\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => ({ \r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n});\r\n\r\n\r\n// const AuthRedirectComponent = WithAuthRedirect(ProfileContainer);\r\n// export default connect(mapStateToProps, {getPersonalInfo}) (withRouter(AuthRedirectComponent));\r\n\r\n// мы заменили предыдущие вызовы ф-ий, одной ф-ей компоуз\r\nexport default compose(\r\n  connect(mapStateToProps, {getPersonalInfo, getStatus, updateStatus}),\r\n  withRouter,\r\n  WithAuthRedirect\r\n)(ProfileContainer);","export default __webpack_public_path__ + \"static/media/logo.37c24b2d.svg\";","import logoLink from '../../images/logo.svg';\r\nimport avatarDefault from \"../../images/avatarDefault.svg\";\r\nimport avatarNotAuth from \"../../images/user.svg\";\r\nimport style from './Header.module.css';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nfunction Header({ isAuth, login, logout}) {\r\n  return (\r\n    <header className={style.header}>\r\n      <div className={style.logo_box}>\r\n        <img className={style.logo} src={logoLink} alt=''/>\r\n        <Link to={isAuth ? '/profile' : '/'} className={style.logo_text}>TravelBook</Link>\r\n      </div>\r\n\r\n      {!isAuth && (\r\n        <div className={style.user_box}>\r\n          <img className={`${style.avatar} ${style.avatarNotAuth}`} src={avatarNotAuth} alt=\"\"/>\r\n          <Link className={style.login} to='/'>Sign up</Link>\r\n        </div>\r\n      )}\r\n\r\n      <div className={isAuth ? style.user_box : style.hidden_box}>\r\n        <p className={style.name}>{login}</p>\r\n        <img className={style.avatar} src={avatarDefault} alt=\"\"/>\r\n        <button className={style.logout} onClick={logout} type='button'></button>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import { connect } from 'react-redux';\r\nimport React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport Header from './Header';\r\nimport { logout } from '../../redux/authReducer'\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n         \r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  login: state.auth.login,\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(withRouter(HeaderContainer));","import style from './Friends.module.css';\r\nimport React from 'react';\r\nimport Pagination from '../Pagination/Pagination';\r\nimport UserCard from '../UserCard/UserCard';\r\n\r\n\r\nfunction Friends({\r\n  totalFriendsCount,\r\n  pageFriendsSize,\r\n  currentFriendsPage,\r\n  onPageChanged,\r\n  friends,\r\n  followingInProgress,\r\n  unfollow,\r\n  follow,\r\n}) {\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Pagination\r\n        totalCount={totalFriendsCount}\r\n        pageSize={pageFriendsSize}\r\n        currentPage={currentFriendsPage}\r\n        onClick={onPageChanged}\r\n      />\r\n      {friends.map((user) => {\r\n        return (\r\n          <UserCard\r\n            key={user.id} \r\n            user={user}\r\n            followingInProgress={followingInProgress}\r\n            follow={follow}\r\n            unfollow={unfollow}\r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default  Friends;","import { connect } from \"react-redux\";\r\nimport { follow, unfollow, setCurrentFriendsPage, toggleFollowingProgress, getUserFriends } from \"../../redux/userReducer\";\r\nimport React from 'react';\r\nimport Friends from \"./Friends\";\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { withRouter } from \"react-router\";\r\nimport { WithAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\n\r\n\r\nfunction FriendsContainer({currentFriendsPage, pageFriendsSize, getUserFriends, setCurrentFriendsPage, ...props}) {\r\n\r\n  const onPageChanged = (pageNum) => {\r\n    setCurrentFriendsPage(pageNum);\r\n    getUserFriends(pageNum, pageFriendsSize);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    getUserFriends(currentFriendsPage, pageFriendsSize);\r\n  }, [getUserFriends, currentFriendsPage, pageFriendsSize]);\r\n  \r\n\r\n  return (\r\n    <>\r\n      {props.isFetching ? <Preloader /> : <Friends {...props}\r\n        onPageChanged={onPageChanged}\r\n        currentFriendsPage={currentFriendsPage}\r\n        pageFriendsSize={pageFriendsSize}\r\n      />}\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    totalFriendsCount: state.usersPage.totalFriendsCount,\r\n    pageFriendsSize: state.usersPage.pageFriendsSize,\r\n    currentFriendsPage: state.usersPage.currentFriendsPage,\r\n    friends: state.usersPage.friends,\r\n    isFetching: state.usersPage.isFetching,\r\n    followingInProgress: state.usersPage.followingInProgress,\r\n  }\r\n};\r\n\r\n//теперь передаем вместо функции mapDispatchToProps передаем объект,\r\n//ф-ия connect сама возьмет этот объект и сгененирурет коллбэки которые мы реньше прописывали в mapDispatchToProps\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    setCurrentFriendsPage,\r\n    getUserFriends,\r\n    follow,\r\n    unfollow,\r\n    toggleFollowingProgress,\r\n  }),\r\n  withRouter,\r\n  WithAuthRedirect\r\n)(FriendsContainer);\r\n","import * as Yup from \"yup\";\r\n\r\nconst loginFormSchema = Yup.object().shape({\r\n  email: Yup.string().email().required(\"Email is required\"),\r\n  password: Yup.string()\r\n    .required(\"Password is required\")\r\n    .min(4, \"Password is too short - should be 4 chars min\")\r\n});\r\n\r\nexport default loginFormSchema;","import { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport loginFormSchema from \"../../utils/validation/LoginFormSchema\";\r\nimport {login} from '../../redux/authReducer';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router\";\r\nimport style from './Login.module.css';\r\n\r\n\r\nfunction Login({ login, error }) {\r\n\r\n  const handleSubmit = (values) => {\r\n    login(values);\r\n  };\r\n\r\n  return (\r\n    <div className={style.login_box}>\r\n      <Formik\r\n        initialValues={{ \r\n          email: \"\",\r\n          password: \"\",\r\n          rememberMe: false \r\n        }}\r\n        validationSchema={loginFormSchema}\r\n        onSubmit={handleSubmit}\r\n      >\r\n\r\n        {({ errors, touched, isValid, dirty }) => (\r\n          <div className={style.container}>\r\n            <h1 className={style.title}>Sign in to continue</h1>\r\n            <Form className={style.form}>\r\n              <div className={style.form_row}>\r\n                <label htmlFor=\"email\" className={style.label}>Email</label>\r\n                <Field type=\"email\" name=\"email\" id=\"email\"\r\n                  className={`\r\n                    ${style.input}\r\n                    ${errors.email && touched.email ? style.input_error : null}\r\n                  `}\r\n                />\r\n                <ErrorMessage name=\"email\" component=\"span\" className={style.error} />\r\n              </div>\r\n              \r\n              <div className={style.form_row}>\r\n                <label htmlFor=\"password\" className={style.label}>Password</label>\r\n                <Field type=\"password\" name=\"password\" id=\"password\"\r\n                  className={`\r\n                    ${style.input}\r\n                    ${errors.password && touched.password ? style.input_error : null}\r\n                  `}\r\n                />\r\n                <ErrorMessage name=\"password\" component=\"span\" className={style.error}/>\r\n              </div>\r\n              \r\n              <div className={style.form_checkbox}>\r\n                <label htmlFor=\"rememberMe\" className={style.label}>Remember me</label>\r\n                <Field type=\"checkbox\" name=\"rememberMe\" id=\"rememberMe\" className={style.checkbox}/>\r\n              </div>\r\n\r\n              <button type=\"submit\"\r\n                className={`${style.btn} ${!(dirty && isValid) ? style.btn_disabled : \"\"}`}\r\n                disabled={!(dirty && isValid)}\r\n              >\r\n                Sign in\r\n              </button>\r\n              {error ? (\r\n                <div className={style.server_errorContainer}>\r\n                  <p className={style.server_error}>{`Something wrong!`}</p>\r\n                  <p className={style.server_error}>{error}</p>\r\n                </div>\r\n              ) : null}\r\n            </Form>\r\n          </div>\r\n        )}\r\n\r\n      </Formik>\r\n    </div>\r\n  )\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n    error: state.auth.error,\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, {login})(withRouter(Login));","import { Link } from 'react-router-dom';\r\nimport style from './Landing.module.css';\r\n\r\n\r\n\r\nfunction Landing(props) {\r\n  \r\n  const showNum = () => {\r\n    console.log(props.totalUsersCount)\r\n    const n = String(props.totalUsersCount).split('').reverse().join('');\r\n    const result = n.slice(0, 3) + ' ' + n.slice(3);\r\n    return result.split('').reverse().join('');\r\n  }\r\n\r\n    return (\r\n     <div className={style.content}>\r\n       <div className={style.introduce}>\r\n        <div className={style.text_box}>\r\n          <h1 className={style.title}>See the world of amazind travel</h1>\r\n          <p className={style.subtitle}>Social network of travel lovers</p>\r\n          <Link to='/login' className={style.link}>Sign in</Link>\r\n        </div>\r\n       </div>\r\n       <div className={style.data}>\r\n         <div className={style.data_item}>\r\n            <p className={style.data_nums}>{ showNum() <= 1 ? '11 300' : showNum() }</p>\r\n           <div className={style.liner}></div>\r\n           <p className={style.data_text}>registered<br/>users</p>\r\n         </div>\r\n         <div className={style.data_item}>\r\n           <p className={style.data_nums}>5 300</p>\r\n           <div className={style.liner}></div>\r\n           <p className={style.data_text}>reviews from<br/>different countries</p>\r\n         </div>\r\n         <div className={style.data_item}>\r\n           <p className={style.data_nums}>54 008</p>\r\n           <div className={style.liner}></div>\r\n           <p className={style.data_text}>beautiful<br/>user photo</p>\r\n         </div>\r\n       </div>\r\n     </div>\r\n    )\r\n  }\r\n  \r\n  export default Landing;","import './App.css';\nimport React from 'react';\nimport { Redirect, Route, withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/appReducer'\nimport Navbar from \"./components/Navbar/Navbar\";\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport News from './components/News/News';\nimport Settings from './components/Settings/Settings';\nimport UsersContainer from './components/Users/UsersContainer';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport FriendsContainer from './components/Friends/FriendsContainer';\nimport Login from './components/Login/Login';\nimport Landing from './components/Landing/Landing';\nimport Preloader from './components/common/Preloader/Preloader';\n\n\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  \n  render() {\n    if(!this.props.initialized){\n      return <Preloader />\n    }\n\n\n    return (\n      <div className=\"App\" >\n        <HeaderContainer {...this.props} />\n  \n        {this.props.isAuth &&  (\n          <>\n            <Navbar />\n            <div className='app-content'>\n              <Route path='/profile/:userId?'>\n                <ProfileContainer />\n              </Route>\n              <Route path='/dialogs'>\n                <DialogsContainer />\n              </Route>\n              <Route path='/friends'>\n                <FriendsContainer />\n              </Route>\n              <Route path='/news'>\n                <News />\n              </Route>\n              <Route path='/settings'>\n                <Settings />\n              </Route>\n              <Route path='/users'>\n                <UsersContainer />\n              </Route>\n            </div>\n          </>\n        )}\n\n        <div className='app-landing'>\n\n          <Route exact path='/login'>\n            {this.props.isAuth ? <Redirect to='/profile' /> : <Login />}\n          </Route>\n\n          <Route exact path='/'>\n            <Landing totalUsersCount={this.props.totalUsersCount}/>\n          </Route>\n\n        </div>\n\n        <Route>\n          {this.props.isAuth ? (\n            <Redirect to='/profile'/>\n          ) : (\n            <Redirect to='/'/>\n          )}\n        </Route>\n\n      </div>\n  )};\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login,\n  authUserId: state.auth.id,\n  initialized: state.app.initialized,\n  totalUsersCount: state.usersPage.totalUsersCount,\n});\n\nexport default connect(mapStateToProps, {initializeApp})(withRouter(App));\n","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport userReducer from \"./userReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./appReducer\";\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: userReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import './index.css';\r\nimport React from 'react';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { HashRouter  } from 'react-router-dom';\r\n\r\nimport store from './redux/reduxStore';\r\nimport { Provider } from 'react-redux';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </HashRouter>\r\n  </React.StrictMode>, document.getElementById('root'));\r\n\r\n// ReactDOM.render(\r\n//     <BrowserRouter>\r\n//       <Provider store={store}>\r\n//         <App />\r\n//       </Provider>\r\n//     </BrowserRouter>, document.getElementById('root'));\r\n\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Pagination_page__3ALm-\",\"page_active\":\"Pagination_page_active__5YgsH\",\"paginator\":\"Pagination_paginator__2lOiO\",\"arrow\":\"Pagination_arrow__2JBNs\",\"left\":\"Pagination_left__3OWz-\",\"right\":\"Pagination_right__itvgQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1-R3R\",\"dialogs_list\":\"Dialogs_dialogs_list__259sl\",\"messages\":\"Dialogs_messages__1sBuo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__iFTJX\",\"link\":\"Dialog_link__1rmI7\",\"active\":\"Dialog_active__1AEkN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message_box\":\"Message_message_box__30VK9\",\"text\":\"Message_text__GG0FJ\",\"avatar\":\"Message_avatar__3nTGE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts_box\":\"MyPosts_myPosts_box__1vWVt\",\"title\":\"MyPosts_title__3I_rh\",\"form\":\"MyPosts_form__qT0-R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3rY-N\",\"avatar\":\"Post_avatar__36H_Y\",\"text\":\"Post_text__3l8k_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Navbar_menu__3tK4E\",\"menu_nav\":\"Navbar_menu_nav__3EcIa\",\"menu_list\":\"Navbar_menu_list__2lM7s\",\"item\":\"Navbar_item__1P1wq\",\"link\":\"Navbar_link__2nDx-\",\"active\":\"Navbar_active__1ofAm\",\"picture\":\"Navbar_picture__3x2Dp\"};"],"sourceRoot":""}