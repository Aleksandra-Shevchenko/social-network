{"version":3,"sources":["components/common/AddMessageForm/AddMessageForm.js","utils/validation/validationFormSchema.js","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/ProfileInfo/ProfileStatus.module.css","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","images/camera.svg","components/Profile/ProfileInfo/ProfileStatus.js","components/Profile/ProfileInfo/ProfileDataForm.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js","hoc/WithAuthRedirect.js"],"names":["AddMessageForm","props","initialValues","message","onSubmit","values","setSubmitting","isSubmitting","className","style","type","name","placeholder","disabled","loginFormSchema","Yup","shape","email","required","password","min","profileFormSchema","fullName","max","aboutMe","lookingForAJobDescription","module","exports","Post","post","avatar","src","alt","text","MyPosts","myPosts_box","title","value","addPost","form","posts","map","p","id","connect","state","profilePage","newPostTex","dispatch","addPostActionCreator","ProfileStatus","React","useState","editMode","setEditMode","status","setStatus","useEffect","profile_status","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","onClick","noChanges","ProfileDataForm","profile","error","saveProfile","idAuthUser","onEditMode","contacts","Object","keys","reduce","obj","key","console","log","login_box","lookingForAJob","validationSchema","errors","touched","isValid","dirty","container","form_row","htmlFor","label","input","input_error","component","as","form_checkbox","checkbox","btn","btn_disabled","server_errorContainer","server_error","Contact","ProfileData","isOwner","onChangePhoto","profile_info","photo_box","user_photo","photos","large","user_photoDefault","avatarDefault","change_photo","description_box","main_info","header","userId","info","headline","photo","photo_default","camera","small","ProfileInfo","savePhoto","target","files","length","Preloader","Profile","content","MyPostsContainer","ProfileContainer","this","match","params","getPersonalInfo","getStatus","refreshProfile","prevProps","prevState","snapshot","Component","compose","withRouter","WithAuthRedirect","mapStateToPropsForRedirect","isAuth","auth","RedirectComponent","to"],"mappings":"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","file":"static/js/5.df75c5ae.chunk.js","sourcesContent":["import { Field, Form, Formik } from 'formik';\r\n\r\nfunction AddMessageForm(props) {\r\n  const submit = (values, { setSubmitting }) => {\r\n    props.onSubmit(values);\r\n  }\r\n  \r\n  return (\r\n    <Formik\r\n      initialValues={{ message: \"\" }}\r\n      onSubmit={submit}\r\n    >\r\n      {({ isSubmitting }) => (\r\n        <Form className={props.style}>\r\n          <Field type=\"text\" name=\"message\" placeholder='Enter your message'/>\r\n          <button type=\"submit\" disabled={isSubmitting}>Send</button>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  )\r\n}\r\n\r\nexport default AddMessageForm;","import * as Yup from \"yup\";\r\n\r\nexport const loginFormSchema = Yup.object().shape({\r\n  email: Yup.string().email().required(\"Email is required\"),\r\n  password: Yup.string()\r\n    .required(\"Password is required\")\r\n    .min(4, \"Password is too short - should be 4 chars min\")\r\n});\r\n\r\nexport const profileFormSchema = Yup.object().shape({\r\n  fullName: Yup.string()\r\n    .required(\"Name is required\")\r\n    .min(2, \"Name is too short - should be 2 chars min\")\r\n    .max(40, \"Name is too long - should be 40 chars max\"),\r\n  aboutMe: Yup.string(),\r\n  lookingForAJobDescription: Yup.string(),\r\n});\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__1KZ02\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts_box\":\"MyPosts_myPosts_box__1vWVt\",\"title\":\"MyPosts_title__3I_rh\",\"form\":\"MyPosts_form__qT0-R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3rY-N\",\"avatar\":\"Post_avatar__36H_Y\",\"text\":\"Post_text__3l8k_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_info\":\"ProfileInfo_profile_info__2mOSo\",\"photo_box\":\"ProfileInfo_photo_box__hHTGL\",\"change_photo\":\"ProfileInfo_change_photo__2NOZE\",\"description_box\":\"ProfileInfo_description_box__22GFZ\",\"user_photo\":\"ProfileInfo_user_photo__2q-zf\",\"user_photoDefault\":\"ProfileInfo_user_photoDefault__3Yiy2\",\"header\":\"ProfileInfo_header__3B74Z\",\"caption\":\"ProfileInfo_caption__1Orjr\",\"info\":\"ProfileInfo_info__2fHGV\",\"headline\":\"ProfileInfo_headline__Ng3FZ\",\"text\":\"ProfileInfo_text__33OWi\",\"photos\":\"ProfileInfo_photos__3NjGQ\",\"photo\":\"ProfileInfo_photo___q1pS\",\"photo_default\":\"ProfileInfo_photo_default__29Y-k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_info\":\"ProfileStatus_profile_info__31_wB\",\"description_box\":\"ProfileStatus_description_box__1jV-l\",\"user_photo\":\"ProfileStatus_user_photo__1Gzwh\",\"user_photoDefault\":\"ProfileStatus_user_photoDefault__1tNob\",\"header\":\"ProfileStatus_header__23dCf\",\"caption\":\"ProfileStatus_caption__3qmL3\",\"info\":\"ProfileStatus_info__SmNuY\",\"headline\":\"ProfileStatus_headline__2PVkF\",\"text\":\"ProfileStatus_text__13i11\",\"photos\":\"ProfileStatus_photos__2D9fU\",\"photo\":\"ProfileStatus_photo__1x8f0\",\"photo_default\":\"ProfileStatus_photo_default__WggP-\"};","import style from './Post.module.css';\r\n\r\n\r\nfunction Post({ message }) {\r\n  return (\r\n    <>\r\n      <div className={style.post}>\r\n        <img className={style.avatar} src='https://static.mycity.travel/manage/uploads/7/36/112961/1/2500px-fribourgregion-20190704-dscf3505_3000.jpg' alt=''/>\r\n        <p className={style.text}>{message}</p>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\n\r\nimport style from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport AddMessageForm  from \"../../common/AddMessageForm/AddMessageForm\";\r\n\r\n// {profilePage, addPost}\r\nfunction MyPosts(props) {\r\n\r\n  function handleSubmit(value) {\r\n    props.addPost(value.message);\r\n  }\r\n\r\n  return (\r\n    <div className={style.myPosts_box}>\r\n      <div>\r\n        <h2 className={style.title}>My posts</h2>\r\n        <AddMessageForm onSubmit={handleSubmit} style={style.form}/>\r\n      </div>\r\n      <div className='PostList'>\r\n        {props.posts.map(p => <Post message={p.text} key={p.id}/>)}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyPosts;","import { connect } from 'react-redux';\r\nimport { addPostActionCreator } from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostTex: state.profilePage.newPostTex,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (text) => {\r\n      dispatch(addPostActionCreator(text));\r\n    },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyPosts);","export default __webpack_public_path__ + \"static/media/camera.9436a671.svg\";","import React from 'react';\r\nimport style from './ProfileStatus.module.css';\r\n\r\nfunction ProfileStatus(props) {\r\n\r\n  const [editMode, setEditMode] = React.useState(false);\r\n  const [status, setStatus] = React.useState(props.status);\r\n\r\n\r\n  function activateEditMode() {\r\n    if(props.noChanges){\r\n      setEditMode(false);\r\n      return;\r\n    }\r\n    setEditMode(true);\r\n  };\r\n\r\n  function deactivateEditMode() {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  function handleChangeStatus(e) {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  \r\n  return (\r\n    <div className={style.profile_status}>\r\n      {editMode ? (\r\n        <div>\r\n          <input autoFocus={true} onBlur={deactivateEditMode} value={status} onChange={handleChangeStatus} />\r\n        </div>\r\n        ) : (\r\n          <div>\r\n            <p onClick={activateEditMode}>{props.status || 'No status'}</p>\r\n          </div>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n};\r\n  \r\nexport default ProfileStatus;","import style from './ProfileDataForm.module.css';\r\nimport { profileFormSchema } from \"../../../utils/validation/validationFormSchema\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport React from 'react';\r\n\r\n\r\nfunction ProfileDataForm ({profile, error, saveProfile, idAuthUser, onEditMode}) {\r\n\r\n  const handleSubmit = (values) => {\r\n    saveProfile(values, idAuthUser);\r\n    console.log(values);\r\n  };\r\n\r\n  const contacts = Object.keys(profile.contacts).reduce((obj, key) => {\r\n    obj[key] = profile.contacts[key] ? profile.contacts[key] : '';\r\n    return obj;\r\n  }, {});\r\n\r\n  console.log(contacts);\r\n\r\n  return ( \r\n    <div className={style.login_box}>\r\n      <Formik\r\n        initialValues={{ \r\n          fullName: profile.fullName,\r\n          aboutMe: profile.aboutMe ? profile.aboutMe : \"\",\r\n          lookingForAJobDescription: profile.lookingForAJobDescription ? profile.lookingForAJobDescription : \"\",\r\n          lookingForAJob: profile.lookingForAJob,\r\n          ...contacts,\r\n        }}\r\n        validationSchema={profileFormSchema}\r\n        onSubmit={handleSubmit}\r\n      >\r\n\r\n\r\n\r\n        {({ errors, touched, isValid, dirty }) => (\r\n          <div className={style.container}>\r\n            <h1 className={style.title}>HH</h1>\r\n\r\n            <button onClick={onEditMode}>exit edit mode</button>\r\n\r\n            <Form className={style.form}>\r\n              <div className={style.form_row}>\r\n                <label htmlFor=\"fullName\" className={style.label}>Full name</label>\r\n                <Field type=\"text\" name=\"fullName\" id=\"fullName\"\r\n                  className={`\r\n                    ${style.input}\r\n                    ${errors.fullName && touched.fullName ? style.input_error : null}\r\n                  `}\r\n                />\r\n                <ErrorMessage name=\"fullName\" component=\"span\" className={style.error} />\r\n              </div>\r\n              \r\n              <div className={style.form_row}>\r\n                <label htmlFor=\"aboutMe\" className={style.label}>About me</label>\r\n                <Field  as=\"textarea\" type=\"text\" name=\"aboutMe\" id=\"aboutMe\"\r\n                  className={`\r\n                    ${style.input}\r\n                    ${errors.aboutMe && touched.aboutMe ? style.input_error : null}\r\n                  `}\r\n                />\r\n                <ErrorMessage name=\"aboutMe\" component=\"span\" className={style.error}/>\r\n              </div>\r\n\r\n              <div className={style.form_row}>\r\n                <label htmlFor=\"lookingForAJobDescription\" className={style.label}>Professional skills</label>\r\n                <Field  as=\"textarea\" type=\"text\" name=\"lookingForAJobDescription\" id=\"lookingForAJobDescription\"\r\n                  className={`\r\n                    ${style.input}\r\n                    ${errors.lookingForAJobDescription && touched.lookingForAJobDescription ? style.input_error : null}\r\n                  `}\r\n                />\r\n                <ErrorMessage name=\"lookingForAJobDescription\" component=\"span\" className={style.error}/>\r\n              </div>\r\n              \r\n              <div className={style.form_checkbox}>\r\n                <label htmlFor=\"lookingForAJob\" className={style.label}>Looking for a job</label>\r\n                <Field type=\"checkbox\" name=\"lookingForAJob\" id=\"lookingForAJob\" className={style.checkbox}/>\r\n              </div>\r\n\r\n\r\n\r\n\r\n              <div> Contacts {Object.keys(profile.contacts).map((key) => {\r\n                return (\r\n                  <div className={style.form_row} key={key}>\r\n                    <label htmlFor={key} className={style.label}>{key}</label>\r\n                      <Field type=\"text\" name={key} id={key}\r\n                        className={`\r\n                        ${style.input}\r\n                        ${errors[key] && touched[key] ? style.input_error : null}\r\n                      `}\r\n                    />\r\n                    <ErrorMessage name={key} component=\"span\" className={style.error}/>\r\n                  </div>\r\n                )\r\n                })}\r\n              </div>\r\n\r\n\r\n\r\n              <button type=\"submit\"\r\n                className={`${style.btn} ${!(dirty && isValid) ? style.btn_disabled : \"\"}`}\r\n                disabled={!(dirty && isValid)}\r\n              >\r\n                Save\r\n              </button>\r\n              {error ? (\r\n                <div className={style.server_errorContainer}>\r\n                  <p className={style.server_error}>{`Something wrong!`}</p>\r\n                  <p className={style.server_error}>{error}</p>\r\n                </div>\r\n              ) : null}\r\n            </Form>\r\n          </div>\r\n        )}\r\n\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     isAuth: state.auth.isAuth,\r\n//     error: state.auth.error,\r\n//   }\r\n// };\r\n\r\n// export default connect(mapStateToProps, {ProfileDataForm})(withRouter(ProfileDataForm));\r\n\r\nexport default ProfileDataForm;\r\n\r\n","import style from './ProfileInfo.module.css';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport camera from '../../../images/camera.svg';\r\nimport avatarDefault from '../../../images/avatarDefault.svg';\r\nimport ProfileStatus from './ProfileStatus';\r\nimport ProfileDataForm from './ProfileDataForm';\r\nimport React from 'react';\r\n\r\n\r\n\r\nfunction ProfileInfo({ profile, status, updateStatus, idAuthUser, isOwner, savePhoto, saveProfile, error}) {\r\n\r\n  const [editMode, setEditMode] = React.useState(false);\r\n\r\n  function handlePhotoSelected(e) {\r\n    if(e.target.files.length){\r\n      savePhoto(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  function handleActiveEditMode() {\r\n    setEditMode(true);\r\n  };\r\n\r\n  function handleExitEditMode() {\r\n    setEditMode(false);\r\n  };\r\n\r\n\r\n  if(!profile){\r\n    return <Preloader />\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {editMode ? (\r\n        <ProfileDataForm profile={profile} isOwner={isOwner} saveProfile={saveProfile} idAuthUser={idAuthUser} onEditMode={handleExitEditMode} error={error}/>\r\n        ) : (\r\n          <ProfileData\r\n            profile={profile}\r\n            isOwner={isOwner}\r\n            onEditMode={handleActiveEditMode}\r\n            onChangePhoto={handlePhotoSelected}\r\n            status={status}\r\n            updateStatus={updateStatus}\r\n            idAuthUser={idAuthUser}\r\n          />\r\n        )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Contact = ({title, value}) => {\r\n  return (\r\n    <div>{title}: {value}</div>\r\n  )\r\n};\r\n\r\nconst ProfileData = ({profile, isOwner, onChangePhoto, onEditMode, status, updateStatus, idAuthUser, }) => { \r\n  return (\r\n    <div className={style.profile_info}>\r\n      <div className={style.photo_box}>\r\n        <img className={`${style.user_photo} ${!profile.photos.large && style.user_photoDefault}`} src={profile.photos.large || avatarDefault } alt='#'/>\r\n        {isOwner && (\r\n          <input\r\n            type={'file'}\r\n            onChange={onChangePhoto} \r\n            className={style.change_photo}\r\n          />\r\n        )}\r\n      </div>\r\n      <div className={style.description_box}>\r\n        <div className={style.main_info}>\r\n          <h2 className={style.header} >{profile.fullName}</h2>\r\n          <ProfileStatus status={status} updateStatus={updateStatus}\r\n            noChanges={profile.userId !== idAuthUser && true} />\r\n        </div>\r\n\r\n        {isOwner && <button onClick={onEditMode}>Edit</button>}\r\n\r\n        <div className={style.info}>\r\n          <p className={style.text}>\r\n            <span className={style.headline}>About me: </span> \r\n            {profile.aboutMe || 'no description'}\r\n          </p>\r\n          <p className={style.text}>\r\n            <span className={style.headline}>{profile.lookingForAJob ? 'Looking for a job' : 'Employed'}</span> \r\n          </p>\r\n          <p className={style.text}>\r\n            <span className={style.headline}>Professional skills: </span> \r\n            {profile.lookingForAJobDescription || 'no description'}\r\n          </p>\r\n          <div> Contacts : {Object.keys(profile.contacts).map((key) => {\r\n            return <Contact key={key} title={key} value={profile.contacts[key]}/>\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className={style.photos}>\r\n          <img className={`${style.photo} ${!profile.photos.large && style.photo_default}`} src={profile.photos.large || camera} alt=\"#\"/>\r\n          <img className={`${style.photo} ${!profile.photos.small && style.photo_default}`} src={profile.photos.small || camera} alt=\"\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\n\r\nexport default ProfileInfo;","import style from './Profile.module.css';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nfunction  Profile({ profile, status, updateStatus, id, isOwner, savePhoto, saveProfile, error}) {\r\n  return (\r\n    <div className={style.content}>\r\n      <ProfileInfo\r\n        profile={profile}\r\n        status={status}\r\n        updateStatus={updateStatus}\r\n        idAuthUser={id}\r\n        isOwner={isOwner}\r\n        savePhoto={savePhoto}\r\n        saveProfile={saveProfile} \r\n        error={error} \r\n      />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import { connect } from 'react-redux';\r\nimport { getPersonalInfo, getStatus, updateStatus, savePhoto, saveProfile } from '../../redux/profileReducer';\r\nimport React from 'react';\r\nimport Profile from './Profile'\r\nimport { withRouter } from 'react-router';\r\nimport { WithAuthRedirect } from '../../hoc/WithAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  refreshProfile() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) userId = this.props.id;\r\n    this.props.getPersonalInfo(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if(this.props.match.params.userId !== prevProps.match.params.userId){\r\n      this.refreshProfile();\r\n    }\r\n  }\r\n            \r\n  render() {\r\n    return (\r\n      <Profile {...this.props} isOwner={!this.props.match.params.userId}/>\r\n    )\r\n  }\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => ({ \r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  error: state.profilePage.error,\r\n});\r\n\r\n\r\n// const AuthRedirectComponent = WithAuthRedirect(ProfileContainer);\r\n// export default connect(mapStateToProps, {getPersonalInfo}) (withRouter(AuthRedirectComponent));\r\n\r\n// мы заменили предыдущие вызовы ф-ий, одной ф-ей компоуз\r\nexport default compose(\r\n  connect(mapStateToProps, {getPersonalInfo, getStatus, updateStatus, savePhoto, saveProfile}),\r\n  withRouter,\r\n  WithAuthRedirect\r\n)(ProfileContainer);","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({ isAuth: state.auth.isAuth,\r\n  id: state.auth.id });\r\n\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render(){\r\n      if(!this.props.isAuth) return <Redirect to={'/login'}/>\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n}"],"sourceRoot":""}