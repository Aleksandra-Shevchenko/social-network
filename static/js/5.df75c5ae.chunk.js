(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[5],{109:function(e,t,o){"use strict";var a=o(108),s=o(0);t.a=function(e){return Object(s.jsx)(a.d,{initialValues:{message:""},onSubmit:function(t,o){o.setSubmitting;e.onSubmit(t)},children:function(t){var o=t.isSubmitting;return Object(s.jsxs)(a.c,{className:e.style,children:[Object(s.jsx)(a.b,{type:"text",name:"message",placeholder:"Enter your message"}),Object(s.jsx)("button",{type:"submit",disabled:o,children:"Send"})]})}})}},115:function(e,t,o){"use strict";o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return n}));var a=o(150),s=a.a().shape({email:a.b().email().required("Email is required"),password:a.b().required("Password is required").min(4,"Password is too short - should be 4 chars min")}),n=a.a().shape({fullName:a.b().required("Name is required").min(2,"Name is too short - should be 2 chars min").max(40,"Name is too long - should be 40 chars max"),aboutMe:a.b(),lookingForAJobDescription:a.b()})},158:function(e,t,o){e.exports={content:"Profile_content__1KZ02"}},159:function(e,t,o){e.exports={myPosts_box:"MyPosts_myPosts_box__1vWVt",title:"MyPosts_title__3I_rh",form:"MyPosts_form__qT0-R"}},160:function(e,t,o){e.exports={post:"Post_post__3rY-N",avatar:"Post_avatar__36H_Y",text:"Post_text__3l8k_"}},161:function(e,t,o){e.exports={profile_info:"ProfileInfo_profile_info__2mOSo",photo_box:"ProfileInfo_photo_box__hHTGL",change_photo:"ProfileInfo_change_photo__2NOZE",description_box:"ProfileInfo_description_box__22GFZ",user_photo:"ProfileInfo_user_photo__2q-zf",user_photoDefault:"ProfileInfo_user_photoDefault__3Yiy2",header:"ProfileInfo_header__3B74Z",caption:"ProfileInfo_caption__1Orjr",info:"ProfileInfo_info__2fHGV",headline:"ProfileInfo_headline__Ng3FZ",text:"ProfileInfo_text__33OWi",photos:"ProfileInfo_photos__3NjGQ",photo:"ProfileInfo_photo___q1pS",photo_default:"ProfileInfo_photo_default__29Y-k"}},162:function(e,t,o){e.exports={profile_info:"ProfileStatus_profile_info__31_wB",description_box:"ProfileStatus_description_box__1jV-l",user_photo:"ProfileStatus_user_photo__1Gzwh",user_photoDefault:"ProfileStatus_user_photoDefault__1tNob",header:"ProfileStatus_header__23dCf",caption:"ProfileStatus_caption__3qmL3",info:"ProfileStatus_info__SmNuY",headline:"ProfileStatus_headline__2PVkF",text:"ProfileStatus_text__13i11",photos:"ProfileStatus_photos__2D9fU",photo:"ProfileStatus_photo__1x8f0",photo_default:"ProfileStatus_photo_default__WggP-"}},163:function(e,t,o){},270:function(e,t,o){"use strict";o.r(t);var a=o(2),s=o(25),n=o(26),r=o(27),i=o(28),c=o(20),l=o(42),u=o(1),b=o.n(u),j=o(158),d=o.n(j),f=o(159),p=o.n(f),h=o(160),m=o.n(h),_=o(0);var x=function(e){var t=e.message;return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:m.a.post,children:[Object(_.jsx)("img",{className:m.a.avatar,src:"https://static.mycity.travel/manage/uploads/7/36/112961/1/2500px-fribourgregion-20190704-dscf3505_3000.jpg",alt:""}),Object(_.jsx)("p",{className:m.a.text,children:t})]})})},O=o(109);var v=function(e){return Object(_.jsxs)("div",{className:p.a.myPosts_box,children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("h2",{className:p.a.title,children:"My posts"}),Object(_.jsx)(O.a,{onSubmit:function(t){e.addPost(t.message)},style:p.a.form})]}),Object(_.jsx)("div",{className:"PostList",children:e.posts.map((function(e){return Object(_.jsx)(x,{message:e.text},e.id)}))})]})},g=Object(c.b)((function(e){return{posts:e.profilePage.posts,newPostTex:e.profilePage.newPostTex}}),(function(e){return{addPost:function(t){e(Object(l.a)(t))}}}))(v),N=o(95),P=o(161),k=o.n(P),S=o(19),y=o.p+"static/media/camera.9436a671.svg",F=o(40),A=o(162),w=o.n(A);var I=function(e){var t=b.a.useState(!1),o=Object(N.a)(t,2),a=o[0],s=o[1],n=b.a.useState(e.status),r=Object(N.a)(n,2),i=r[0],c=r[1];return b.a.useEffect((function(){c(e.status)}),[e.status]),Object(_.jsx)("div",{className:w.a.profile_status,children:a?Object(_.jsx)("div",{children:Object(_.jsx)("input",{autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(i)},value:i,onChange:function(e){c(e.currentTarget.value)}})}):Object(_.jsx)("div",{children:Object(_.jsx)("p",{onClick:function(){e.noChanges?s(!1):s(!0)},children:e.status||"No status"})})})},M=o(163),D=o.n(M),J=o(115),C=o(108);var q=function(e){var t=e.profile,o=e.error,s=e.saveProfile,n=e.idAuthUser,r=e.onEditMode,i=Object.keys(t.contacts).reduce((function(e,o){return e[o]=t.contacts[o]?t.contacts[o]:"",e}),{});return console.log(i),Object(_.jsx)("div",{className:D.a.login_box,children:Object(_.jsx)(C.d,{initialValues:Object(a.a)({fullName:t.fullName,aboutMe:t.aboutMe?t.aboutMe:"",lookingForAJobDescription:t.lookingForAJobDescription?t.lookingForAJobDescription:"",lookingForAJob:t.lookingForAJob},i),validationSchema:J.b,onSubmit:function(e){s(e,n),console.log(e)},children:function(e){var a=e.errors,s=e.touched,n=e.isValid,i=e.dirty;return Object(_.jsxs)("div",{className:D.a.container,children:[Object(_.jsx)("h1",{className:D.a.title,children:"HH"}),Object(_.jsx)("button",{onClick:r,children:"exit edit mode"}),Object(_.jsxs)(C.c,{className:D.a.form,children:[Object(_.jsxs)("div",{className:D.a.form_row,children:[Object(_.jsx)("label",{htmlFor:"fullName",className:D.a.label,children:"Full name"}),Object(_.jsx)(C.b,{type:"text",name:"fullName",id:"fullName",className:"\n                    ".concat(D.a.input,"\n                    ").concat(a.fullName&&s.fullName?D.a.input_error:null,"\n                  ")}),Object(_.jsx)(C.a,{name:"fullName",component:"span",className:D.a.error})]}),Object(_.jsxs)("div",{className:D.a.form_row,children:[Object(_.jsx)("label",{htmlFor:"aboutMe",className:D.a.label,children:"About me"}),Object(_.jsx)(C.b,{as:"textarea",type:"text",name:"aboutMe",id:"aboutMe",className:"\n                    ".concat(D.a.input,"\n                    ").concat(a.aboutMe&&s.aboutMe?D.a.input_error:null,"\n                  ")}),Object(_.jsx)(C.a,{name:"aboutMe",component:"span",className:D.a.error})]}),Object(_.jsxs)("div",{className:D.a.form_row,children:[Object(_.jsx)("label",{htmlFor:"lookingForAJobDescription",className:D.a.label,children:"Professional skills"}),Object(_.jsx)(C.b,{as:"textarea",type:"text",name:"lookingForAJobDescription",id:"lookingForAJobDescription",className:"\n                    ".concat(D.a.input,"\n                    ").concat(a.lookingForAJobDescription&&s.lookingForAJobDescription?D.a.input_error:null,"\n                  ")}),Object(_.jsx)(C.a,{name:"lookingForAJobDescription",component:"span",className:D.a.error})]}),Object(_.jsxs)("div",{className:D.a.form_checkbox,children:[Object(_.jsx)("label",{htmlFor:"lookingForAJob",className:D.a.label,children:"Looking for a job"}),Object(_.jsx)(C.b,{type:"checkbox",name:"lookingForAJob",id:"lookingForAJob",className:D.a.checkbox})]}),Object(_.jsxs)("div",{children:[" Contacts ",Object.keys(t.contacts).map((function(e){return Object(_.jsxs)("div",{className:D.a.form_row,children:[Object(_.jsx)("label",{htmlFor:e,className:D.a.label,children:e}),Object(_.jsx)(C.b,{type:"text",name:e,id:e,className:"\n                        ".concat(D.a.input,"\n                        ").concat(a[e]&&s[e]?D.a.input_error:null,"\n                      ")}),Object(_.jsx)(C.a,{name:e,component:"span",className:D.a.error})]},e)}))]}),Object(_.jsx)("button",{type:"submit",className:"".concat(D.a.btn," ").concat(i&&n?"":D.a.btn_disabled),disabled:!(i&&n),children:"Save"}),o?Object(_.jsxs)("div",{className:D.a.server_errorContainer,children:[Object(_.jsx)("p",{className:D.a.server_error,children:"Something wrong!"}),Object(_.jsx)("p",{className:D.a.server_error,children:o})]}):null]})]})}})})};var E=function(e){var t=e.title,o=e.value;return Object(_.jsxs)("div",{children:[t,": ",o]})},U=function(e){var t=e.profile,o=e.isOwner,a=e.onChangePhoto,s=e.onEditMode,n=e.status,r=e.updateStatus,i=e.idAuthUser;return Object(_.jsxs)("div",{className:k.a.profile_info,children:[Object(_.jsxs)("div",{className:k.a.photo_box,children:[Object(_.jsx)("img",{className:"".concat(k.a.user_photo," ").concat(!t.photos.large&&k.a.user_photoDefault),src:t.photos.large||F.a,alt:"#"}),o&&Object(_.jsx)("input",{type:"file",onChange:a,className:k.a.change_photo})]}),Object(_.jsxs)("div",{className:k.a.description_box,children:[Object(_.jsxs)("div",{className:k.a.main_info,children:[Object(_.jsx)("h2",{className:k.a.header,children:t.fullName}),Object(_.jsx)(I,{status:n,updateStatus:r,noChanges:t.userId!==i&&!0})]}),o&&Object(_.jsx)("button",{onClick:s,children:"Edit"}),Object(_.jsxs)("div",{className:k.a.info,children:[Object(_.jsxs)("p",{className:k.a.text,children:[Object(_.jsx)("span",{className:k.a.headline,children:"About me: "}),t.aboutMe||"no description"]}),Object(_.jsx)("p",{className:k.a.text,children:Object(_.jsx)("span",{className:k.a.headline,children:t.lookingForAJob?"Looking for a job":"Employed"})}),Object(_.jsxs)("p",{className:k.a.text,children:[Object(_.jsx)("span",{className:k.a.headline,children:"Professional skills: "}),t.lookingForAJobDescription||"no description"]}),Object(_.jsxs)("div",{children:[" Contacts : ",Object.keys(t.contacts).map((function(e){return Object(_.jsx)(E,{title:e,value:t.contacts[e]},e)}))]})]}),Object(_.jsxs)("div",{className:k.a.photos,children:[Object(_.jsx)("img",{className:"".concat(k.a.photo," ").concat(!t.photos.large&&k.a.photo_default),src:t.photos.large||y,alt:"#"}),Object(_.jsx)("img",{className:"".concat(k.a.photo," ").concat(!t.photos.small&&k.a.photo_default),src:t.photos.small||y,alt:""})]})]})]})},V=function(e){var t=e.profile,o=e.status,a=e.updateStatus,s=e.idAuthUser,n=e.isOwner,r=e.savePhoto,i=e.saveProfile,c=e.error,l=b.a.useState(!1),u=Object(N.a)(l,2),j=u[0],d=u[1];return t?Object(_.jsx)(_.Fragment,{children:j?Object(_.jsx)(q,{profile:t,isOwner:n,saveProfile:i,idAuthUser:s,onEditMode:function(){d(!1)},error:c}):Object(_.jsx)(U,{profile:t,isOwner:n,onEditMode:function(){d(!0)},onChangePhoto:function(e){e.target.files.length&&r(e.target.files[0])},status:o,updateStatus:a,idAuthUser:s})}):Object(_.jsx)(S.a,{})};var G=function(e){var t=e.profile,o=e.status,a=e.updateStatus,s=e.id,n=e.isOwner,r=e.savePhoto,i=e.saveProfile,c=e.error;return Object(_.jsxs)("div",{className:d.a.content,children:[Object(_.jsx)(V,{profile:t,status:o,updateStatus:a,idAuthUser:s,isOwner:n,savePhoto:r,saveProfile:i,error:c}),Object(_.jsx)(g,{})]})},H=o(3),L=o(96),T=o(18),Y=function(e){Object(r.a)(o,e);var t=Object(i.a)(o);function o(){return Object(s.a)(this,o),t.apply(this,arguments)}return Object(n.a)(o,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.id),this.props.getPersonalInfo(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,o){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(_.jsx)(G,Object(a.a)(Object(a.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),o}(b.a.Component);t.default=Object(T.d)(Object(c.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,error:e.profilePage.error}}),{getPersonalInfo:l.c,getStatus:l.d,updateStatus:l.g,savePhoto:l.e,saveProfile:l.f}),H.f,L.a)(Y)},96:function(e,t,o){"use strict";o.d(t,"a",(function(){return f}));var a=o(2),s=o(25),n=o(26),r=o(27),i=o(28),c=o(1),l=o.n(c),u=o(3),b=o(20),j=o(0),d=function(e){return{isAuth:e.auth.isAuth,id:e.auth.id}},f=function(e){var t=function(t){Object(r.a)(c,t);var o=Object(i.a)(c);function c(){return Object(s.a)(this,c),o.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(e,Object(a.a)({},this.props)):Object(j.jsx)(u.a,{to:"/login"})}}]),c}(l.a.Component);return Object(b.b)(d)(t)}}}]);
//# sourceMappingURL=5.df75c5ae.chunk.js.map