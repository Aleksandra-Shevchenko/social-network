{"version":3,"sources":["components/Header/Header.module.css","images/preloader.svg","components/common/Preloader/Preloader.js","redux/authReducer.js","redux/profileReducer.js","utils/utils.js","redux/userReducer.js","images/avatarDefault.svg","redux/dialogsReducer.js","components/common/Preloader/Preloader.module.css","components/Navbar/Navbar.module.css","components/Landing/Landing.module.css","api/api.js","reportWebVitals.js","redux/appReducer.js","images/email.svg","images/settings.svg","images/friends.svg","images/user.svg","images/news.svg","components/Navbar/Navbar.js","components/News/News.js","components/Settings/Settings.js","images/logo.svg","components/Header/Header.js","components/Header/HeaderContainer.js","components/Landing/Landing.js","App.js","redux/reduxStore.js","index.js"],"names":["module","exports","Preloader","props","className","style","preloader","src","alt","SET_AUTH_USER_DATA","SET_ERROR","inintialState","id","email","login","isAuth","isFetching","error","profile","setAuthUserData","data","type","getAuthUser","dispatch","a","authApi","authUser","res","resultCode","values","err","messages","errorMessage","logout","authReducer","state","action","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","TOGGLE_IS_FETCHING","posts","text","status","addPostActionCreator","newText","toggleIsFetching","setStatus","getPersonalInfo","userId","usersApi","getUserInfo","getStatus","profileApi","updateStatus","savePhoto","file","photos","saveProfile","Promise","reject","profileReducer","updateObjectInArr","items","itemId","objPropName","newObjProp","map","el","FOLLOW","UNFOLLOW","SET_USERS","SET_FRIENDS","SET_FRIENDS_AFTER_DELETE","SET_CURRENT_PAGE","SET_CURRENT_FRIENDS_PAGE","SET_TOTAL_USERS_COUNT","SET_TOTAL_FRIENDS_COUNT","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","followingInProgress","friends","currentFriendsPage","pageFriendsSize","totalFriendsCount","followSuccess","unfollowSuccess","setUsers","setCurrentPage","page","setCurrentFriendsPage","setTotalUsersCount","num","toggleFollowingProgress","progress","setFriends","setFriendsAfterDelete","setTotalFriendsCount","getUsersOrFriends","apiMethod","actionCreatorSetItems","actionCreatorTotalCount","totalCount","followUnfollowFlow","actionCreator","getUsers","bind","getUserFriends","getFriends","follow","followFriend","unfollow","unfollowFriend","userReducer","followed","filter","item","SEND_MESSAGE","dialogs","name","sendMessageActionCreator","dialogsReducer","api","axios","create","baseURL","withCredentials","headers","get","then","getProfile","post","delete","put","photoFile","formData","FormData","append","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","SET_INITIALIZED","initialized","appReducer","Navbar","menu","menu_nav","menu_list","to","link","activeClassName","active","picture","user","news","settings","News","Settings","Header","photo","header","logo_box","logo","logoLink","logo_text","user_box","avatar","avatarNotAuth","hidden_box","avatarDefault","onClick","HeaderContainer","authUserPhoto","userName","fullName","prevProps","prevState","snapshot","this","authUserId","console","log","React","Component","connect","auth","withRouter","Landing","showNum","n","String","split","reverse","join","slice","content","introduce","text_box","title","subtitle","data_item","data_nums","liner","data_text","DialogsContainer","lazy","FriendsContainer","ProfileContainer","UsersContainer","Login","App","initializeApp","path","fallback","exact","profilePage","small","app","usersPage","reducers","combineReducers","dialogsPage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"0GACAA,EAAOC,QAAU,CAAC,OAAS,uBAAuB,SAAW,yBAAyB,KAAO,qBAAqB,UAAY,0BAA0B,OAAS,uBAAuB,cAAgB,8BAA8B,SAAW,yBAAyB,KAAO,qBAAqB,MAAQ,sBAAsB,WAAa,2BAA2B,OAAS,yB,yCCDtW,MAA0B,sC,wBCY1BC,IANf,SAAmBC,GACjB,OACE,qBAAKC,UAAWC,IAAMC,UAAWC,IAAKD,EAAWE,IAAI,Q,+KCNnDC,EAAqB,0BACrBC,EAAW,iBAGbC,EAAgB,CAClBC,GAAI,KACJC,MAAO,KACPC,MAAO,KACPC,QAAQ,EACRC,YAAY,EACZC,MAAO,GACPC,QAAS,MAGLC,EAAkB,SAACC,GAAD,MAAW,CAACC,KAAMZ,EAAqBW,KAAMA,IAwBxDE,EAAc,WACzB,8CAAO,WAAOC,GAAP,eAAAC,EAAA,sEACaC,IAAQC,WADrB,WACCC,EADD,QAEIP,KAAKQ,WAFT,uBAGHL,EAASJ,EAAgB,2BAAIQ,EAAIP,KAAKA,MAAd,IAAoBL,QAAQ,MAHjD,kBAIIY,EAAIP,KAAKA,MAJb,2CAAP,uDASWN,EAAQ,SAACe,GACpB,8CAAO,WAAON,GAAP,eAAAC,EAAA,sEACaC,IAAQX,MAAMe,GAD3B,QACCF,EADD,QAEIP,KAAKQ,WAGZL,GAvCYO,EAuCMH,EAAIP,KAAKW,SAAS,GAvCf,CAACV,KAAMX,EAAYsB,aAAcF,KAqCtDP,EAASD,KAHN,iCAlCQ,IAACQ,IAkCT,OAAP,uDAUWG,EAAS,WACpB,8CAAO,WAAOV,GAAP,SAAAC,EAAA,sEACaC,IAAQQ,SADrB,cAEIb,KAAKQ,YACZL,EAASJ,EAAgB,CACvBP,GAAI,KACJC,MAAO,KACPC,MAAO,KACPC,QAAQ,KAPP,2CAAP,uDAeamB,IAzDK,WAAoC,IAAnCC,EAAkC,uDAA1BxB,EAAeyB,EAAW,uCACrD,OAAQA,EAAOf,MACb,KAAKZ,EACH,OAAO,uCACF0B,GACAC,EAAOhB,MAFZ,IAGEH,MAAO,KAGX,KAAKP,EACH,OAAO,2BACFyB,GADL,IAEElB,MAAOmB,EAAOJ,eAGlB,QACE,OAAOG,K,6RClCPE,EAAW,mBACXC,EAAmB,2BACnBC,EAAa,qBACbC,EAAqB,6BACrB9B,EAAW,oBACX+B,EAAqB,6BAIvB9B,EAAgB,CAClB+B,MAAO,CACL,CAAC9B,GAAI,IAAK+B,KAAM,gBAChB,CAAC/B,GAAI,IAAK+B,KAAM,iBAChB,CAAC/B,GAAI,IAAK+B,KAAM,OAElBzB,QAAS,KACT0B,OAAQ,GACR3B,MAAO,GACPD,YAAY,GA+BD6B,EAAuB,SAACF,GAAD,MAAW,CAACtB,KAAMgB,EAAUS,QAASH,IAC5DI,EAAmB,SAAC/B,GAAD,MAAiB,CAACK,KAAMoB,EAAoBzB,eAGtEgC,EAAY,SAACJ,GAAD,MAAa,CAACvB,KAAMkB,EAAaK,OAAQA,IAM9CK,EAAkB,SAACC,GAC9B,8CAAO,WAAO3B,GAAP,eAAAC,EAAA,6DACLD,EAASwB,GAAiB,IADrB,SAEcI,IAASC,YAAYF,GAFnC,OAEC9B,EAFD,OAGLG,EAXiC,CAACF,KAAMiB,EAAmBpB,QAWnCE,IACxBG,EAASwB,GAAiB,IAJrB,2CAAP,uDASWM,EAAY,SAACH,GACxB,8CAAO,WAAO3B,GAAP,eAAAC,EAAA,sEACa8B,IAAWD,UAAUH,GADlC,OACCvB,EADD,OAELJ,EAASyB,EAAUrB,EAAIP,OAFlB,2CAAP,uDAMWmC,EAAe,SAACX,GAC3B,8CAAO,WAAOrB,GAAP,SAAAC,EAAA,sEACa8B,IAAWC,aAAaX,GADrC,cAEIxB,KAAKQ,YACZL,EAASyB,EAAUJ,IAHhB,2CAAP,uDAQWY,EAAY,SAACC,GACxB,8CAAO,WAAOlC,GAAP,eAAAC,EAAA,sEACa8B,IAAWE,UAAUC,GADlC,QACC9B,EADD,QAEIP,KAAKQ,YACZL,GAnCoBmC,EAmCM/B,EAAIP,KAAKA,KAAKsC,OAnCR,CAACrC,KAAMmB,EAAoBkB,YAgCxD,iCAhCgB,IAACA,IAgCjB,OAAP,uDAQWC,EAAc,SAAC9B,EAAQqB,GAClC,8CAAO,WAAO3B,GAAP,eAAAC,EAAA,sEACa8B,IAAWK,YAAY9B,GADpC,WACCF,EADD,QAEIP,KAAKQ,WAFT,gBAGHL,EAAS0B,EAAgBC,IAHtB,6BAKH3B,GA7CYO,EA6CMH,EAAIP,KAAKW,SAAS,GA7Cf,CAACV,KAAMX,EAAYsB,aAAcF,KAwCnD,kBAMI8B,QAAQC,OAAOlC,EAAIP,KAAKW,SAAS,KANrC,iCAxCQ,IAACD,IAwCT,OAAP,uDAWagC,IArFQ,WAAmC,IAAlC3B,EAAiC,uDAAzBxB,EAAeyB,EAAU,uCACvD,OAAQA,EAAOf,MACb,KAAKgB,EACH,OAAO,2BACFF,GADL,IAEEO,MAAM,GAAD,mBAAMP,EAAMO,OAAZ,CAAmB,CAAC9B,GAAI,EAAG+B,KAAMP,EAAOU,aAGjD,KAAKR,EACH,OAAO,2BAAIH,GAAX,IAAkBjB,QAASkB,EAAOlB,UAEpC,KAAKqB,EACH,OAAO,2BAAIJ,GAAX,IAAkBS,OAAQR,EAAOQ,SAEnC,KAAKJ,EACH,OAAO,2BAAIL,GAAX,IAAkBjB,QAAQ,2BAAKiB,EAAMjB,SAAZ,IAAqBwC,OAAQtB,EAAOsB,WAE/D,KAAKhD,EACH,OAAO,2BAAIyB,GAAX,IAAkBlB,MAAOmB,EAAOJ,eAElC,KAAKS,EACH,OAAO,2BAAIN,GAAX,IAAkBnB,WAAYoB,EAAOpB,aAEvC,QACE,OAAOmB,K,+TC9CA4B,EAAoB,SAACC,EAAOC,EAAQC,EAAaC,GAC5D,OAAOH,EAAMI,KAAI,SAAAC,GAAE,OAAKA,EAAGH,KAAiBD,EAArB,YAAC,eAAkCI,GAAOF,GAAeE,MCC5EC,EAAS,SACTC,EAAW,WACXC,EAAW,YACXC,EAAc,cACdC,EAA2B,2BAC3BC,EAAmB,mBACnBC,EAA2B,2BAC3BC,EAAwB,wBACxBC,EAA0B,0BAC1BrC,EAAqB,qBACrBsC,EAA+B,+BAE/BpE,EAAgB,CACpBqE,MAAQ,GACRC,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbnE,YAAY,EACZoE,oBAAqB,GACrBC,QAAS,GACTC,mBAAoB,EACpBC,gBAAiB,GACjBC,kBAAmB,GAqDRC,EAAgB,SAACvC,GAAD,MAAa,CAAC7B,KAAMiD,EAAQpB,WAC5CwC,EAAkB,SAACxC,GAAD,MAAa,CAAC7B,KAAMkD,EAAUrB,WAEvDyC,EAAW,SAACX,GAAD,MAAY,CAAC3D,KAAMmD,EAAWQ,UAClCY,EAAiB,SAACC,GAAD,MAAW,CAACxE,KAAMsD,EAAkBkB,SACrDC,EAAwB,SAACD,GAAD,MAAW,CAACxE,KAAMuD,EAA0BiB,SACpEE,EAAqB,SAACC,GAAD,MAAU,CAAC3E,KAAMwD,EAAuBmB,QAE7DjD,EAAmB,SAAC/B,GAAD,MAAiB,CAACK,KAAMoB,EAAoBzB,eAC/DiF,EAA0B,SAACC,EAAUhD,GAAX,MAAuB,CAAC7B,KAAM0D,EAA8BmB,WAAUhD,WAEvGiD,EAAa,SAACd,GAAD,MAAc,CAAChE,KAAMoD,EAAaY,YACxCe,EAAwB,SAAClD,GAAD,MAAa,CAAC7B,KAAMqD,EAA0BxB,WACtEmD,EAAuB,SAACL,GAAD,MAAU,CAAC3E,KAAMyD,EAAyBkB,QAGxEM,EAAiB,uCAAG,WAAO/E,EAAUsE,EAAMZ,EAAUsB,EAAWC,EAAuBC,GAAnE,eAAAjF,EAAA,6DACxBD,EAASwB,GAAiB,IADF,SAELwD,EAAUV,EAAMZ,GAFX,OAElB7D,EAFkB,OAGxBG,EAASwB,GAAiB,IAC1BxB,EAASiF,EAAsBpF,EAAK4C,QACpCzC,EAASkF,EAAwBrF,EAAKsF,aALd,2CAAH,gEAQjBC,EAAkB,uCAAG,WAAOpF,EAAU2B,EAAQqD,EAAWK,GAApC,SAAApF,EAAA,6DACzBD,EAAS0E,GAAwB,EAAM/C,IADd,SAEPqD,EAAUrD,GAFH,cAGhB9B,KAAKQ,YACZL,EAASqF,EAAc1D,IAEzB3B,EAAS0E,GAAwB,EAAO/C,IANf,2CAAH,4DAUX2D,EAAW,SAAChB,EAAMZ,GAC7B,8CAAO,WAAO1D,GAAP,eAAAC,EAAA,sDACC+E,EAAYpD,IAAS0D,SAASC,KAAK3D,KACzCmD,EAAkB/E,EAAUsE,EAAMZ,EAAUsB,EAAWZ,EAAUI,GAF5D,2CAAP,uDAMWgB,EAAiB,SAAClB,EAAMZ,GACnC,8CAAO,WAAO1D,GAAP,eAAAC,EAAA,sDACC+E,EAAYpD,IAAS6D,WAAWF,KAAK3D,KAC3CmD,EAAkB/E,EAAUsE,EAAMZ,EAAUsB,EAAWJ,EAAYE,GAF9D,2CAAP,uDAMWY,EAAS,SAAC/D,GACrB,8CAAO,WAAO3B,GAAP,eAAAC,EAAA,sDACC+E,EAAYpD,IAAS+D,aAAaJ,KAAK3D,KAC7CwD,EAAmBpF,EAAU2B,EAAQqD,EAAWd,GAF3C,2CAAP,uDAMW0B,EAAW,SAACjE,GACvB,8CAAO,WAAO3B,GAAP,eAAAC,EAAA,sDACC+E,EAAYpD,IAASiE,eAAeN,KAAK3D,KAC/CwD,EAAmBpF,EAAU2B,EAAQqD,EAAWb,GAChDnE,EAAS6E,EAAsBlD,IAH1B,2CAAP,uDAOamE,IAjHK,WAAmC,IAAlClF,EAAiC,uDAAzBxB,EAAeyB,EAAU,uCACpD,OAAQA,EAAOf,MACb,KAAKiD,EACH,OAAO,2BACFnC,GADL,IAEE6C,MAAOjB,EAAkB5B,EAAM6C,MAAO5C,EAAOc,OAAQ,KAAM,CAACoE,UAAU,MAE1E,KAAK/C,EACH,OAAO,2BACFpC,GADL,IAEE6C,MAAOjB,EAAkB5B,EAAM6C,MAAO5C,EAAOc,OAAQ,KAAM,CAACoE,UAAU,MAE1E,KAAK9C,EACH,OAAO,2BAAIrC,GAAX,IAAkB6C,MAAM,YAAK5C,EAAO4C,SAEtC,KAAKP,EACH,OAAO,2BAAItC,GAAX,IAAkBkD,QAAQ,YAAKjD,EAAOiD,WAExC,KAAKX,EACH,OAAO,2BAAIvC,GAAX,IACEkD,QAASlD,EAAMkD,QAAQkC,QAAO,SAACC,GAAD,OAAUA,EAAK5G,KAAOwB,EAAOc,YAG/D,KAAKyB,EACH,OAAO,2BAAIxC,GAAX,IAAkBgD,YAAa/C,EAAOyD,OAExC,KAAKjB,EACH,OAAO,2BAAIzC,GAAX,IAAkBmD,mBAAoBlD,EAAOyD,OAE/C,KAAKhB,EACH,OAAO,2BAAI1C,GAAX,IAAkB+C,gBAAiB9C,EAAO4D,MAE5C,KAAKlB,EACH,OAAO,2BAAI3C,GAAX,IAAkBqD,kBAAmBpD,EAAO4D,MAE9C,KAAKvD,EACH,OAAO,2BAAIN,GAAX,IAAkBnB,WAAYoB,EAAOpB,aAEvC,KAAK+D,EACH,OAAO,2BAAI5C,GAAX,IACEiD,oBAAqBhD,EAAO8D,SAAP,sBACb/D,EAAMiD,qBADO,CACchD,EAAOc,SACtCf,EAAMiD,oBAAoBmC,QAAO,SAAA3G,GAAE,OAAIA,IAAOwB,EAAOc,YAG7D,QACE,OAAOf,K,gCC1EE,QAA0B,2C,qFCAnCsF,EAAe,eAEf9G,EAAgB,CACpBoB,SAAY,CACV,CAACnB,GAAI,IAAK+B,KAAM,MAChB,CAAC/B,GAAI,IAAK+B,KAAM,gBAChB,CAAC/B,GAAI,IAAK+B,KAAK,2GAGjB+E,QAAU,CACR,CAAC9G,GAAI,IAAK+G,KAAM,SAChB,CAAC/G,GAAI,IAAK+G,KAAM,SAChB,CAAC/G,GAAI,IAAK+G,KAAM,SAChB,CAAC/G,GAAI,IAAK+G,KAAM,SAChB,CAAC/G,GAAI,IAAK+G,KAAM,WAgBPC,EAA2B,SAACjF,GAAD,MAAW,CAACtB,KAAMoG,EAAc3E,QAASH,IAElEkF,IAdQ,WAAmC,IAAlC1F,EAAiC,uDAAzBxB,EAAeyB,EAAU,uCACvD,OAAQA,EAAOf,MACb,KAAKoG,EACH,OAAO,2BACFtF,GADL,IAEEJ,SAAS,GAAD,mBAAMI,EAAMJ,UAAZ,CAAsB,CAACnB,GAAI,IAAK+B,KAAMP,EAAOU,aAEzD,QACE,OAAOX,K,mBCzBbnC,EAAOC,QAAU,CAAC,UAAY,+B,uCCA9BD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,SAAW,yBAAyB,UAAY,0BAA0B,KAAO,qBAAqB,KAAO,qBAAqB,OAAS,uBAAuB,QAAU,0B,uCCA1ND,EAAOC,QAAU,CAAC,UAAY,2BAA2B,SAAW,0BAA0B,MAAQ,uBAAuB,SAAW,0BAA0B,KAAO,sBAAsB,KAAO,sBAAsB,UAAY,2BAA2B,UAAY,2BAA2B,MAAQ,uBAAuB,UAAY,6B,+BCDrV,kHAEM6H,EAFN,OAEYC,EAAMC,OAAO,CACvBC,QAAQ,gDACRC,iBAAiB,EACjBC,QAAS,CAAC,UAAW,0CAIVhF,EAAW,CACtB0D,SADsB,WACmB,IAAhC1B,EAA+B,uDAAjB,EAAGF,EAAc,uDAAH,GACnC,OAAO6C,EAAIM,IAAJ,qBAAsBjD,EAAtB,kBAA2CF,IACjDoD,MAAK,SAAA1G,GAAG,OAAIA,EAAIP,SAGnB4F,WANsB,WAMqB,IAAhC7B,EAA+B,uDAAjB,EAAGF,EAAc,uDAAH,GACrC,OAAO6C,EAAIM,IAAJ,qBAAsBjD,EAAtB,kBAA2CF,EAA3C,iBACNoD,MAAK,SAAA1G,GAAG,OAAIA,EAAIP,SAGnBgC,YAXsB,SAWVF,GACV,OAAOI,EAAWgF,WAAWpF,IAI/BgE,aAhBsB,SAgBRhE,GACZ,OAAO4E,EAAIS,KAAJ,iBAAmBrF,GAAU,IACnCmF,MAAK,SAAA1G,GACJ,IAAIA,EAAIP,KAAKQ,WACX,OAAOD,EAAIP,SAKjBgG,eAzBsB,SAyBPlE,GACb,OAAO4E,EAAIU,OAAJ,iBAAqBtF,IAC3BmF,MAAK,SAAA1G,GACJ,IAAIA,EAAIP,KAAKQ,WACX,OAAOD,EAAIP,UAUNK,EAAU,CACrBC,SADqB,WAEnB,OAAOoG,EAAIM,IAAJ,YAGTtH,MALqB,SAKfe,GACJ,OAAOiG,EAAIS,KAAJ,aAAuB1G,IAGhCI,OATqB,WAUnB,OAAO6F,EAAIU,OAAJ,gBASElF,EAAa,CACxBgF,WADwB,SACbpF,GACT,OAAO4E,EAAIM,IAAJ,kBAAmBlF,IACzBmF,MAAK,SAAA1G,GAAG,OAAIA,EAAIP,SAEnBiC,UALwB,SAKdH,GACR,OAAO4E,EAAIM,IAAJ,yBAA0BlF,KAEnCK,aARwB,SAQXX,GACX,OAAOkF,EAAIW,IAAJ,iBAA0B,CAAC7F,OAAQA,KAE5CY,UAXwB,SAWdkF,GACR,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBZ,EAAIW,IAAJ,gBAAyBE,EAAU,CACxC,eAAgB,yBAGpBhF,YAlBwB,SAkBZ9B,GACV,OAAOiG,EAAIW,IAAJ,UAAmB5G,M,2GC1EfiH,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,+BAAqBX,MAAK,YAAkD,IAA/CY,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,uGCHRO,EAAkB,kBAEpB3I,EAAgB,CAClB4I,aAAa,GA8BAC,EAzBI,WAAmC,IAAlCrH,EAAiC,uDAAzBxB,EAAeyB,EAAU,uCACnD,OAAQA,EAAOf,MACb,KAAKiI,EACH,OAAO,2BACFnH,GADL,IAEEoH,aAAa,IAEjB,QACE,OAAOpH,I,wBCpBE,MAA0B,kCCA1B,MAA0B,qCCA1B,MAA0B,oCCA1B,MAA0B,iCCA1B,MAA0B,iC,OCuD1BsH,MA7Cf,SAAgBtJ,GACd,OACE,qBAAKC,UAAWC,IAAMqJ,KAAtB,SACE,qBAAKtJ,UAAWC,IAAMsJ,SAAtB,SACE,qBAAIvJ,UAAWC,IAAMuJ,UAArB,UACE,oBAAIxJ,UAAWC,IAAMmH,KAArB,SACE,cAAC,IAAD,CAASqC,GAAG,WAAWzJ,UAAWC,IAAMyJ,KAAMC,gBAAiB1J,IAAM2J,OAArE,uBAGF,oBAAI5J,UAAWC,IAAMmH,KAArB,SACE,eAAC,IAAD,CAASqC,GAAG,WAAWzJ,UAAWC,IAAMyJ,KAAMC,gBAAiB1J,IAAM2J,OAArE,UACE,qBAAK5J,UAAWC,IAAM4J,QAAS1J,IAAKM,EAAOL,IAAI,KADjD,iBAKF,oBAAIJ,UAAWC,IAAMmH,KAArB,SACE,eAAC,IAAD,CAASqC,GAAG,WAAWzJ,UAAWC,IAAMyJ,KAAMC,gBAAiB1J,IAAM2J,OAArE,UACE,qBAAK5J,UAAWC,IAAM4J,QAAS1J,IAAK8E,EAAS7E,IAAI,KADnD,eAKF,oBAAIJ,UAAWC,IAAMmH,KAArB,SACE,eAAC,IAAD,CAASqC,GAAG,SAASzJ,UAAWC,IAAMyJ,KAAMC,gBAAiB1J,IAAM2J,OAAnE,UACE,qBAAK5J,UAAWC,IAAM4J,QAAS1J,IAAK2J,EAAM1J,IAAI,KADhD,aAKF,oBAAIJ,UAAWC,IAAMmH,KAArB,SACE,eAAC,IAAD,CAASqC,GAAG,QAAQzJ,UAAWC,IAAMyJ,KAAMC,gBAAiB1J,IAAM2J,OAAlE,UACE,qBAAK5J,UAAWC,IAAM4J,QAAS1J,IAAK4J,EAAM3J,IAAI,KADhD,YAKF,oBAAIJ,UAAWC,IAAMmH,KAArB,SACE,eAAC,IAAD,CAASqC,GAAG,YAAYzJ,UAAWC,IAAMyJ,KAAMC,gBAAiB1J,IAAM2J,OAAtE,UACE,qBAAK5J,UAAWC,IAAM4J,QAAS1J,IAAK6J,EAAU5J,IAAI,KADpD,wB,MCjCG6J,MARf,SAAclK,GACZ,OACE,wC,MCMWmK,MARf,SAAkBnK,GAChB,OACE,4CCLW,MAA0B,iC,yBCkC1BoK,MA3Bf,YAAwD,IAAtCxJ,EAAqC,EAArCA,OAAekB,GAAsB,EAA7BnB,MAA6B,EAAtBmB,QAAQuI,EAAc,EAAdA,MAAO7C,EAAO,EAAPA,KAG9C,OACE,yBAAQvH,UAAWC,IAAMoK,OAAzB,UACE,sBAAKrK,UAAWC,IAAMqK,SAAtB,UACE,qBAAKtK,UAAWC,IAAMsK,KAAMpK,IAAKqK,EAAUpK,IAAI,KAC/C,cAAC,IAAD,CAAMqJ,GAAI9I,EAAS,WAAa,IAAKX,UAAWC,IAAMwK,UAAtD,4BAGA9J,GACA,sBAAKX,UAAWC,IAAMyK,SAAtB,UACE,qBAAK1K,UAAS,UAAKC,IAAM0K,OAAX,YAAqB1K,IAAM2K,eACvCzK,IAAKyK,EAAexK,IAAI,KAC1B,cAAC,IAAD,CAAMJ,UAAWC,IAAMS,MAAO+I,GAAG,IAAjC,wBAIJ,sBAAKzJ,UAAWW,EAASV,IAAMyK,SAAWzK,IAAM4K,WAAhD,UACE,cAAC,IAAD,CAAMpB,GAAG,WAAWzJ,UAAWC,IAAMsH,KAArC,SAA4CA,IAC5C,qBAAKvH,UAAWC,IAAM0K,OAAQxK,IAAKiK,GAAgBU,IAAe1K,IAAI,KACtE,wBAAQJ,UAAWC,IAAM4B,OAAQkJ,QAASlJ,EAAQZ,KAAK,kBCrBzD+J,E,kDAEJ,WAAYjL,GAAO,IAAD,8BAChB,cAAMA,IACDkL,cAAgBlL,EAAMqK,MAC3B,EAAKc,SAAWnL,EAAMoL,SAHN,E,sDAYlB,SAAmBC,EAAWC,EAAWC,GACpCC,KAAKxL,MAAMyL,aAAeJ,EAAUI,YAAcD,KAAKN,gBAAkBM,KAAKxL,MAAMqK,MACrFmB,KAAKN,cAAgBM,KAAKxL,MAAMqK,MACxBmB,KAAKxL,MAAMyL,aAAeJ,EAAUI,YAAcD,KAAKL,WAAaK,KAAKxL,MAAMoL,WACvFM,QAAQC,IAAI,QACZH,KAAKL,SAAWK,KAAKxL,MAAMoL,Y,oBAK/B,WACE,OAAO,cAAC,EAAD,2BAAYI,KAAKxL,OAAjB,IAAwBqK,MAAOmB,KAAKN,cAAe1D,KAAMgE,KAAKL,gB,GAzB3CS,IAAMC,WAmCrBC,eALS,SAAC9J,GAAD,MAAY,CAClCrB,MAAOqB,EAAM+J,KAAKpL,SAIoB,CAACmB,YAA1BgK,CAAmCE,YAAWf,I,gBCE5CgB,MAvCjB,SAAiBjM,GAEf,IAAMkM,EAAU,WACdR,QAAQC,IAAI3L,EAAM+E,iBAClB,IAAMoH,EAAIC,OAAOpM,EAAM+E,iBAAiBsH,MAAM,IAAIC,UAAUC,KAAK,IAEjE,OADeJ,EAAEK,MAAM,EAAG,GAAK,IAAML,EAAEK,MAAM,IAC/BH,MAAM,IAAIC,UAAUC,KAAK,KAGvC,OACC,sBAAKtM,UAAWC,IAAMuM,QAAtB,UACE,qBAAKxM,UAAWC,IAAMwM,UAAtB,SACC,sBAAKzM,UAAWC,IAAMyM,SAAtB,UACE,oBAAI1M,UAAWC,IAAM0M,MAArB,6CACA,mBAAG3M,UAAWC,IAAM2M,SAApB,6CACA,cAAC,IAAD,CAAMnD,GAAG,SAASzJ,UAAWC,IAAMyJ,KAAnC,0BAGH,sBAAK1J,UAAWC,IAAMe,KAAtB,UACE,sBAAKhB,UAAWC,IAAM4M,UAAtB,UACG,mBAAG7M,UAAWC,IAAM6M,UAApB,SAAiCb,KAAa,EAAI,SAAWA,MAC9D,qBAAKjM,UAAWC,IAAM8M,QACtB,oBAAG/M,UAAWC,IAAM+M,UAApB,uBAAyC,uBAAzC,cAEF,sBAAKhN,UAAWC,IAAM4M,UAAtB,UACE,mBAAG7M,UAAWC,IAAM6M,UAApB,mBACA,qBAAK9M,UAAWC,IAAM8M,QACtB,oBAAG/M,UAAWC,IAAM+M,UAApB,yBAA2C,uBAA3C,4BAEF,sBAAKhN,UAAWC,IAAM4M,UAAtB,UACE,mBAAG7M,UAAWC,IAAM6M,UAApB,oBACA,qBAAK9M,UAAWC,IAAM8M,QACtB,oBAAG/M,UAAWC,IAAM+M,UAApB,sBAAwC,uBAAxC,0B,QCzBLC,EAAmBtB,IAAMuB,MAAK,kBAAM,uDACpCC,EAAmBxB,IAAMuB,MAAK,kBAAM,iCACpCE,EAAmBzB,IAAMuB,MAAK,kBAAM,8DACpCG,EAAiB1B,IAAMuB,MAAK,kBAAM,iCAClCI,EAAQ3B,IAAMuB,MAAK,kBAAM,8DAEzBK,E,uKAEJ,WACEhC,KAAKxL,MAAMyN,kB,oBAGb,WACE,OAAIjC,KAAKxL,MAAMoJ,YAMb,sBAAKnJ,UAAU,MAAf,UACE,cAAC,EAAD,eAAqBuL,KAAKxL,QAEzBwL,KAAKxL,MAAMY,QACV,qCACE,cAAC,EAAD,IACA,sBAAKX,UAAU,cAAf,UACE,cAAC,IAAD,CAAOyN,KAAK,oBAAZ,SACE,cAAC,WAAD,CAAUC,SAAU,cAAC5N,EAAA,EAAD,IAApB,SACE,cAACsN,EAAD,QAGJ,cAAC,IAAD,CAAOK,KAAK,WAAZ,SACE,cAAC,WAAD,CAAUC,SAAU,cAAC5N,EAAA,EAAD,IAApB,SACE,cAACmN,EAAD,QAGJ,cAAC,IAAD,CAAOQ,KAAK,WAAZ,SACE,cAAC,WAAD,CAAUC,SAAU,cAAC5N,EAAA,EAAD,IAApB,SACE,cAACqN,EAAD,QAGJ,cAAC,IAAD,CAAOM,KAAK,QAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,YAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACC,cAAC,WAAD,CAAUC,SAAU,cAAC5N,EAAA,EAAD,IAApB,SACC,cAACuN,EAAD,cAOR,sBAAKrN,UAAU,cAAf,UAEE,cAAC,IAAD,CAAO2N,OAAK,EAACF,KAAK,SAAlB,SACGlC,KAAKxL,MAAMY,OAAS,cAAC,IAAD,CAAU8I,GAAG,aAAgB,cAAC,WAAD,CAAUiE,SAAU,cAAC5N,EAAA,EAAD,IAApB,SAAkC,cAACwN,EAAD,QAGtF,cAAC,IAAD,CAAOK,OAAK,EAACF,KAAK,IAAlB,SACE,cAAC,EAAD,CAAS3I,gBAAiByG,KAAKxL,MAAM+E,uBAKzC,cAAC,IAAD,UACGyG,KAAKxL,MAAMY,OACV,cAAC,IAAD,CAAU8I,GAAG,aAEb,cAAC,IAAD,CAAUA,GAAG,WA1DZ,cAAC3J,EAAA,EAAD,Q,GARK6L,IAAMC,WAoFTC,eAVS,SAAC9J,GAAD,MAAY,CAClCpB,OAAQoB,EAAM+J,KAAKnL,OACnByJ,MAAOrI,EAAM6L,YAAY9M,QAAUiB,EAAM6L,YAAY9M,QAAQwC,OAAOuK,MAAQ,KAC5E1C,SAAUpJ,EAAM6L,YAAY9M,QAAUiB,EAAM6L,YAAY9M,QAAQqK,SAAW,KAC3EzK,MAAOqB,EAAM+J,KAAKpL,MAClB8K,WAAYzJ,EAAM+J,KAAKtL,GACvB2I,YAAapH,EAAM+L,IAAI3E,YACvBrE,gBAAiB/C,EAAMgM,UAAUjJ,mBAGK,CAAC0I,cb9EZ,WAC3B,OAAO,SAACrM,GACNA,EAASsF,eACTtF,EAASD,eACN+G,MAAK,SAAC1G,GACLJ,EAAS0B,YAAgBtB,EAAIf,KAC1ByH,MAAK,WACJ9G,EArBkB,CAACF,KAAMiI,aa4FtB2C,CAA0CE,YAAWwB,I,wBC9F9DS,GAAWC,YAAgB,CAC/BL,YAAalK,IACbwK,YAAazG,IACbsG,UAAW9G,IACX6E,KAAMhK,IACNgM,IAAK1E,IAGD+E,GAAmBC,OAAOC,sCAAwCC,IAKzDC,GAJDC,YAAYR,GAAUG,GAAiBM,YAAgBC,OCNrEC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAYC,SAAUC,kBAAtB,SACE,cAAC,IAAD,CAAUR,MAAOA,GAAjB,SACE,cAAC,EAAD,UAGeS,SAASC,eAAe,SAK/CvG,M","file":"static/js/main.577c91af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1wvV2\",\"logo_box\":\"Header_logo_box__3Uutf\",\"logo\":\"Header_logo__2rM5x\",\"logo_text\":\"Header_logo_text__2S9gQ\",\"avatar\":\"Header_avatar__20hQt\",\"avatarNotAuth\":\"Header_avatarNotAuth__21vIS\",\"user_box\":\"Header_user_box__1ks-9\",\"name\":\"Header_name__3CMva\",\"login\":\"Header_login__FBYHa\",\"hidden_box\":\"Header_hidden_box__11vvz\",\"logout\":\"Header_logout__2E1oC\"};","export default __webpack_public_path__ + \"static/media/preloader.85b18b8e.svg\";","import React from 'react';\r\nimport preloader from '../../../images/preloader.svg';\r\nimport style from './Preloader.module.css';\r\n\r\n\r\n\r\nfunction Preloader(props) {\r\n  return (\r\n    <img className={style.preloader} src={preloader} alt='#' />\r\n  );\r\n}\r\n\r\nexport default Preloader;","import { authApi } from \"../api/api\";\r\n\r\nconst SET_AUTH_USER_DATA = 'auth/SET_AUTH_USER_DATA';\r\nconst SET_ERROR= 'auth/SET_ERROR';\r\n\r\n\r\nlet inintialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  isFetching: false,\r\n  error: '',\r\n  profile: null,\r\n};\r\n\r\nconst setAuthUserData = (data) => ({type: SET_AUTH_USER_DATA , data: data});\r\nconst setError = (err) => ({type: SET_ERROR , errorMessage: err});\r\n\r\n\r\nconst authReducer = (state = inintialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n        error: '',\r\n      };\r\n\r\n    case SET_ERROR:\r\n      return {\r\n        ...state,\r\n        error: action.errorMessage,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getAuthUser = () => {\r\n  return async (dispatch) => {\r\n    const res = await authApi.authUser();\r\n    if (!res.data.resultCode) {\r\n      dispatch(setAuthUserData({...res.data.data, isAuth: true}));\r\n      return res.data.data;\r\n    }\r\n  }\r\n};\r\n\r\nexport const login = (values) => {\r\n  return async (dispatch) => {\r\n    const res = await authApi.login(values);\r\n    if (!res.data.resultCode) {\r\n      dispatch(getAuthUser());\r\n    } else {\r\n      dispatch(setError(res.data.messages[0]));\r\n    }\r\n  }\r\n};\r\n\r\nexport const logout = () => {\r\n  return async (dispatch) => {\r\n    const res = await authApi.logout();\r\n    if (!res.data.resultCode) {\r\n      dispatch(setAuthUserData({\r\n        id: null,\r\n        email: null,\r\n        login: null,\r\n        isAuth: false\r\n      }));\r\n    }\r\n  }\r\n};\r\n\r\n\r\n\r\nexport default authReducer;","import { profileApi, usersApi } from \"../api/api\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'profile/SET_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE_PHOTO_SUCCESS';\r\nconst SET_ERROR= 'profile/SET_ERROR';\r\nconst TOGGLE_IS_FETCHING = 'profile/TOGGLE_IS_FETCHING';\r\n\r\n\r\n\r\nlet inintialState = {\r\n  posts: [\r\n    {id: '1', text: 'How are you?'},\r\n    {id: '2', text: 'Hellow world!'},\r\n    {id: '3', text: 'Hi'},\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n  error: '',\r\n  isFetching: false,\r\n};\r\n\r\nconst profileReducer = (state = inintialState, action) =>{\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, {id: 4, text: action.newText}],\r\n      };\r\n\r\n    case SET_USER_PROFILE:\r\n      return {...state, profile: action.profile};\r\n\r\n    case SET_STATUS:\r\n      return {...state, status: action.status};\r\n\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return {...state, profile: {...state.profile, photos: action.photos}};\r\n\r\n    case SET_ERROR:\r\n      return {...state, error: action.errorMessage};\r\n  \r\n    case TOGGLE_IS_FETCHING:\r\n      return {...state, isFetching: action.isFetching};\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (text) => ({type: ADD_POST, newText: text});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\n\r\nconst setUserProfile = (profile) => ({type: SET_USER_PROFILE,  profile: profile});\r\nconst setStatus = (status) => ({type: SET_STATUS,  status: status});\r\nconst savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\nconst setError = (err) => ({type: SET_ERROR , errorMessage: err});\r\n\r\n\r\n//thunkCreator из него возращаем непосредственно нашу thunk\r\nexport const getPersonalInfo = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    const data = await usersApi.getUserInfo(userId);\r\n    dispatch(setUserProfile(data));\r\n    dispatch(toggleIsFetching(false));\r\n\r\n  }\r\n};\r\n\r\nexport const getStatus = (userId) => {\r\n  return async (dispatch) => {\r\n    const res = await profileApi.getStatus(userId);\r\n    dispatch(setStatus(res.data));\r\n  }\r\n};\r\n\r\nexport const updateStatus = (status) => {\r\n  return async (dispatch) => {\r\n    const res = await profileApi.updateStatus(status);\r\n    if (!res.data.resultCode) {\r\n      dispatch(setStatus(status));\r\n    }\r\n  }\r\n};\r\n\r\nexport const savePhoto = (file) => {\r\n  return async (dispatch) => {\r\n    const res = await profileApi.savePhoto(file);\r\n    if (!res.data.resultCode) {\r\n      dispatch(savePhotoSuccess(res.data.data.photos));\r\n    }\r\n  }\r\n};\r\n\r\nexport const saveProfile = (values, userId) => {\r\n  return async (dispatch) => {\r\n    const res = await profileApi.saveProfile(values);\r\n    if (!res.data.resultCode) {\r\n      dispatch(getPersonalInfo(userId));\r\n    } else {\r\n      dispatch(setError(res.data.messages[0]));\r\n      return Promise.reject(res.data.messages[0]);\r\n    }\r\n  }\r\n};\r\n\r\nexport default profileReducer;","\r\nexport const updateObjectInArr = (items, itemId, objPropName, newObjProp) => {\r\n  return items.map(el => (el[objPropName] === itemId) ? {...el, ...newObjProp} :  el)\r\n}","import { usersApi } from \"../api/api\";\r\nimport { updateObjectInArr } from \"../utils/utils\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS= 'SET_USERS';\r\nconst SET_FRIENDS = 'SET_FRIENDS';\r\nconst SET_FRIENDS_AFTER_DELETE = 'SET_FRIENDS_AFTER_DELETE';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_CURRENT_FRIENDS_PAGE = 'SET_CURRENT_FRIENDS_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'; \r\nconst SET_TOTAL_FRIENDS_COUNT = 'SET_TOTAL_FRIENDS_COUNT'; \r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nconst inintialState = {\r\n  users : [],\r\n  pageSize: 20,\r\n  totalUsersCount: 1,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n  friends: [],\r\n  currentFriendsPage: 1,\r\n  pageFriendsSize: 10,\r\n  totalFriendsCount: 0,\r\n};\r\n\r\nconst userReducer = (state = inintialState, action) =>{\r\n  switch (action.type) {\r\n    case FOLLOW: \r\n      return {\r\n        ...state,\r\n        users: updateObjectInArr(state.users, action.userId, 'id', {followed: true}),\r\n      };\r\n    case UNFOLLOW: \r\n      return {\r\n        ...state,\r\n        users: updateObjectInArr(state.users, action.userId, 'id', {followed: false}),\r\n      };\r\n    case SET_USERS:\r\n      return {...state, users: [...action.users]};\r\n\r\n    case SET_FRIENDS:\r\n      return {...state, friends: [...action.friends]};\r\n\r\n    case SET_FRIENDS_AFTER_DELETE:\r\n      return {...state,\r\n        friends: state.friends.filter((item) => item.id !== action.userId )\r\n      };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {...state, currentPage: action.page};\r\n\r\n    case SET_CURRENT_FRIENDS_PAGE:\r\n      return {...state, currentFriendsPage: action.page};\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {...state, totalUsersCount: action.num};\r\n\r\n    case SET_TOTAL_FRIENDS_COUNT:\r\n      return {...state, totalFriendsCount: action.num};\r\n      \r\n    case TOGGLE_IS_FETCHING:\r\n      return {...state, isFetching: action.isFetching};\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {...state,\r\n        followingInProgress: action.progress\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\n\r\nconst setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (page) => ({type: SET_CURRENT_PAGE, page});\r\nexport const setCurrentFriendsPage = (page) => ({type: SET_CURRENT_FRIENDS_PAGE, page});\r\nexport const setTotalUsersCount = (num) => ({type: SET_TOTAL_USERS_COUNT, num});\r\n\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (progress, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, progress, userId});\r\n\r\nconst setFriends = (friends) => ({type: SET_FRIENDS, friends});\r\nexport const setFriendsAfterDelete = (userId) => ({type: SET_FRIENDS_AFTER_DELETE, userId});\r\nexport const setTotalFriendsCount = (num) => ({type: SET_TOTAL_FRIENDS_COUNT, num});\r\n\r\n// общие вспомогательные ф-ии\r\nconst getUsersOrFriends = async (dispatch, page, pageSize, apiMethod, actionCreatorSetItems, actionCreatorTotalCount) => {\r\n  dispatch(toggleIsFetching(true));\r\n  const data = await apiMethod(page, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(actionCreatorSetItems(data.items));\r\n  dispatch(actionCreatorTotalCount(data.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  const res = await apiMethod(userId);\r\n  if (!res.data.resultCode) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\n// ThunkCreators\r\nexport const getUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    const apiMethod = usersApi.getUsers.bind(usersApi);\r\n    getUsersOrFriends(dispatch, page, pageSize, apiMethod, setUsers, setTotalUsersCount);\r\n  }\r\n};\r\n\r\nexport const getUserFriends = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    const apiMethod = usersApi.getFriends.bind(usersApi);\r\n    getUsersOrFriends(dispatch, page, pageSize, apiMethod, setFriends, setTotalFriendsCount);\r\n  }\r\n};\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    const apiMethod = usersApi.followFriend.bind(usersApi);\r\n    followUnfollowFlow(dispatch, userId, apiMethod, followSuccess);\r\n  }\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    const apiMethod = usersApi.unfollowFriend.bind(usersApi);\r\n    followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess);\r\n    dispatch(setFriendsAfterDelete(userId));\r\n  }\r\n};\r\n\r\nexport default userReducer;","export default __webpack_public_path__ + \"static/media/avatarDefault.b6ecac72.svg\";","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nconst inintialState = {\r\n  messages:   [\r\n    {id: '1', text: 'Hi'},\r\n    {id: '2', text: 'How are you?'},\r\n    {id: '3', text: `Hellow world! Hellow world! Hellow world!}Hellow world! Hellow world!\r\n    Hellow world! Hellow world!`}\r\n  ],\r\n  dialogs : [\r\n    {id: '1', name: 'Sasha'},\r\n    {id: '2', name: 'Kolya'},\r\n    {id: '3', name: 'Sveta'},\r\n    {id: '4', name: 'Tanya'},\r\n    {id: '5', name: 'Medok'},\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = inintialState, action) =>{\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, {id: '6', text: action.newText}],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const sendMessageActionCreator = (text) => ({type: SEND_MESSAGE, newText: text});\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__GEOde\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Navbar_menu__3tK4E\",\"menu_nav\":\"Navbar_menu_nav__3EcIa\",\"menu_list\":\"Navbar_menu_list__2lM7s\",\"item\":\"Navbar_item__1P1wq\",\"link\":\"Navbar_link__2nDx-\",\"active\":\"Navbar_active__1ofAm\",\"picture\":\"Navbar_picture__3x2Dp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"introduce\":\"Landing_introduce__3-NDZ\",\"text_box\":\"Landing_text_box__wEPvO\",\"title\":\"Landing_title__31zGb\",\"subtitle\":\"Landing_subtitle__3rb2_\",\"link\":\"Landing_link__xYGqK\",\"data\":\"Landing_data__2asvw\",\"data_item\":\"Landing_data_item__3qhKN\",\"data_nums\":\"Landing_data_nums__35Jm0\",\"liner\":\"Landing_liner__1Q7-t\",\"data_text\":\"Landing_data_text__3YH8R\"};","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n  withCredentials: true,\r\n  headers: {\"API-KEY\": \"15561bb6-da04-4759-83e8-0491bebdaf61\"},\r\n});\r\n\r\n//получение пользователей и разворачивание страницы пользователя\r\nexport const usersApi = {\r\n  getUsers(currentPage = 1, pageSize = 10){\r\n    return api.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    .then(res => res.data)\r\n  },\r\n\r\n  getFriends(currentPage = 1, pageSize = 10){\r\n    return api.get(`users?page=${currentPage}&count=${pageSize}&friend=true`)\r\n    .then(res => res.data);\r\n  },\r\n\r\n  getUserInfo(userId) {\r\n    return profileApi.getProfile(userId);\r\n  },\r\n\r\n  //добавление или удаление пользователя из друзей\r\n  followFriend (userId) {\r\n    return api.post(`follow/${userId}`, {})\r\n    .then(res => {\r\n      if(!res.data.resultCode){\r\n        return res.data;\r\n      }\r\n    })\r\n  },\r\n\r\n  unfollowFriend(userId) {\r\n    return api.delete(`follow/${userId}`)\r\n    .then(res => {\r\n      if(!res.data.resultCode){\r\n        return res.data;\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n//авторизация пользователя\r\nexport const authApi = {\r\n  authUser() {\r\n    return api.get(`auth/me`);\r\n  },\r\n\r\n  login(values){\r\n    return api.post(`auth/login`, values);\r\n  },\r\n  \r\n  logout(){\r\n    return api.delete(`auth/login`);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n//\r\nexport const profileApi = {\r\n  getProfile(userId) {\r\n    return api.get(`profile/${userId}`)\r\n    .then(res => res.data)\r\n  },\r\n  getStatus(userId) {\r\n    return api.get(`profile/status/${userId}`)\r\n  },\r\n  updateStatus(status){\r\n    return api.put(`profile/status`, {status: status}) \r\n  },\r\n  savePhoto(photoFile){\r\n    const formData = new FormData();\r\n    formData.append('image', photoFile);\r\n    return api.put(`profile/photo`, formData, {\r\n      'Content-Type': 'multipart/form-data',\r\n    });\r\n  },\r\n  saveProfile(values){\r\n    return api.put(`profile`, values)\r\n  },\r\n}\r\n\r\n\r\n\r\n    ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { getAuthUser } from \"./authReducer\";\r\nimport { getUsers } from \"./userReducer\";\r\nimport { getPersonalInfo } from \"./profileReducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\nlet inintialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst setInitialized = () => ({type: SET_INITIALIZED});\r\n\r\nconst appReducer = (state = inintialState, action) =>{\r\n  switch (action.type) {\r\n    case SET_INITIALIZED:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializeApp = () => {\r\n  return (dispatch) => {\r\n    dispatch(getUsers());\r\n    dispatch(getAuthUser())\r\n      .then((res) => {\r\n        dispatch(getPersonalInfo(res.id))\r\n          .then(() => {\r\n            dispatch(setInitialized());\r\n          })\r\n      });\r\n  }\r\n};\r\n\r\nexport default appReducer;","export default __webpack_public_path__ + \"static/media/email.1ba0e733.svg\";","export default __webpack_public_path__ + \"static/media/settings.22afaeb4.svg\";","export default __webpack_public_path__ + \"static/media/friends.c34571e0.svg\";","export default __webpack_public_path__ + \"static/media/user.2e054d03.svg\";","export default __webpack_public_path__ + \"static/media/news.8904c144.svg\";","import style from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport email from '../../images/email.svg';\r\nimport settings from '../../images/settings.svg';\r\nimport friends from '../../images/friends.svg';\r\nimport user from '../../images/user.svg';\r\nimport news from '../../images/news.svg';\r\n\r\n\r\n\r\nfunction Navbar(props) {\r\n  return (\r\n    <div className={style.menu}>\r\n      <nav className={style.menu_nav}>\r\n        <ul className={style.menu_list}>\r\n          <li className={style.item}>\r\n            <NavLink to='/profile' className={style.link} activeClassName={style.active}>Profile\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/dialogs' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={email} alt=\"\"/>\r\n              Messanger\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/friends' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={friends} alt=\"\"/>\r\n              Friends\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/users' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={user} alt=\"\"/>\r\n              Users\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/news' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={news} alt=\"\"/>\r\n              News\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/settings' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={settings} alt=\"\"/>\r\n              Settings\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import style from \"./News.module.css\";\r\n\r\n\r\nfunction News(props) {\r\n  return (\r\n    <div>\r\n      News\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News;","import style from \"./Settings.module.css\";\r\n\r\n\r\nfunction Settings(props) {\r\n  return (\r\n    <div>\r\n      Settings\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings;","export default __webpack_public_path__ + \"static/media/logo.37c24b2d.svg\";","import logoLink from '../../images/logo.svg';\r\nimport avatarDefault from \"../../images/avatarDefault.svg\";\r\nimport avatarNotAuth from \"../../images/user.svg\";\r\nimport style from './Header.module.css';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nfunction Header({ isAuth, login, logout, photo, name}) {\r\n\r\n\r\n  return (\r\n    <header className={style.header}>\r\n      <div className={style.logo_box}>\r\n        <img className={style.logo} src={logoLink} alt=''/>\r\n        <Link to={isAuth ? '/profile' : '/'} className={style.logo_text}>TravelBook</Link>\r\n      </div>\r\n\r\n      {!isAuth && (\r\n        <div className={style.user_box}>\r\n          <img className={`${style.avatar} ${style.avatarNotAuth}`}\r\n            src={avatarNotAuth} alt=\"\"/>\r\n          <Link className={style.login} to='/'>Sign up</Link>\r\n        </div>\r\n      )}\r\n\r\n      <div className={isAuth ? style.user_box : style.hidden_box}>\r\n        <Link to='/profile' className={style.name}>{name}</Link>\r\n        <img className={style.avatar} src={photo ? photo : avatarDefault} alt=\"\"/>\r\n        <button className={style.logout} onClick={logout} type='button'></button>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import { connect } from 'react-redux';\r\nimport React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport Header from './Header';\r\nimport { logout } from '../../redux/authReducer'\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.authUserPhoto = props.photo;\r\n    this.userName = props.fullName;\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   if (isAuth)\r\n  // }\r\n\r\n\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if(this.props.authUserId !== prevProps.authUserId && this.authUserPhoto !== this.props.photo){\r\n      this.authUserPhoto = this.props.photo;\r\n    } else if(this.props.authUserId !== prevProps.authUserId && this.userName !== this.props.fullName){\r\n      console.log('name')\r\n      this.userName = this.props.fullName;\r\n    }\r\n  }\r\n\r\n         \r\n  render() {\r\n    return <Header {...this.props} photo={this.authUserPhoto} name={this.userName}/>\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  login: state.auth.login,\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(withRouter(HeaderContainer));","import { Link } from 'react-router-dom';\r\nimport style from './Landing.module.css';\r\n\r\n\r\n\r\nfunction Landing(props) {\r\n  \r\n  const showNum = () => {\r\n    console.log(props.totalUsersCount)\r\n    const n = String(props.totalUsersCount).split('').reverse().join('');\r\n    const result = n.slice(0, 3) + ' ' + n.slice(3);\r\n    return result.split('').reverse().join('');\r\n  }\r\n\r\n    return (\r\n     <div className={style.content}>\r\n       <div className={style.introduce}>\r\n        <div className={style.text_box}>\r\n          <h1 className={style.title}>See the world of amazind travel</h1>\r\n          <p className={style.subtitle}>Social network of travel lovers</p>\r\n          <Link to='/login' className={style.link}>Sign in</Link>\r\n        </div>\r\n       </div>\r\n       <div className={style.data}>\r\n         <div className={style.data_item}>\r\n            <p className={style.data_nums}>{ showNum() <= 1 ? '11 300' : showNum() }</p>\r\n           <div className={style.liner}></div>\r\n           <p className={style.data_text}>registered<br/>users</p>\r\n         </div>\r\n         <div className={style.data_item}>\r\n           <p className={style.data_nums}>5 300</p>\r\n           <div className={style.liner}></div>\r\n           <p className={style.data_text}>reviews from<br/>different countries</p>\r\n         </div>\r\n         <div className={style.data_item}>\r\n           <p className={style.data_nums}>54 008</p>\r\n           <div className={style.liner}></div>\r\n           <p className={style.data_text}>beautiful<br/>user photo</p>\r\n         </div>\r\n       </div>\r\n     </div>\r\n    )\r\n  }\r\n  \r\n  export default Landing;","import './App.css';\nimport React, { Suspense } from 'react';\nimport { Redirect, Route, withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/appReducer'\nimport Navbar from \"./components/Navbar/Navbar\";\nimport News from './components/News/News';\nimport Settings from './components/Settings/Settings';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Landing from './components/Landing/Landing';\nimport Preloader from './components/common/Preloader/Preloader';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst FriendsContainer = React.lazy(() => import('./components/Friends/FriendsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  \n  render() {\n    if(!this.props.initialized){\n      return <Preloader />\n    }\n\n\n    return (\n      <div className=\"App\" >\n        <HeaderContainer {...this.props} />\n  \n        {this.props.isAuth &&  (\n          <>\n            <Navbar />\n            <div className='app-content'>\n              <Route path='/profile/:userId?'>\n                <Suspense fallback={<Preloader/>}>\n                  <ProfileContainer />\n                </Suspense>\n              </Route>\n              <Route path='/dialogs'>\n                <Suspense fallback={<Preloader/>}>\n                  <DialogsContainer />\n                </Suspense>\n              </Route>\n              <Route path='/friends'>\n                <Suspense fallback={<Preloader/>}>\n                  <FriendsContainer />\n                </Suspense>\n              </Route>\n              <Route path='/news'>\n                <News />\n              </Route>\n              <Route path='/settings'>\n                <Settings />\n              </Route>\n              <Route path='/users'>\n               <Suspense fallback={<Preloader/>}>\n                <UsersContainer />\n              </Suspense>\n              </Route>\n            </div>\n          </>\n        )}\n\n        <div className='app-landing'>\n\n          <Route exact path='/login'>\n            {this.props.isAuth ? <Redirect to='/profile' /> : <Suspense fallback={<Preloader/>}><Login /></Suspense>}\n          </Route>\n\n          <Route exact path='/'>\n            <Landing totalUsersCount={this.props.totalUsersCount}/>\n          </Route>\n\n        </div>\n\n        <Route>\n          {this.props.isAuth ? (\n            <Redirect to='/profile'/>\n          ) : (\n            <Redirect to='/'/>\n          )}\n        </Route>\n\n      </div>\n  )};\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  photo: state.profilePage.profile ? state.profilePage.profile.photos.small : null,\n  fullName: state.profilePage.profile ? state.profilePage.profile.fullName : null,\n  login: state.auth.login,\n  authUserId: state.auth.id,\n  initialized: state.app.initialized,\n  totalUsersCount: state.usersPage.totalUsersCount,\n});\n\nexport default connect(mapStateToProps, {initializeApp})(withRouter(App));\n","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport userReducer from \"./userReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./appReducer\";\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: userReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import './index.css';\r\nimport React from 'react';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { HashRouter } from 'react-router-dom';\r\n\r\nimport store from './redux/reduxStore';\r\nimport { Provider } from 'react-redux';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter basename={process.env.PUBLIC_URL}>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </HashRouter>\r\n  </React.StrictMode>, document.getElementById('root'));\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n\r\n\r\n"],"sourceRoot":""}