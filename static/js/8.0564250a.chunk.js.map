{"version":3,"sources":["components/common/AddMessageForm/AddMessageForm.js","components/Dialogs/Dialogs.module.css","components/Dialogs/Dialog/Dialog.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/Dialog/Dialog.js","components/Dialogs/Message/Message.js","components/Dialogs/Dialogs.js","components/Dialogs/DialogsContainer.js","hoc/WithAuthRedirect.js"],"names":["AddMessageForm","props","initialValues","message","onSubmit","values","setSubmitting","isSubmitting","className","style","type","name","placeholder","disabled","module","exports","Dialog","id","dialog","to","link","activeClassName","active","Message","text","message_box","avatar","src","alt","Dialogs","dialogsPage","onSendMessage","dialogs","dialogs_list","map","d","messages","m","form","compose","connect","state","dispatch","sendMessageActionCreator","WithAuthRedirect","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","this","React"],"mappings":"wHAAA,oBAsBeA,IApBf,SAAwBC,GAKtB,OACE,cAAC,IAAD,CACEC,cAAe,CAAEC,QAAS,IAC1BC,SAPW,SAACC,EAAD,GAA+B,EAApBC,cACxBL,EAAMG,SAASC,IAIf,SAIG,gBAAGE,EAAH,EAAGA,aAAH,OACC,eAAC,IAAD,CAAMC,UAAWP,EAAMQ,MAAvB,UACE,cAAC,IAAD,CAAOC,KAAK,OAAOC,KAAK,UAAUC,YAAY,uBAC9C,wBAAQF,KAAK,SAASG,SAAUN,EAAhC,0B,oBCdVO,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,SAAW,4B,oBCA7GD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,qBAAqB,OAAS,yB,oBCAvFD,EAAOC,QAAU,CAAC,YAAc,6BAA6B,KAAO,sBAAsB,OAAS,0B,oGCapFC,MATf,YAAgC,IAAbL,EAAY,EAAZA,KAAMM,EAAM,EAANA,GACvB,OACE,oBAAIT,UAAWC,IAAMS,OAArB,SACE,cAAC,IAAD,CAASC,GAAE,mBAAcF,GAAMT,UAAWC,IAAMW,KAAMC,gBAAiBZ,IAAMa,OAA7E,SAAsFX,O,kBCK7EY,MAVf,YAA6B,IAATC,EAAQ,EAARA,KAClB,OACE,sBAAKhB,UAAWC,IAAMgB,YAAtB,UACE,qBAAKjB,UAAWC,IAAMiB,OAAQC,IAAI,6GAA6GC,IAAI,KACnJ,mBAAGpB,UAAWC,IAAMe,KAApB,SAA2BA,Q,SCqBlBK,MApBf,YAAkD,IAA/BC,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,cAM9B,OACE,sBAAKvB,UAAWC,IAAMuB,QAAtB,UACE,oBAAIxB,UAAWC,IAAMwB,aAArB,SACGH,EAAYE,QAAQE,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAQxB,KAAMwB,EAAExB,KAAMM,GAAIkB,EAAElB,IAASkB,EAAElB,SAGvE,sBAAKT,UAAWC,IAAM2B,SAAtB,UACGN,EAAYM,SAASF,KAAI,SAAAG,GAAC,OAAI,cAAC,EAAD,CAASb,KAAMa,EAAEb,MAAWa,EAAEpB,OAC7D,cAACjB,EAAA,EAAD,CAAgBI,SAZtB,SAAsBC,GACpB0B,EAAc1B,EAAOF,UAWuBM,MAAOA,IAAM6B,c,gCCD9CC,sBACbC,aAfuB,SAACC,GAAD,MAAY,CAAEX,YAAaW,EAAMX,gBAE9B,SAACY,GAC3B,MAAO,CACLX,cAAe,SAACP,GACdkB,EAASC,YAAyBnB,SAWtCoB,IAFaL,CAGbV,I,mJCnBIgB,EAA6B,SAACJ,GAAD,MAAY,CAAEK,OAAQL,EAAMM,KAAKD,OAClE7B,GAAIwB,EAAMM,KAAK9B,KAGJ2B,EAAmB,SAACI,GAAe,IACxCC,EADuC,4JAE3C,WACE,OAAIC,KAAKjD,MAAM6C,OACR,cAACE,EAAD,eAAeE,KAAKjD,QADG,cAAC,IAAD,CAAUkB,GAAI,eAHH,GACbgC,IAAMH,WAStC,OAFuCR,YAAQK,EAARL,CAAoCS","file":"static/js/8.0564250a.chunk.js","sourcesContent":["import { Field, Form, Formik } from 'formik';\r\n\r\nfunction AddMessageForm(props) {\r\n  const submit = (values, { setSubmitting }) => {\r\n    props.onSubmit(values);\r\n  }\r\n  \r\n  return (\r\n    <Formik\r\n      initialValues={{ message: \"\" }}\r\n      onSubmit={submit}\r\n    >\r\n      {({ isSubmitting }) => (\r\n        <Form className={props.style}>\r\n          <Field type=\"text\" name=\"message\" placeholder='Enter your message'/>\r\n          <button type=\"submit\" disabled={isSubmitting}>Send</button>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  )\r\n}\r\n\r\nexport default AddMessageForm;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1-R3R\",\"dialogs_list\":\"Dialogs_dialogs_list__259sl\",\"messages\":\"Dialogs_messages__1sBuo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__iFTJX\",\"link\":\"Dialog_link__1rmI7\",\"active\":\"Dialog_active__1AEkN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message_box\":\"Message_message_box__30VK9\",\"text\":\"Message_text__GG0FJ\",\"avatar\":\"Message_avatar__3nTGE\"};","import style from \"./Dialog.module.css\";\r\n\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nfunction Dialog ({ name, id }) {\r\n  return (\r\n    <li className={style.dialog}>\r\n      <NavLink to={`/dialogs/${id}`} className={style.link} activeClassName={style.active}>{name}\r\n      </NavLink>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Dialog;","import style from \"./Message.module.css\";\r\n\r\n\r\nfunction Message ({ text }) {\r\n  return (\r\n    <div className={style.message_box}>\r\n      <img className={style.avatar} src='https://static.mycity.travel/manage/uploads/7/36/112961/1/2500px-fribourgregion-20190704-dscf3505_3000.jpg' alt=''/>\r\n      <p className={style.text}>{text}</p>\r\n    </div>\r\n  )\r\n}\r\n  \r\n\r\nexport default Message;","import React from 'react';\r\n\r\nimport style from \"./Dialogs.module.css\";\r\nimport Dialog from \"./Dialog/Dialog\";\r\nimport Message from \"./Message/Message\";\r\nimport AddMessageForm from '../common/AddMessageForm/AddMessageForm';\r\n\r\n\r\nfunction Dialogs({ dialogsPage, onSendMessage }) {\r\n \r\n  function handleSubmit(values) {\r\n    onSendMessage(values.message);\r\n  }\r\n\r\n  return (\r\n    <div className={style.dialogs}>\r\n      <ul className={style.dialogs_list}>\r\n        {dialogsPage.dialogs.map(d => <Dialog name={d.name} id={d.id} key={d.id}/>)}\r\n      </ul>\r\n\r\n      <div className={style.messages}>\r\n        {dialogsPage.messages.map(m => <Message text={m.text} key={m.id}/>)}\r\n        <AddMessageForm onSubmit={handleSubmit} style={style.form}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dialogs;","import Dialogs from \"./Dialogs\";\r\nimport { sendMessageActionCreator } from \"../../redux/dialogsReducer\";\r\nimport { connect } from 'react-redux';\r\nimport { WithAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\nconst  mapStateToProps = (state) => ({ dialogsPage: state.dialogsPage });\r\n\r\nconst  mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onSendMessage: (text) => {\r\n      dispatch(sendMessageActionCreator(text))\r\n    },\r\n  }\r\n}\r\n\r\n// const AuthRedirectComponent = WithAuthRedirect(Dialogs);\r\n// const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\r\n\r\n// мы заменили предыдущие вызовы ф-ий, одной ф-ей компоуз\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  WithAuthRedirect\r\n)(Dialogs);","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({ isAuth: state.auth.isAuth,\r\n  id: state.auth.id });\r\n\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render(){\r\n      if(!this.props.isAuth) return <Redirect to={'/login'}/>\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n}"],"sourceRoot":""}