{"version":3,"sources":["components/Header/Header.module.css","images/preloader.svg","components/common/Preloader/Preloader.js","redux/profileReducer.js","redux/authReducer.js","utils/utils.js","redux/userReducer.js","images/avatarDefault.svg","redux/dialogsReducer.js","components/common/Preloader/Preloader.module.css","components/Navbar/Navbar.module.css","api/api.js","components/Landing/Landing.module.css","reportWebVitals.js","redux/appReducer.js","redux/reduxStore.js","images/email.svg","images/settings.svg","images/friends.svg","images/user.svg","images/news.svg","components/Navbar/Navbar.js","components/News/News.js","components/Settings/Settings.js","images/logo.svg","components/Header/Header.js","components/Header/HeaderContainer.js","components/Landing/Landing.js","App.js","index.js"],"names":["module","exports","Preloader","props","className","style","preloader","src","alt","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","SET_ERROR","TOGGLE_IS_FETCHING","inintialState","posts","id","text","profile","status","error","isFetching","addPostActionCreator","type","newText","toggleIsFetching","setStatus","getPersonalInfo","userId","dispatch","a","usersApi","getUserInfo","data","getStatus","profileApi","res","updateStatus","resultCode","savePhoto","file","photos","saveProfile","values","err","messages","errorMessage","Promise","reject","profileReducer","state","action","SET_AUTH_USER_DATA","GET_CAPTCHA_URL","email","login","isAuth","captchaUrl","setAuthUserData","setError","getAuthUser","authApi","authUser","then","resolve","securityApi","getCaptchaUrl","url","console","log","logout","authReducer","updateObjectInArr","items","itemId","objPropName","newObjProp","map","el","FOLLOW","UNFOLLOW","SET_USERS","SET_FRIENDS","SET_FRIENDS_AFTER_DELETE","SET_CURRENT_PAGE","SET_CURRENT_FRIENDS_PAGE","SET_TOTAL_USERS_COUNT","SET_TOTAL_FRIENDS_COUNT","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","followingInProgress","friends","currentFriendsPage","pageFriendsSize","totalFriendsCount","followSuccess","unfollowSuccess","setUsers","setCurrentPage","page","setCurrentFriendsPage","setTotalUsersCount","num","toggleFollowingProgress","progress","setFriends","setFriendsAfterDelete","setTotalFriendsCount","getUsersOrFriends","apiMethod","actionCreatorSetItems","actionCreatorTotalCount","totalCount","followUnfollowFlow","actionCreator","getUsers","bind","getUserFriends","getFriends","follow","followFriend","unfollow","unfollowFriend","userReducer","followed","filter","item","SEND_MESSAGE","dialogs","name","sendMessageActionCreator","dialogsReducer","api","axios","create","baseURL","withCredentials","headers","get","getProfile","post","delete","put","photoFile","formData","FormData","append","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","SET_INITIALIZED","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","usersPage","auth","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Navbar","menu","menu_nav","menu_list","to","link","activeClassName","active","picture","user","news","settings","News","Settings","Header","photo","header","logo_box","logo","logoLink","logo_text","user_box","avatar","avatarNotAuth","hidden_box","avatarDefault","onClick","HeaderContainer","this","setState","fullName","prevProps","prevState","snapshot","authUserId","React","Component","connect","withRouter","Landing","showNum","n","String","split","reverse","join","slice","content","introduce","text_box","title","subtitle","data_item","data_nums","liner","data_text","DialogsContainer","lazy","FriendsContainer","ProfileContainer","UsersContainer","Login","App","initializeApp","path","fallback","exact","small","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.d1fdc65d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1wvV2\",\"logo_box\":\"Header_logo_box__3Uutf\",\"logo\":\"Header_logo__2rM5x\",\"logo_text\":\"Header_logo_text__2S9gQ\",\"avatar\":\"Header_avatar__20hQt\",\"avatarNotAuth\":\"Header_avatarNotAuth__21vIS\",\"user_box\":\"Header_user_box__1ks-9\",\"name\":\"Header_name__3CMva\",\"login\":\"Header_login__FBYHa\",\"hidden_box\":\"Header_hidden_box__11vvz\",\"logout\":\"Header_logout__2E1oC\"};","export default __webpack_public_path__ + \"static/media/preloader.85b18b8e.svg\";","import React from 'react';\r\nimport preloader from '../../../images/preloader.svg';\r\nimport style from './Preloader.module.css';\r\n\r\n\r\n\r\nfunction Preloader(props) {\r\n  return (\r\n    <img className={style.preloader} src={preloader} alt='#' />\r\n  );\r\n}\r\n\r\nexport default Preloader;","import { profileApi, usersApi } from \"../api/api\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'profile/SET_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE_PHOTO_SUCCESS';\r\nconst SET_ERROR= 'profile/SET_ERROR';\r\nconst TOGGLE_IS_FETCHING = 'profile/TOGGLE_IS_FETCHING';\r\n\r\n\r\n\r\nlet inintialState = {\r\n  posts: [\r\n    {id: '1', text: 'How are you?'},\r\n    {id: '2', text: 'Hellow world!'},\r\n    {id: '3', text: 'Hi'},\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n  error: '',\r\n  isFetching: false,\r\n};\r\n\r\nconst profileReducer = (state = inintialState, action) =>{\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, {id: 4, text: action.newText}],\r\n      };\r\n\r\n    case SET_USER_PROFILE:\r\n      return {...state, profile: action.profile};\r\n\r\n    case SET_STATUS:\r\n      return {...state, status: action.status};\r\n\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return {...state, profile: {...state.profile, photos: action.photos}};\r\n\r\n    case SET_ERROR:\r\n      return {...state, error: action.errorMessage};\r\n  \r\n    case TOGGLE_IS_FETCHING:\r\n      return {...state, isFetching: action.isFetching};\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (text) => ({type: ADD_POST, newText: text});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\n\r\nconst setUserProfile = (profile) => ({type: SET_USER_PROFILE,  profile: profile});\r\nconst setStatus = (status) => ({type: SET_STATUS,  status: status});\r\nconst savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\nconst setError = (err) => ({type: SET_ERROR , errorMessage: err});\r\n\r\n\r\n//thunkCreator из него возращаем непосредственно нашу thunk\r\nexport const getPersonalInfo = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    const data = await usersApi.getUserInfo(userId);\r\n    dispatch(setUserProfile(data));\r\n    dispatch(toggleIsFetching(false));\r\n  }\r\n};\r\n\r\nexport const getStatus = (userId) => {\r\n  return async (dispatch) => {\r\n    const res = await profileApi.getStatus(userId);\r\n    dispatch(setStatus(res.data));\r\n  }\r\n};\r\n\r\nexport const updateStatus = (status) => {\r\n  return async (dispatch) => {\r\n    const res = await profileApi.updateStatus(status);\r\n    if (!res.data.resultCode) {\r\n      dispatch(setStatus(status));\r\n    }\r\n  }\r\n};\r\n\r\nexport const savePhoto = (file) => {\r\n  return async (dispatch) => {\r\n    const res = await profileApi.savePhoto(file);\r\n    if (!res.data.resultCode) {\r\n      dispatch(savePhotoSuccess(res.data.data.photos));\r\n    }\r\n  }\r\n};\r\n\r\nexport const saveProfile = (values, userId) => {\r\n  return async (dispatch) => {\r\n    const res = await profileApi.saveProfile(values);\r\n    if (!res.data.resultCode) {\r\n      dispatch(getPersonalInfo(userId));\r\n    } else {\r\n      dispatch(setError(res.data.messages[0]));\r\n      return Promise.reject(res.data.messages[0]);\r\n    }\r\n  }\r\n};\r\n\r\nexport default profileReducer;","import { authApi, securityApi } from \"../api/api\";\r\nimport { getPersonalInfo } from \"./profileReducer\";\r\n\r\n\r\nconst SET_AUTH_USER_DATA = 'auth/SET_AUTH_USER_DATA';\r\nconst SET_ERROR= 'auth/SET_ERROR';\r\nconst GET_CAPTCHA_URL= 'auth/GET_CAPTCHA_URL';\r\n\r\nlet inintialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  isFetching: false,\r\n  error: '',\r\n  captchaUrl: null,\r\n};\r\n\r\nconst setAuthUserData = (data) => ({type: SET_AUTH_USER_DATA , data: data});\r\nconst setError = (err) => ({type: SET_ERROR , errorMessage: err});\r\nconst setCaptchaUrl = (url) => ({type: GET_CAPTCHA_URL , captchaUrl: url});\r\n\r\nconst authReducer = (state = inintialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n        error: '',\r\n      };\r\n\r\n    case SET_ERROR:\r\n      return {\r\n        ...state,\r\n        error: action.errorMessage,\r\n      };\r\n\r\n    case GET_CAPTCHA_URL:\r\n      return {\r\n        ...state,\r\n        captchaUrl: action.captchaUrl,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getAuthUser = () => {\r\n  return async (dispatch) => {\r\n    const res = await authApi.authUser();\r\n    if (!res.data.resultCode) {\r\n      dispatch(setAuthUserData({...res.data.data, isAuth: true}));\r\n      return res.data.data;\r\n    }\r\n  }\r\n};\r\n\r\nexport const getCaptchaUrl = () => {\r\n  return async (dispatch) => {\r\n    const res = await securityApi.getCaptchaUrl();\r\n    const captchaUrl = res.data.url;\r\n    console.log(captchaUrl);\r\n    dispatch(setCaptchaUrl(captchaUrl));\r\n  }\r\n};\r\n\r\nexport const login = (values) => {\r\n  return async (dispatch) => {\r\n    const res = await authApi.login(values);\r\n    if (!res.data.resultCode) {\r\n      dispatch(getAuthUser())\r\n        .then((res) => {\r\n          if(res) {\r\n            dispatch(getPersonalInfo(res.id))\r\n          }\r\n        });\r\n      dispatch(setError(''));\r\n      return Promise.resolve(res.data);\r\n    } else {\r\n      if (res.data.resultCode === 10 ) {\r\n        dispatch(getCaptchaUrl());\r\n      } \r\n      dispatch(setError(res.data.messages[0]));\r\n    }\r\n  }\r\n};\r\n\r\nexport const logout = () => {\r\n  return async (dispatch) => {\r\n    const res = await authApi.logout();\r\n    if (!res.data.resultCode) {\r\n      dispatch(setAuthUserData({\r\n        id: null,\r\n        email: null,\r\n        login: null,\r\n        isAuth: false,\r\n        error: '',\r\n        captchaUrl: null,\r\n      }));\r\n    }\r\n  }\r\n};\r\n\r\nexport default authReducer;","\r\nexport const updateObjectInArr = (items, itemId, objPropName, newObjProp) => {\r\n  return items.map(el => (el[objPropName] === itemId) ? {...el, ...newObjProp} :  el)\r\n}","import { usersApi } from \"../api/api\";\r\nimport { updateObjectInArr } from \"../utils/utils\";\r\n\r\nconst FOLLOW = 'user/FOLLOW';\r\nconst UNFOLLOW = 'user/UNFOLLOW';\r\nconst SET_USERS= 'user/SET_USERS';\r\nconst SET_FRIENDS = 'user/SET_FRIENDS';\r\nconst SET_FRIENDS_AFTER_DELETE = 'user/SET_FRIENDS_AFTER_DELETE';\r\nconst SET_CURRENT_PAGE = 'user/SET_CURRENT_PAGE';\r\nconst SET_CURRENT_FRIENDS_PAGE = 'user/SET_CURRENT_FRIENDS_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'user/SET_TOTAL_USERS_COUNT'; \r\nconst SET_TOTAL_FRIENDS_COUNT = 'user/SET_TOTAL_FRIENDS_COUNT'; \r\nconst TOGGLE_IS_FETCHING = 'user/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'user/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nconst inintialState = {\r\n  users : [],\r\n  pageSize: 20,\r\n  totalUsersCount: 1,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n  friends: [],\r\n  currentFriendsPage: 1,\r\n  pageFriendsSize: 10,\r\n  totalFriendsCount: 0,\r\n};\r\n\r\nconst userReducer = (state = inintialState, action) =>{\r\n  switch (action.type) {\r\n    case FOLLOW: \r\n      return {\r\n        ...state,\r\n        users: updateObjectInArr(state.users, action.userId, 'id', {followed: true}),\r\n      };\r\n    case UNFOLLOW: \r\n      return {\r\n        ...state,\r\n        users: updateObjectInArr(state.users, action.userId, 'id', {followed: false}),\r\n      };\r\n    case SET_USERS:\r\n      return {...state, users: [...action.users]};\r\n\r\n    case SET_FRIENDS:\r\n      return {...state, friends: [...action.friends]};\r\n\r\n    case SET_FRIENDS_AFTER_DELETE:\r\n      return {...state,\r\n        friends: state.friends.filter((item) => item.id !== action.userId )\r\n      };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {...state, currentPage: action.page};\r\n\r\n    case SET_CURRENT_FRIENDS_PAGE:\r\n      return {...state, currentFriendsPage: action.page};\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {...state, totalUsersCount: action.num};\r\n\r\n    case SET_TOTAL_FRIENDS_COUNT:\r\n      return {...state, totalFriendsCount: action.num};\r\n      \r\n    case TOGGLE_IS_FETCHING:\r\n      return {...state, isFetching: action.isFetching};\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {...state,\r\n        followingInProgress: action.progress\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\n\r\nconst setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (page) => ({type: SET_CURRENT_PAGE, page});\r\nexport const setCurrentFriendsPage = (page) => ({type: SET_CURRENT_FRIENDS_PAGE, page});\r\nexport const setTotalUsersCount = (num) => ({type: SET_TOTAL_USERS_COUNT, num});\r\n\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (progress, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, progress, userId});\r\n\r\nconst setFriends = (friends) => ({type: SET_FRIENDS, friends});\r\nexport const setFriendsAfterDelete = (userId) => ({type: SET_FRIENDS_AFTER_DELETE, userId});\r\nexport const setTotalFriendsCount = (num) => ({type: SET_TOTAL_FRIENDS_COUNT, num});\r\n\r\n// общие вспомогательные ф-ии\r\nconst getUsersOrFriends = async (dispatch, page, pageSize, apiMethod, actionCreatorSetItems, actionCreatorTotalCount) => {\r\n  dispatch(toggleIsFetching(true));\r\n  const data = await apiMethod(page, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(actionCreatorSetItems(data.items));\r\n  dispatch(actionCreatorTotalCount(data.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  const res = await apiMethod(userId);\r\n  if (!res.data.resultCode) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\n// ThunkCreators\r\nexport const getUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    const apiMethod = usersApi.getUsers.bind(usersApi);\r\n    getUsersOrFriends(dispatch, page, pageSize, apiMethod, setUsers, setTotalUsersCount);\r\n  }\r\n};\r\n\r\nexport const getUserFriends = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    const apiMethod = usersApi.getFriends.bind(usersApi);\r\n    getUsersOrFriends(dispatch, page, pageSize, apiMethod, setFriends, setTotalFriendsCount);\r\n  }\r\n};\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    const apiMethod = usersApi.followFriend.bind(usersApi);\r\n    followUnfollowFlow(dispatch, userId, apiMethod, followSuccess);\r\n  }\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    const apiMethod = usersApi.unfollowFriend.bind(usersApi);\r\n    followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess);\r\n    dispatch(setFriendsAfterDelete(userId));\r\n  }\r\n};\r\n\r\nexport default userReducer;","export default __webpack_public_path__ + \"static/media/avatarDefault.b6ecac72.svg\";","const SEND_MESSAGE = 'dialogs/SEND-MESSAGE';\r\n\r\nconst inintialState = {\r\n  messages:   [\r\n    {id: '1', text: 'Hi'},\r\n    {id: '2', text: 'How are you?'},\r\n    {id: '3', text: `Hellow world! Hellow world! Hellow world!}Hellow world! Hellow world!\r\n    Hellow world! Hellow world!`}\r\n  ],\r\n  dialogs : [\r\n    {id: '1', name: 'Sasha'},\r\n    {id: '2', name: 'Kolya'},\r\n    {id: '3', name: 'Sveta'},\r\n    {id: '4', name: 'Tanya'},\r\n    {id: '5', name: 'Medok'},\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = inintialState, action) =>{\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, {id: '6', text: action.newText}],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const sendMessageActionCreator = (text) => ({type: SEND_MESSAGE, newText: text});\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__GEOde\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Navbar_menu__3tK4E\",\"menu_nav\":\"Navbar_menu_nav__3EcIa\",\"menu_list\":\"Navbar_menu_list__2lM7s\",\"item\":\"Navbar_item__1P1wq\",\"link\":\"Navbar_link__2nDx-\",\"active\":\"Navbar_active__1ofAm\",\"picture\":\"Navbar_picture__3x2Dp\"};","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n  withCredentials: true,\r\n  headers: {\"API-KEY\": \"15561bb6-da04-4759-83e8-0491bebdaf61\"},\r\n});\r\n\r\n//получение пользователей и разворачивание страницы пользователя\r\nexport const usersApi = {\r\n  getUsers(currentPage = 1, pageSize = 10){\r\n    return api.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    .then(res => res.data)\r\n  },\r\n\r\n  getFriends(currentPage = 1, pageSize = 10){\r\n    return api.get(`users?page=${currentPage}&count=${pageSize}&friend=true`)\r\n    .then(res => res.data);\r\n  },\r\n\r\n  getUserInfo(userId) {\r\n    return profileApi.getProfile(userId);\r\n  },\r\n\r\n  //добавление или удаление пользователя из друзей\r\n  followFriend (userId) {\r\n    return api.post(`follow/${userId}`, {})\r\n    .then(res => {\r\n      if(!res.data.resultCode){\r\n        return res.data;\r\n      }\r\n    })\r\n  },\r\n\r\n  unfollowFriend(userId) {\r\n    return api.delete(`follow/${userId}`)\r\n    .then(res => {\r\n      if(!res.data.resultCode){\r\n        return res.data;\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n//авторизация пользователя\r\nexport const authApi = {\r\n  authUser() {\r\n    return api.get(`auth/me`);\r\n  },\r\n\r\n  login(values){\r\n    return api.post(`auth/login`, values);\r\n  },\r\n  \r\n  logout(){\r\n    return api.delete(`auth/login`);\r\n  }\r\n};\r\n\r\n//captcha\r\nexport const securityApi = {\r\n  getCaptchaUrl() {\r\n    return api.get('security/get-captcha-url');\r\n  }\r\n\r\n};\r\n\r\n//\r\nexport const profileApi = {\r\n  getProfile(userId) {\r\n    return api.get(`profile/${userId}`)\r\n    .then(res => res.data)\r\n  },\r\n  getStatus(userId) {\r\n    return api.get(`profile/status/${userId}`)\r\n  },\r\n  updateStatus(status){\r\n    return api.put(`profile/status`, {status: status}) \r\n  },\r\n  savePhoto(photoFile){\r\n    const formData = new FormData();\r\n    formData.append('image', photoFile);\r\n    return api.put(`profile/photo`, formData, {\r\n      'Content-Type': 'multipart/form-data',\r\n    });\r\n  },\r\n  saveProfile(values){\r\n    return api.put(`profile`, values)\r\n  },\r\n}\r\n\r\n\r\n\r\n    ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"introduce\":\"Landing_introduce__3-NDZ\",\"text_box\":\"Landing_text_box__wEPvO\",\"title\":\"Landing_title__31zGb\",\"subtitle\":\"Landing_subtitle__3rb2_\",\"link\":\"Landing_link__xYGqK\",\"data\":\"Landing_data__2asvw\",\"data_item\":\"Landing_data_item__3qhKN\",\"data_nums\":\"Landing_data_nums__35Jm0\",\"liner\":\"Landing_liner__1Q7-t\",\"data_text\":\"Landing_data_text__3YH8R\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { getAuthUser } from \"./authReducer\";\r\nimport { getUsers } from \"./userReducer\";\r\nimport { getPersonalInfo } from \"./profileReducer\";\r\n\r\nconst SET_INITIALIZED = 'app/SET_INITIALIZED';\r\n\r\nlet inintialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst setInitialized = () => ({type: SET_INITIALIZED});\r\n\r\nconst appReducer = (state = inintialState, action) =>{\r\n  switch (action.type) {\r\n    case SET_INITIALIZED:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializeApp = () => {\r\n  return (dispatch) => {\r\n    dispatch(getUsers());\r\n    dispatch(getAuthUser())\r\n      .then((res) => {\r\n        if(res) {\r\n          dispatch(getPersonalInfo(res.id))\r\n        }\r\n          dispatch(setInitialized());\r\n      })\r\n  }\r\n};\r\n\r\nexport default appReducer;","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport userReducer from \"./userReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./appReducer\";\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: userReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","export default __webpack_public_path__ + \"static/media/email.1ba0e733.svg\";","export default __webpack_public_path__ + \"static/media/settings.22afaeb4.svg\";","export default __webpack_public_path__ + \"static/media/friends.c34571e0.svg\";","export default __webpack_public_path__ + \"static/media/user.2e054d03.svg\";","export default __webpack_public_path__ + \"static/media/news.8904c144.svg\";","import style from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport email from '../../images/email.svg';\r\nimport settings from '../../images/settings.svg';\r\nimport friends from '../../images/friends.svg';\r\nimport user from '../../images/user.svg';\r\nimport news from '../../images/news.svg';\r\n\r\n\r\n\r\nfunction Navbar(props) {\r\n  return (\r\n    <div className={style.menu}>\r\n      <nav className={style.menu_nav}>\r\n        <ul className={style.menu_list}>\r\n          <li className={style.item}>\r\n            <NavLink to='/profile' className={style.link} activeClassName={style.active}>Profile\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/dialogs' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={email} alt=\"\"/>\r\n              Messanger\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/friends' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={friends} alt=\"\"/>\r\n              Friends\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/users' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={user} alt=\"\"/>\r\n              Users\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/news' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={news} alt=\"\"/>\r\n              News\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.item}>\r\n            <NavLink to='/settings' className={style.link} activeClassName={style.active}>\r\n              <img className={style.picture} src={settings} alt=\"\"/>\r\n              Settings\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import style from \"./News.module.css\";\r\n\r\n\r\nfunction News(props) {\r\n  return (\r\n    <div>\r\n      News\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News;","import style from \"./Settings.module.css\";\r\n\r\n\r\nfunction Settings(props) {\r\n  return (\r\n    <div>\r\n      Settings\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings;","export default __webpack_public_path__ + \"static/media/logo.37c24b2d.svg\";","import logoLink from '../../images/logo.svg';\r\nimport avatarDefault from \"../../images/avatarDefault.svg\";\r\nimport avatarNotAuth from \"../../images/user.svg\";\r\nimport style from './Header.module.css';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nfunction Header({ isAuth, login, logout, photo, name}) {\r\n\r\n\r\n  return (\r\n    <header className={style.header}>\r\n      <div className={style.logo_box}>\r\n        <img className={style.logo} src={logoLink} alt=''/>\r\n        <Link to={isAuth ? '/profile' : '/'} className={style.logo_text}>TravelBook</Link>\r\n      </div>\r\n\r\n      {!isAuth && (\r\n        <div className={style.user_box}>\r\n          <img className={`${style.avatar} ${style.avatarNotAuth}`}\r\n            src={avatarNotAuth} alt=\"\"/>\r\n          <Link className={style.login} to='/'>Sign up</Link>\r\n        </div>\r\n      )}\r\n      \r\n      <div className={isAuth ? style.user_box : style.hidden_box}>\r\n        <Link to='/profile' className={style.name}>{name || 'loading...'}</Link>\r\n        <img className={style.avatar} src={photo ? photo : avatarDefault} alt=\"\"/>\r\n        <button className={style.logout} onClick={logout} type='button'></button>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import { connect } from 'react-redux';\r\nimport React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport Header from './Header';\r\nimport { logout } from '../../redux/authReducer'\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      photo: null,\r\n      name: '',\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if(this.props.profile){\r\n      this.setState({\r\n        photo: this.props.photo,\r\n        name: this.props.fullName,\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if(this.props.profile) {\r\n      if (this.props.profile.userId === this.props.authUserId && (\r\n        (this.props.fullName !== prevProps.fullName) || (this.props.photo !== prevProps.photo)\r\n      )){\r\n        this.setState({\r\n          name: this.props.fullName,\r\n          photo: this.props.photo,\r\n        });\r\n      }\r\n    }\r\n  }\r\n       \r\n  render() {\r\n    return <Header {...this.props} photo={this.state.photo} name={this.state.name}/>\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  login: state.auth.login,\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(withRouter(HeaderContainer));","import { Link } from 'react-router-dom';\r\nimport style from './Landing.module.css';\r\n\r\n\r\n\r\nfunction Landing(props) {\r\n  \r\n  const showNum = () => {\r\n    const n = String(props.totalUsersCount).split('').reverse().join('');\r\n    const result = n.slice(0, 3) + ' ' + n.slice(3);\r\n    return result.split('').reverse().join('');\r\n  }\r\n\r\n    return (\r\n     <div className={style.content}>\r\n       <div className={style.introduce}>\r\n        <div className={style.text_box}>\r\n          <h1 className={style.title}>See the world of amazind travel</h1>\r\n          <p className={style.subtitle}>Social network of travel lovers</p>\r\n          <Link to='/login' className={style.link}>Sign in</Link>\r\n        </div>\r\n       </div>\r\n       <div className={style.data}>\r\n         <div className={style.data_item}>\r\n            <p className={style.data_nums}>{ showNum() <= 1 ? '11 300' : showNum() }</p>\r\n           <div className={style.liner}></div>\r\n           <p className={style.data_text}>registered<br/>users</p>\r\n         </div>\r\n         <div className={style.data_item}>\r\n           <p className={style.data_nums}>5 300</p>\r\n           <div className={style.liner}></div>\r\n           <p className={style.data_text}>reviews from<br/>different countries</p>\r\n         </div>\r\n         <div className={style.data_item}>\r\n           <p className={style.data_nums}>54 008</p>\r\n           <div className={style.liner}></div>\r\n           <p className={style.data_text}>beautiful<br/>user photo</p>\r\n         </div>\r\n       </div>\r\n     </div>\r\n    )\r\n  }\r\n  \r\n  export default Landing;","import './App.css';\nimport React, { Suspense } from 'react';\nimport { Redirect, Route, withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/appReducer'\nimport Navbar from \"./components/Navbar/Navbar\";\nimport News from './components/News/News';\nimport Settings from './components/Settings/Settings';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Landing from './components/Landing/Landing';\nimport Preloader from './components/common/Preloader/Preloader';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst FriendsContainer = React.lazy(() => import('./components/Friends/FriendsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  \n  render() {\n    if(!this.props.initialized){\n      return <Preloader />\n    }\n\n    return (\n      <div className=\"App\" >\n        <HeaderContainer {...this.props} />\n  \n        {this.props.isAuth &&  (\n          <>\n            <Navbar />\n            <div className='app-content'>\n              <Route path='/profile/:userId?'>\n                <Suspense fallback={<Preloader/>}>\n                  <ProfileContainer />\n                </Suspense>\n              </Route>\n              <Route path='/dialogs'>\n                <Suspense fallback={<Preloader/>}>\n                  <DialogsContainer />\n                </Suspense>\n              </Route>\n              <Route path='/friends'>\n                <Suspense fallback={<Preloader/>}>\n                  <FriendsContainer />\n                </Suspense>\n              </Route>\n              <Route path='/news'>\n                <News />\n              </Route>\n              <Route path='/settings'>\n                <Settings />\n              </Route>\n              <Route path='/users'>\n               <Suspense fallback={<Preloader/>}>\n                <UsersContainer />\n              </Suspense>\n              </Route>\n            </div>\n          </>\n        )}\n\n        <div className='app-landing'>\n\n          <Route exact path='/login'>\n            {this.props.isAuth ? <Redirect to='/profile' /> : <Suspense fallback={<Preloader/>}><Login /></Suspense>}\n          </Route>\n\n          <Route exact path='/'>\n            {!this.props.isAuth && <Landing totalUsersCount={this.props.totalUsersCount}/>}\n          </Route>\n\n        </div>\n\n        <Route>\n          {this.props.isAuth ? (\n            <Redirect to='/profile'/>\n          ) : (\n            <Redirect to='/'/>\n          )}\n        </Route>\n\n      </div>\n  )};\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  profile: state.profilePage.profile,\n  photo: state.profilePage.profile ? state.profilePage.profile.photos.small : null,\n  fullName: state.profilePage.profile ? state.profilePage.profile.fullName : null,\n  login: state.auth.login,\n  authUserId: state.auth.id,\n  initialized: state.app.initialized,\n  totalUsersCount: state.usersPage.totalUsersCount,\n});\n\nexport default connect(mapStateToProps, {initializeApp})(withRouter(App));\n","import './index.css';\r\nimport React from 'react';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from 'react-dom';\r\nimport store from './redux/reduxStore';\r\nimport App from './App';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter basename={process.env.PUBLIC_URL}>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n\r\n\r\n"],"sourceRoot":""}