{"version":3,"sources":["components/Pagination/Pagination.js","components/Pagination/Pagination.module.css","components/UserCard/UserCard.js","components/UserCard/UsersCard.module.css","components/Friends/Friends.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/Friends/Friends.js","components/Friends/FriendsContainer.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","hoc/WithAuthRedirect.js"],"names":["Pagination","totalCount","pageSize","currentPage","onClick","portionSize","pagesCount","Math","ceil","pages","i","push","React","useState","portionNumber","setPortionNumber","portionCount","leftBorderNumber","rightBorderNumber","useEffect","className","style","paginator","left","arrow","filter","p","map","page","page_active","right","module","exports","UserCard","user","followingInProgress","follow","unfollow","to","id","src","photos","small","avatarDefault","alt","avatar","followed","disabled","some","name","status","_objectWithoutProperties","source","excluded","key","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","Friends","totalFriendsCount","pageFriendsSize","currentFriendsPage","onPageChanged","friends","compose","connect","state","usersPage","isFetching","setCurrentFriendsPage","getUserFriends","toggleFollowingProgress","withRouter","WithAuthRedirect","props","Preloader","pageNum","_slicedToArray","arr","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","value","err","unsupportedIterableToArray","TypeError","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","this"],"mappings":"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","file":"static/js/6.6edc40d3.chunk.js","sourcesContent":["import React from 'react';\r\nimport style from './Pagination.module.css';\r\n\r\n\r\nfunction Pagination({ totalCount, pageSize, currentPage, onClick, portionSize = 10}) {\r\n\r\n  const pagesCount = Math.ceil(totalCount / pageSize);\r\n  const pages = [];\r\n  for(let i = 1; i <= pagesCount; i++){\r\n    pages.push(i);\r\n  }\r\n\r\n  const [portionNumber, setPortionNumber] = React.useState(1);\r\n\r\n  const portionCount = Math.ceil(pagesCount / portionSize);\r\n  const leftBorderNumber = (portionNumber - 1) * portionSize + 1;\r\n  const rightBorderNumber = portionNumber * portionSize;\r\n\r\n\r\n  function handleLeftClick() {\r\n    setPortionNumber(portionNumber - 1);\r\n    onClick((portionNumber - 2) * portionSize + 1);\r\n  }\r\n\r\n  function handleRightClick() {\r\n    setPortionNumber(portionNumber + 1);\r\n    onClick(portionNumber * portionSize + 1);\r\n  }\r\n\r\n  React.useEffect(()=> {\r\n    setPortionNumber(Math.ceil(currentPage / portionSize))\r\n  }, [currentPage, portionSize]);\r\n\r\n  \r\n  return (\r\n    <div className={style.paginator}>\r\n      {portionNumber > 1 && (\r\n        <button className={`${style.left} ${style.arrow}`} onClick={handleLeftClick} />\r\n      )}\r\n      {pages\r\n        .filter((p) =>  p >= leftBorderNumber && p <= rightBorderNumber)\r\n        .map((p) => { return (\r\n          <button\r\n            key={p}\r\n            className={`${style.page} ${p === currentPage && style.page_active}`}\r\n            onClick={() => onClick(p)}\r\n          >\r\n            {p}\r\n          </button>\r\n        )}\r\n      )}\r\n      {portionCount > portionNumber && (\r\n        <button className={`${style.right} ${style.arrow}`} onClick={handleRightClick} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n  \r\nexport default Pagination;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Pagination_page__3ALm-\",\"page_active\":\"Pagination_page_active__5YgsH\",\"paginator\":\"Pagination_paginator__2lOiO\",\"arrow\":\"Pagination_arrow__2JBNs\",\"left\":\"Pagination_left__3OWz-\",\"right\":\"Pagination_right__itvgQ\"};","import style from './UsersCard.module.css';\r\nimport avatarDefault from \"../../images/avatarDefault.svg\";\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nfunction UserCard({ user, followingInProgress, follow, unfollow }) {\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <NavLink to={'/profile/' + user.id}>\r\n          <img src={!user.photos.small ? avatarDefault : user.photos.small} alt='' className={style.avatar}/>\r\n        </NavLink>\r\n\r\n        {user.followed \r\n          ? <button\r\n              disabled={followingInProgress.some(id  => id === user.id)}\r\n              onClick={() => unfollow(user.id)}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          : <button \r\n              disabled={followingInProgress.some(id  => id === user.id)}\r\n              onClick={() => follow(user.id)}\r\n            >\r\n              Follow\r\n            </button>}\r\n      </div>\r\n      <div>\r\n        <p>{user.name}</p>\r\n        <p>{user.status}</p>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserCard;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"UsersCard_avatar__7Wzzt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Friends_avatar__FU8fM\",\"page\":\"Friends_page__2aqf4\",\"page_active\":\"Friends_page_active__1Ptoi\"};","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import style from './Friends.module.css';\r\nimport React from 'react';\r\nimport Pagination from '../Pagination/Pagination';\r\nimport UserCard from '../UserCard/UserCard';\r\n\r\n\r\nfunction Friends({\r\n  totalFriendsCount,\r\n  pageFriendsSize,\r\n  currentFriendsPage,\r\n  onPageChanged,\r\n  friends,\r\n  followingInProgress,\r\n  unfollow,\r\n  follow,\r\n}) {\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Pagination\r\n        totalCount={totalFriendsCount}\r\n        pageSize={pageFriendsSize}\r\n        currentPage={currentFriendsPage}\r\n        onClick={onPageChanged}\r\n      />\r\n      {friends.map((user) => {\r\n        return (\r\n          <UserCard\r\n            key={user.id} \r\n            user={user}\r\n            followingInProgress={followingInProgress}\r\n            follow={follow}\r\n            unfollow={unfollow}\r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default  Friends;","import { connect } from \"react-redux\";\r\nimport { follow, unfollow, setCurrentFriendsPage, toggleFollowingProgress, getUserFriends } from \"../../redux/userReducer\";\r\nimport React from 'react';\r\nimport Friends from \"./Friends\";\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { withRouter } from \"react-router\";\r\nimport { WithAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\n\r\n\r\nfunction FriendsContainer({currentFriendsPage, pageFriendsSize, getUserFriends, setCurrentFriendsPage, ...props}) {\r\n\r\n  const onPageChanged = (pageNum) => {\r\n    setCurrentFriendsPage(pageNum);\r\n    getUserFriends(pageNum, pageFriendsSize);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    getUserFriends(currentFriendsPage, pageFriendsSize);\r\n  }, [getUserFriends, currentFriendsPage, pageFriendsSize]);\r\n  \r\n\r\n  return (\r\n    <>\r\n      {props.isFetching ? <Preloader /> : <Friends {...props}\r\n        onPageChanged={onPageChanged}\r\n        currentFriendsPage={currentFriendsPage}\r\n        pageFriendsSize={pageFriendsSize}\r\n      />}\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    totalFriendsCount: state.usersPage.totalFriendsCount,\r\n    pageFriendsSize: state.usersPage.pageFriendsSize,\r\n    currentFriendsPage: state.usersPage.currentFriendsPage,\r\n    friends: state.usersPage.friends,\r\n    isFetching: state.usersPage.isFetching,\r\n    followingInProgress: state.usersPage.followingInProgress,\r\n  }\r\n};\r\n\r\n//теперь передаем вместо функции mapDispatchToProps передаем объект,\r\n//ф-ия connect сама возьмет этот объект и сгененирурет коллбэки которые мы реньше прописывали в mapDispatchToProps\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    setCurrentFriendsPage,\r\n    getUserFriends,\r\n    follow,\r\n    unfollow,\r\n    toggleFollowingProgress,\r\n  }),\r\n  withRouter,\r\n  WithAuthRedirect\r\n)(FriendsContainer);\r\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({ isAuth: state.auth.isAuth,\r\n  id: state.auth.id });\r\n\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render(){\r\n      if(!this.props.isAuth) return <Redirect to={'/login'}/>\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n}"],"sourceRoot":""}