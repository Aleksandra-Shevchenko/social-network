(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[5],{108:function(t,e,o){"use strict";var s=o(122),a=o(0);e.a=function(t){return Object(a.jsx)(s.d,{initialValues:{message:""},onSubmit:function(e,o){o.setSubmitting;t.onSubmit(e)},children:function(e){var o=e.isSubmitting;return Object(a.jsxs)(s.c,{className:t.style,children:[Object(a.jsx)(s.b,{type:"text",name:"message",placeholder:"Enter your message"}),Object(a.jsx)("button",{type:"submit",disabled:o,children:"Send"})]})}})}},156:function(t,e,o){t.exports={content:"Profile_content__1KZ02"}},157:function(t,e,o){t.exports={myPosts_box:"MyPosts_myPosts_box__1vWVt",title:"MyPosts_title__3I_rh",form:"MyPosts_form__qT0-R"}},158:function(t,e,o){t.exports={post:"Post_post__3rY-N",avatar:"Post_avatar__36H_Y",text:"Post_text__3l8k_"}},159:function(t,e,o){t.exports={profile_info:"ProfileInfo_profile_info__2mOSo",photo_box:"ProfileInfo_photo_box__hHTGL",change_photo:"ProfileInfo_change_photo__2NOZE",description_box:"ProfileInfo_description_box__22GFZ",user_photo:"ProfileInfo_user_photo__2q-zf",user_photoDefault:"ProfileInfo_user_photoDefault__3Yiy2",header:"ProfileInfo_header__3B74Z",caption:"ProfileInfo_caption__1Orjr",info:"ProfileInfo_info__2fHGV",headline:"ProfileInfo_headline__Ng3FZ",text:"ProfileInfo_text__33OWi",photos:"ProfileInfo_photos__3NjGQ",photo:"ProfileInfo_photo___q1pS",photo_default:"ProfileInfo_photo_default__29Y-k"}},160:function(t,e,o){t.exports={profile_info:"ProfileStatus_profile_info__31_wB",description_box:"ProfileStatus_description_box__1jV-l",user_photo:"ProfileStatus_user_photo__1Gzwh",user_photoDefault:"ProfileStatus_user_photoDefault__1tNob",header:"ProfileStatus_header__23dCf",caption:"ProfileStatus_caption__3qmL3",info:"ProfileStatus_info__SmNuY",headline:"ProfileStatus_headline__2PVkF",text:"ProfileStatus_text__13i11",photos:"ProfileStatus_photos__2D9fU",photo:"ProfileStatus_photo__1x8f0",photo_default:"ProfileStatus_photo_default__WggP-"}},267:function(t,e,o){"use strict";o.r(e);var s=o(2),a=o(25),n=o(26),r=o(27),i=o(28),c=o(20),u=o(42),l=o(1),f=o.n(l),p=o(156),_=o.n(p),h=o(157),d=o.n(h),j=o(158),b=o.n(j),m=o(0);var x=function(t){var e=t.message;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:b.a.post,children:[Object(m.jsx)("img",{className:b.a.avatar,src:"https://static.mycity.travel/manage/uploads/7/36/112961/1/2500px-fribourgregion-20190704-dscf3505_3000.jpg",alt:""}),Object(m.jsx)("p",{className:b.a.text,children:e})]})})},O=o(108);var P=function(t){return Object(m.jsxs)("div",{className:d.a.myPosts_box,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:d.a.title,children:"My posts"}),Object(m.jsx)(O.a,{onSubmit:function(e){t.addPost(e.message)},style:d.a.form})]}),Object(m.jsx)("div",{className:"PostList",children:t.posts.map((function(t){return Object(m.jsx)(x,{message:t.text},t.id)}))})]})},v=Object(c.b)((function(t){return{posts:t.profilePage.posts,newPostTex:t.profilePage.newPostTex}}),(function(t){return{addPost:function(e){t(Object(u.a)(e))}}}))(P),g=o(159),y=o.n(g),S=o(19),N=o.p+"static/media/camera.9436a671.svg",I=o(40),k=o(95),w=o(160),A=o.n(w);var D=function(t){var e=f.a.useState(!1),o=Object(k.a)(e,2),s=o[0],a=o[1],n=f.a.useState(t.status),r=Object(k.a)(n,2),i=r[0],c=r[1];return f.a.useEffect((function(){c(t.status)}),[t.status]),Object(m.jsx)("div",{className:A.a.profile_status,children:s?Object(m.jsx)("div",{children:Object(m.jsx)("input",{autoFocus:!0,onBlur:function(){a(!1),t.updateStatus(i)},value:i,onChange:function(t){c(t.currentTarget.value)}})}):Object(m.jsx)("div",{children:Object(m.jsx)("p",{onClick:function(){t.noChanges?a(!1):a(!0)},children:t.status||"No status"})})})};var C=function(t){var e=t.profile,o=t.status,s=t.updateStatus,a=t.idAuthUser,n=t.isOwner,r=t.savePhoto;return e?Object(m.jsxs)("div",{className:y.a.profile_info,children:[Object(m.jsxs)("div",{className:y.a.photo_box,children:[Object(m.jsx)("img",{className:"".concat(y.a.user_photo," ").concat(!e.photos.large&&y.a.user_photoDefault),src:e.photos.large||I.a,alt:"#"}),n&&Object(m.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&r(t.target.files[0])},className:y.a.change_photo})]}),Object(m.jsxs)("div",{className:y.a.description_box,children:[Object(m.jsxs)("div",{className:y.a.main_info,children:[Object(m.jsx)("h2",{className:y.a.header,children:e.fullName}),Object(m.jsx)(D,{status:o,updateStatus:s,noChanges:e.userId!==a&&!0})]}),Object(m.jsxs)("div",{className:y.a.info,children:[Object(m.jsxs)("p",{className:y.a.text,children:[Object(m.jsx)("span",{className:y.a.headline,children:"About me: "}),e.aboutMe||"no description"]}),Object(m.jsxs)("p",{className:y.a.text,children:[Object(m.jsx)("span",{className:y.a.headline,children:e.lookingForAJob?"Looking for a job: ":"Employed: "}),e.lookingForAJobDescription||"no description"]})]}),Object(m.jsxs)("div",{className:y.a.photos,children:[Object(m.jsx)("img",{className:"".concat(y.a.photo," ").concat(!e.photos.large&&y.a.photo_default),src:e.photos.large||N,alt:"#"}),Object(m.jsx)("img",{className:"".concat(y.a.photo," ").concat(!e.photos.small&&y.a.photo_default),src:e.photos.small||N,alt:""})]})]})]}):Object(m.jsx)(S.a,{})};var F=function(t){var e=t.profile,o=t.status,s=t.updateStatus,a=t.id,n=t.isOwner,r=t.savePhoto;return Object(m.jsxs)("div",{className:_.a.content,children:[Object(m.jsx)(C,{profile:e,status:o,updateStatus:s,idAuthUser:a,isOwner:n,savePhoto:r}),Object(m.jsx)(v,{})]})},M=o(3),T=o(96),E=o(18),G=function(t){Object(r.a)(o,t);var e=Object(i.a)(o);function o(){return Object(a.a)(this,o),e.apply(this,arguments)}return Object(n.a)(o,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.id),this.props.getPersonalInfo(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,o){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(m.jsx)(F,Object(s.a)(Object(s.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),o}(f.a.Component);e.default=Object(E.d)(Object(c.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status}}),{getPersonalInfo:u.c,getStatus:u.d,updateStatus:u.f,savePhoto:u.e}),M.f,T.a)(G)},95:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var s=o(38);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var o=[],s=!0,a=!1,n=void 0;try{for(var r,i=t[Symbol.iterator]();!(s=(r=i.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(c){a=!0,n=c}finally{try{s||null==i.return||i.return()}finally{if(a)throw n}}return o}}(t,e)||Object(s.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},96:function(t,e,o){"use strict";o.d(e,"a",(function(){return h}));var s=o(2),a=o(25),n=o(26),r=o(27),i=o(28),c=o(1),u=o.n(c),l=o(3),f=o(20),p=o(0),_=function(t){return{isAuth:t.auth.isAuth,id:t.auth.id}},h=function(t){var e=function(e){Object(r.a)(c,e);var o=Object(i.a)(c);function c(){return Object(a.a)(this,c),o.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(p.jsx)(t,Object(s.a)({},this.props)):Object(p.jsx)(l.a,{to:"/login"})}}]),c}(u.a.Component);return Object(f.b)(_)(e)}}}]);
//# sourceMappingURL=5.941e36a3.chunk.js.map