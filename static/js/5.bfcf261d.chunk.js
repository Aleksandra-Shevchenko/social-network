(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[5],{109:function(e,t,a){"use strict";var o=a(108),s=a(0);t.a=function(e){return Object(s.jsx)(o.d,{initialValues:{message:""},onSubmit:function(t,a){a.setSubmitting;e.onSubmit(t)},children:function(t){var a=t.isSubmitting;return Object(s.jsxs)(o.c,{className:e.style,children:[Object(s.jsx)(o.b,{type:"text",name:"message",placeholder:"Enter your message"}),Object(s.jsx)("button",{type:"submit",disabled:a,children:"Send"})]})}})}},115:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n}));var o=a(150),s="This address is invalid. The field must contain URL",r=o.a().shape({email:o.b().email().required("Email is required"),password:o.b().required("Password is required").min(4,"Password is too short - should be 4 chars min")}),n=o.a().shape({fullName:o.b().required("Name is required").min(2,"Name is too short - should be 2 chars min").max(40,"Name is too long - should be 40 chars max"),aboutMe:o.b(),lookingForAJobDescription:o.b(),contacts:o.a().shape({facebook:o.b().url(s),github:o.b().url(s),instagram:o.b().url(s),mainLink:o.b().url(s),twitter:o.b().url(s),vk:o.b().url(s),website:o.b().url(s),youtube:o.b().url(s)})})},158:function(e,t,a){e.exports={content:"Profile_content__1KZ02"}},159:function(e,t,a){e.exports={myPosts_box:"MyPosts_myPosts_box__1vWVt",title:"MyPosts_title__3I_rh",form:"MyPosts_form__qT0-R"}},160:function(e,t,a){e.exports={post:"Post_post__3rY-N",avatar:"Post_avatar__36H_Y",text:"Post_text__3l8k_"}},161:function(e,t,a){e.exports={profile_info:"ProfileInfo_profile_info__2mOSo",photo_box:"ProfileInfo_photo_box__hHTGL",change_photo:"ProfileInfo_change_photo__2NOZE",user_photo:"ProfileInfo_user_photo__2q-zf",user_photoDefault:"ProfileInfo_user_photoDefault__3Yiy2",description_box:"ProfileInfo_description_box__22GFZ",main_info:"ProfileInfo_main_info__3Tn_J",header:"ProfileInfo_header__3B74Z",liner:"ProfileInfo_liner__MKxkr",edit:"ProfileInfo_edit__MnHiT",caption:"ProfileInfo_caption__1Orjr",info:"ProfileInfo_info__2fHGV",contacts:"ProfileInfo_contacts__2AZtE",contacts_box:"ProfileInfo_contacts_box__3T7if",icon_box:"ProfileInfo_icon_box__oUNUo",icon_link:"ProfileInfo_icon_link__3imz7",icon:"ProfileInfo_icon__tJSm8",icon_empty:"ProfileInfo_icon_empty__1cA3w",headline:"ProfileInfo_headline__Ng3FZ",text:"ProfileInfo_text__33OWi",photos:"ProfileInfo_photos__3NjGQ",photo:"ProfileInfo_photo___q1pS",photo_default:"ProfileInfo_photo_default__29Y-k"}},162:function(e,t,a){e.exports={status_box:"ProfileStatus_status_box__1-2Ub",status:"ProfileStatus_status__3Xo_d",status_input:"ProfileStatus_status_input__A8FtX"}},163:function(e,t,a){e.exports={profile_form_box:"ProfileDataForm_profile_form_box__3d7zc",container:"ProfileDataForm_container__26FEU",title:"ProfileDataForm_title__2ekHx",form:"ProfileDataForm_form__3bznC",form_row:"ProfileDataForm_form_row____tdv",form_checkbox:"ProfileDataForm_form_checkbox__8qdSy",label:"ProfileDataForm_label__3w_sQ",input:"ProfileDataForm_input__2OUoy",input_textarea:"ProfileDataForm_input_textarea__27wfK",input_error:"ProfileDataForm_input_error__2BzVY",error:"ProfileDataForm_error__2PkQx",server_errorContainer:"ProfileDataForm_server_errorContainer__2PyIb",server_error:"ProfileDataForm_server_error__yh_Ln",btn:"ProfileDataForm_btn__2bYdc",btn_disabled:"ProfileDataForm_btn_disabled__3Sb7I"}},270:function(e,t,a){"use strict";a.r(t);var o=a(2),s=a(25),r=a(26),n=a(27),i=a(28),c=a(20),l=a(42),u=a(1),b=a.n(u),_=a(158),f=a.n(_),d=a(159),m=a.n(d),j=a(160),p=a.n(j),h=a(0);var x=function(e){var t=e.message;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:p.a.post,children:[Object(h.jsx)("img",{className:p.a.avatar,src:"https://static.mycity.travel/manage/uploads/7/36/112961/1/2500px-fribourgregion-20190704-dscf3505_3000.jpg",alt:""}),Object(h.jsx)("p",{className:p.a.text,children:t})]})})},O=a(109);var v=function(e){return Object(h.jsxs)("div",{className:m.a.myPosts_box,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:m.a.title,children:"My posts"}),Object(h.jsx)(O.a,{onSubmit:function(t){e.addPost(t.message)},style:m.a.form})]}),Object(h.jsx)("div",{className:"PostList",children:e.posts.map((function(e){return Object(h.jsx)(x,{message:e.text},e.id)}))})]})},g=Object(c.b)((function(e){return{posts:e.profilePage.posts,newPostTex:e.profilePage.newPostTex}}),(function(e){return{addPost:function(t){e(Object(l.a)(t))}}}))(v),P=a(95),N=a(161),k=a.n(N),F=a(19),y=a(40),w=a(162),I=a.n(w);var S=function(e){var t=b.a.useState(!1),a=Object(P.a)(t,2),o=a[0],s=a[1],r=b.a.useState(e.status),n=Object(P.a)(r,2),i=n[0],c=n[1];return b.a.useEffect((function(){c(e.status)}),[e.status]),Object(h.jsx)("div",{className:I.a.status_box,children:o?Object(h.jsx)("input",{autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(i)},value:i,onChange:function(e){c(e.currentTarget.value)},className:I.a.status_input}):Object(h.jsx)("p",{onClick:function(){e.noChanges?s(!1):s(!0)},className:I.a.status,children:e.status||"Set status"})})},A=a(163),D=a.n(A),M=a(115),J=a(108);var C=function(e){var t=e.profile,a=e.error,s=e.saveProfile,r=e.idAuthUser,n=e.onEditMode,i=Object.keys(t.contacts).reduce((function(e,a){return e[a]=t.contacts[a]?t.contacts[a]:"",e}),{});return console.log(i),Object(h.jsx)("div",{className:D.a.profile_form_box,children:Object(h.jsx)(J.d,{initialValues:{fullName:t.fullName,aboutMe:t.aboutMe?t.aboutMe:"",lookingForAJobDescription:t.lookingForAJobDescription?t.lookingForAJobDescription:"",lookingForAJob:t.lookingForAJob,contacts:Object(o.a)({},i)},validationSchema:M.b,onSubmit:function(e){s(e,r).then((function(){n()})),console.log(e)},children:function(e){var o=e.errors,s=e.touched,r=e.isValid,i=e.dirty;return Object(h.jsxs)("div",{className:D.a.container,children:[Object(h.jsx)("button",{onClick:n,children:"exit edit mode"}),Object(h.jsxs)(J.c,{className:D.a.form,children:[Object(h.jsx)("h2",{className:D.a.title,children:"Basic information"}),Object(h.jsxs)("div",{className:D.a.form_row,children:[Object(h.jsx)("label",{htmlFor:"fullName",className:D.a.label,children:"Full name"}),Object(h.jsx)(J.b,{type:"text",name:"fullName",id:"fullName",className:"\n                    ".concat(D.a.input,"\n                    ").concat(o.fullName&&s.fullName?D.a.input_error:null,"\n                  ")}),Object(h.jsx)(J.a,{name:"fullName",component:"span",className:D.a.error})]}),Object(h.jsxs)("div",{className:D.a.form_row,children:[Object(h.jsx)("label",{htmlFor:"aboutMe",className:D.a.label,children:"About me"}),Object(h.jsx)(J.b,{as:"textarea",type:"text",name:"aboutMe",id:"aboutMe",className:"\n                    ".concat(D.a.input,"\n                    ").concat(D.a.input_textarea,"\n                    ").concat(o.aboutMe&&s.aboutMe?D.a.input_error:null,"\n                  ")}),Object(h.jsx)(J.a,{name:"aboutMe",component:"span",className:D.a.error})]}),Object(h.jsxs)("div",{className:D.a.form_row,children:[Object(h.jsx)("label",{htmlFor:"lookingForAJobDescription",className:D.a.label,children:"Professional skills"}),Object(h.jsx)(J.b,{as:"textarea",type:"text",name:"lookingForAJobDescription",id:"lookingForAJobDescription",className:"\n                    ".concat(D.a.input,"\n                    ").concat(D.a.input_textarea,"\n                    ").concat(o.lookingForAJobDescription&&s.lookingForAJobDescription?D.a.input_error:null,"\n                  ")}),Object(h.jsx)(J.a,{name:"lookingForAJobDescription",component:"span",className:D.a.error})]}),Object(h.jsx)("h2",{className:D.a.title,children:"Career"}),Object(h.jsxs)("div",{className:D.a.form_checkbox,children:[Object(h.jsx)("label",{htmlFor:"lookingForAJob",className:D.a.label,children:"Looking for a job"}),Object(h.jsx)(J.b,{type:"checkbox",name:"lookingForAJob",id:"lookingForAJob",className:D.a.checkbox})]}),Object(h.jsx)("h2",{className:D.a.title,children:"Contacts"}),Object(h.jsx)("div",{children:Object.keys(t.contacts).map((function(e){return Object(h.jsxs)("div",{className:D.a.form_row,children:[Object(h.jsx)("label",{htmlFor:"contacts."+e,className:D.a.label,children:e}),Object(h.jsx)(J.b,{type:"text",name:"contacts."+e,id:"contacts."+e,className:"\n                        ".concat(D.a.input,"\n                        ").concat(o["contacts."+e]&&s["contacts."+e]?D.a.input_error:null,"\n                      ")}),Object(h.jsx)(J.a,{name:"contacts."+e,component:"span",className:D.a.error})]},e)}))}),Object(h.jsx)("button",{type:"submit",className:"".concat(D.a.btn," ").concat(i&&r?"":D.a.btn_disabled),disabled:!(i&&r),children:"Save"}),a?Object(h.jsxs)("div",{className:D.a.server_errorContainer,children:[Object(h.jsx)("p",{className:D.a.server_error,children:"Something wrong!"}),Object(h.jsx)("p",{className:D.a.server_error,children:a})]}):null]})]})}})})},U=(a.p,a.p+"static/media/facebook.8a845d65.svg"),E=a.p+"static/media/instagram.76d3e39f.svg",q=a.p+"static/media/youtube.42828603.svg",T=a.p+"static/media/github.2d5e16a0.svg",L=a.p+"static/media/mainLink.6f35dd4e.svg",V=a.p+"static/media/twitter.7e3391c2.svg",Y={facebook:U,instagram:E,vk:a.p+"static/media/vk.82ad7afb.svg",youtube:q,github:T,mainLink:L,twitter:V,website:a.p+"static/media/website.208d2a60.svg"};var Z=function(e){var t=e.title,a=e.value;return Object(h.jsx)("div",{className:k.a.icon_box,children:a?Object(h.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",className:k.a.icon_link,children:Object(h.jsx)("img",{src:Y[t],alt:"social netwok",className:k.a.icon})}):Object(h.jsx)("img",{src:Y[t],alt:"social netwok",className:k.a.icon_empty})})},z=function(e){var t=e.profile,a=e.isOwner,o=e.onChangePhoto,s=e.onEditMode,r=e.status,n=e.updateStatus,i=e.idAuthUser;return Object(h.jsxs)("div",{className:k.a.profile_info,children:[Object(h.jsxs)("div",{className:k.a.photo_box,children:[Object(h.jsx)("img",{className:"".concat(k.a.user_photo," ").concat(!t.photos.large&&k.a.user_photoDefault),src:t.photos.large||y.a,alt:"#"}),a&&Object(h.jsx)("input",{type:"file",onChange:o,className:k.a.change_photo})]}),Object(h.jsxs)("div",{className:k.a.description_box,children:[Object(h.jsxs)("div",{className:k.a.main_info,children:[Object(h.jsx)("h2",{className:k.a.header,children:t.fullName}),Object(h.jsx)(S,{status:r,updateStatus:n,noChanges:t.userId!==i&&!0})]}),a?Object(h.jsx)("button",{onClick:s,className:k.a.edit,children:"Edit"}):Object(h.jsx)("div",{className:k.a.liner}),Object(h.jsxs)("div",{className:k.a.info,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{className:k.a.headline,children:"About me"}),Object(h.jsx)("p",{className:k.a.text,children:t.aboutMe||"no description"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{className:k.a.headline,children:"Professional skills"}),Object(h.jsx)("p",{className:k.a.text,children:t.lookingForAJobDescription||"no description"})]}),Object(h.jsx)("p",{className:k.a.text,children:Object(h.jsx)("span",{className:k.a.headline,children:t.lookingForAJob?"Looking for a job":"Employed"})}),Object(h.jsxs)("div",{className:k.a.contacts,children:[Object(h.jsx)("h3",{className:k.a.headline,children:"Contacts"}),Object(h.jsx)("div",{className:k.a.contacts_box,children:Object.keys(t.contacts).map((function(e){return Object(h.jsx)(Z,{title:e,value:t.contacts[e]},e)}))})]})]})]})]})},H=function(e){var t=e.profile,a=e.status,o=e.updateStatus,s=e.idAuthUser,r=e.isOwner,n=e.savePhoto,i=e.saveProfile,c=e.error,l=b.a.useState(!1),u=Object(P.a)(l,2),_=u[0],f=u[1];return t?Object(h.jsx)(h.Fragment,{children:_?Object(h.jsx)(C,{profile:t,isOwner:r,saveProfile:i,idAuthUser:s,onEditMode:function(){f(!1)},error:c}):Object(h.jsx)(z,{profile:t,isOwner:r,onEditMode:function(){f(!0)},onChangePhoto:function(e){e.target.files.length&&n(e.target.files[0])},status:a,updateStatus:o,idAuthUser:s})}):Object(h.jsx)(F.a,{})};var B=function(e){var t=e.profile,a=e.status,o=e.updateStatus,s=e.id,r=e.isOwner,n=e.savePhoto,i=e.saveProfile,c=e.error;return Object(h.jsxs)("div",{className:f.a.content,children:[Object(h.jsx)(H,{profile:t,status:a,updateStatus:o,idAuthUser:s,isOwner:r,savePhoto:n,saveProfile:i,error:c}),r&&Object(h.jsx)(g,{})]})},G=a(3),K=a(96),Q=a(18),R=function(e){Object(n.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.id),this.props.getPersonalInfo(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(h.jsx)(B,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),a}(b.a.Component);t.default=Object(Q.d)(Object(c.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,error:e.profilePage.error}}),{getPersonalInfo:l.c,getStatus:l.d,updateStatus:l.g,savePhoto:l.e,saveProfile:l.f}),G.f,K.a)(R)},96:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var o=a(2),s=a(25),r=a(26),n=a(27),i=a(28),c=a(1),l=a.n(c),u=a(3),b=a(20),_=a(0),f=function(e){return{isAuth:e.auth.isAuth,id:e.auth.id}},d=function(e){var t=function(t){Object(n.a)(c,t);var a=Object(i.a)(c);function c(){return Object(s.a)(this,c),a.apply(this,arguments)}return Object(r.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(_.jsx)(e,Object(o.a)({},this.props)):Object(_.jsx)(u.a,{to:"/login"})}}]),c}(l.a.Component);return Object(b.b)(f)(t)}}}]);
//# sourceMappingURL=5.bfcf261d.chunk.js.map