(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[5],{109:function(e,t,o){"use strict";var a=o(108),s=o(0);t.a=function(e){return Object(s.jsx)(a.d,{initialValues:{message:""},onSubmit:function(t,o){o.setSubmitting;e.onSubmit(t)},children:function(t){var o=t.isSubmitting;return Object(s.jsxs)(a.c,{className:e.style,children:[Object(s.jsx)(a.b,{type:"text",name:"message",placeholder:"Enter your message"}),Object(s.jsx)("button",{type:"submit",disabled:o,children:"Send"})]})}})}},156:function(e,t,o){e.exports={content:"Profile_content__1KZ02"}},157:function(e,t,o){e.exports={myPosts_box:"MyPosts_myPosts_box__1vWVt",title:"MyPosts_title__3I_rh",form:"MyPosts_form__qT0-R"}},158:function(e,t,o){e.exports={post:"Post_post__3rY-N",avatar:"Post_avatar__36H_Y",text:"Post_text__3l8k_"}},159:function(e,t,o){e.exports={profile_info:"ProfileInfo_profile_info__2mOSo",photo_box:"ProfileInfo_photo_box__hHTGL",change_photo:"ProfileInfo_change_photo__2NOZE",description_box:"ProfileInfo_description_box__22GFZ",user_photo:"ProfileInfo_user_photo__2q-zf",user_photoDefault:"ProfileInfo_user_photoDefault__3Yiy2",header:"ProfileInfo_header__3B74Z",caption:"ProfileInfo_caption__1Orjr",info:"ProfileInfo_info__2fHGV",headline:"ProfileInfo_headline__Ng3FZ",text:"ProfileInfo_text__33OWi",photos:"ProfileInfo_photos__3NjGQ",photo:"ProfileInfo_photo___q1pS",photo_default:"ProfileInfo_photo_default__29Y-k"}},160:function(e,t,o){e.exports={profile_info:"ProfileStatus_profile_info__31_wB",description_box:"ProfileStatus_description_box__1jV-l",user_photo:"ProfileStatus_user_photo__1Gzwh",user_photoDefault:"ProfileStatus_user_photoDefault__1tNob",header:"ProfileStatus_header__23dCf",caption:"ProfileStatus_caption__3qmL3",info:"ProfileStatus_info__SmNuY",headline:"ProfileStatus_headline__2PVkF",text:"ProfileStatus_text__13i11",photos:"ProfileStatus_photos__2D9fU",photo:"ProfileStatus_photo__1x8f0",photo_default:"ProfileStatus_photo_default__WggP-"}},161:function(e,t,o){},268:function(e,t,o){"use strict";o.r(t);var a=o(2),s=o(25),n=o(26),r=o(27),i=o(28),c=o(20),l=o(42),u=o(1),f=o.n(u),b=o(156),p=o.n(b),j=o(157),h=o.n(j),d=o(158),_=o.n(d),m=o(0);var x=function(e){var t=e.message;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:_.a.post,children:[Object(m.jsx)("img",{className:_.a.avatar,src:"https://static.mycity.travel/manage/uploads/7/36/112961/1/2500px-fribourgregion-20190704-dscf3505_3000.jpg",alt:""}),Object(m.jsx)("p",{className:_.a.text,children:t})]})})},O=o(109);var v=function(e){return Object(m.jsxs)("div",{className:h.a.myPosts_box,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:h.a.title,children:"My posts"}),Object(m.jsx)(O.a,{onSubmit:function(t){e.addPost(t.message)},style:h.a.form})]}),Object(m.jsx)("div",{className:"PostList",children:e.posts.map((function(e){return Object(m.jsx)(x,{message:e.text},e.id)}))})]})},g=Object(c.b)((function(e){return{posts:e.profilePage.posts,newPostTex:e.profilePage.newPostTex}}),(function(e){return{addPost:function(t){e(Object(l.a)(t))}}}))(v),P=o(94),N=o(159),y=o.n(N),S=o(19),k=o.p+"static/media/camera.9436a671.svg",A=o(40),F=o(160),I=o.n(F);var w=function(e){var t=f.a.useState(!1),o=Object(P.a)(t,2),a=o[0],s=o[1],n=f.a.useState(e.status),r=Object(P.a)(n,2),i=r[0],c=r[1];return f.a.useEffect((function(){c(e.status)}),[e.status]),Object(m.jsx)("div",{className:I.a.profile_status,children:a?Object(m.jsx)("div",{children:Object(m.jsx)("input",{autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(i)},value:i,onChange:function(e){c(e.currentTarget.value)}})}):Object(m.jsx)("div",{children:Object(m.jsx)("p",{onClick:function(){e.noChanges?s(!1):s(!0)},children:e.status||"No status"})})})},D=o(161),J=o.n(D),M=o(108);var C=function(e){var t=e.profile,o=e.error,a=e.saveProfile,s=e.idAuthUser;return console.log(t),Object(m.jsx)("div",{className:J.a.login_box,children:Object(m.jsx)(M.d,{initialValues:{fullName:t.fullName,aboutMe:t.aboutMe?t.aboutMe:"",lookingForAJobDescription:t.lookingForAJobDescription?t.lookingForAJobDescription:"",lookingForAJob:t.lookingForAJob},onSubmit:function(e){a(e,s),console.log(e)},children:function(e){var t=e.errors,a=e.touched,s=e.isValid,n=e.dirty;return Object(m.jsxs)("div",{className:J.a.container,children:[Object(m.jsx)("h1",{className:J.a.title,children:"HH"}),Object(m.jsxs)(M.c,{className:J.a.form,children:[Object(m.jsxs)("div",{className:J.a.form_row,children:[Object(m.jsx)("label",{htmlFor:"fullName",className:J.a.label,children:"Full name"}),Object(m.jsx)(M.b,{type:"text",name:"fullName",id:"fullName",className:"\n                    ".concat(J.a.input,"\n                    ").concat(t.fullName&&a.fullName?J.a.input_error:null,"\n                  ")}),Object(m.jsx)(M.a,{name:"fullName",component:"span",className:J.a.error})]}),Object(m.jsxs)("div",{className:J.a.form_row,children:[Object(m.jsx)("label",{htmlFor:"aboutMe",className:J.a.label,children:"About me"}),Object(m.jsx)(M.b,{as:"textarea",type:"text",name:"aboutMe",id:"aboutMe",className:"\n                    ".concat(J.a.input,"\n                    ").concat(t.aboutMe&&a.aboutMe?J.a.input_error:null,"\n                  ")}),Object(m.jsx)(M.a,{name:"aboutMe",component:"span",className:J.a.error})]}),Object(m.jsxs)("div",{className:J.a.form_row,children:[Object(m.jsx)("label",{htmlFor:"lookingForAJobDescription",className:J.a.label,children:"Professional skills"}),Object(m.jsx)(M.b,{as:"textarea",type:"text",name:"lookingForAJobDescription",id:"lookingForAJobDescription",className:"\n                    ".concat(J.a.input,"\n                    ").concat(t.lookingForAJobDescription&&a.lookingForAJobDescription?J.a.input_error:null,"\n                  ")}),Object(m.jsx)(M.a,{name:"lookingForAJobDescription",component:"span",className:J.a.error})]}),Object(m.jsxs)("div",{className:J.a.form_checkbox,children:[Object(m.jsx)("label",{htmlFor:"lookingForAJob",className:J.a.label,children:"Looking for a job"}),Object(m.jsx)(M.b,{type:"checkbox",name:"lookingForAJob",id:"lookingForAJob",className:J.a.checkbox})]}),Object(m.jsx)("button",{type:"submit",className:"".concat(J.a.btn," ").concat(n&&s?"":J.a.btn_disabled),disabled:!(n&&s),children:"Save"}),o?Object(m.jsxs)("div",{className:J.a.server_errorContainer,children:[Object(m.jsx)("p",{className:J.a.server_error,children:"Something wrong!"}),Object(m.jsx)("p",{className:J.a.server_error,children:o})]}):null]})]})}})})};var E=function(e){var t=e.title,o=e.value;return Object(m.jsxs)("div",{children:[t,": ",o]})},U=function(e){var t=e.profile,o=e.isOwner,a=e.onChangePhoto,s=e.onEditMode,n=e.status,r=e.updateStatus,i=e.idAuthUser;return Object(m.jsxs)("div",{className:y.a.profile_info,children:[Object(m.jsxs)("div",{className:y.a.photo_box,children:[Object(m.jsx)("img",{className:"".concat(y.a.user_photo," ").concat(!t.photos.large&&y.a.user_photoDefault),src:t.photos.large||A.a,alt:"#"}),o&&Object(m.jsx)("input",{type:"file",onChange:a,className:y.a.change_photo})]}),Object(m.jsxs)("div",{className:y.a.description_box,children:[Object(m.jsxs)("div",{className:y.a.main_info,children:[Object(m.jsx)("h2",{className:y.a.header,children:t.fullName}),Object(m.jsx)(w,{status:n,updateStatus:r,noChanges:t.userId!==i&&!0})]}),o&&Object(m.jsx)("button",{onClick:s,children:"Edit"}),Object(m.jsxs)("div",{className:y.a.info,children:[Object(m.jsxs)("p",{className:y.a.text,children:[Object(m.jsx)("span",{className:y.a.headline,children:"About me: "}),t.aboutMe||"no description"]}),Object(m.jsx)("p",{className:y.a.text,children:Object(m.jsx)("span",{className:y.a.headline,children:t.lookingForAJob?"Looking for a job":"Employed"})}),Object(m.jsxs)("p",{className:y.a.text,children:[Object(m.jsx)("span",{className:y.a.headline,children:"Professional skills: "}),t.lookingForAJobDescription||"no description"]}),Object(m.jsxs)("div",{children:["Contacts : ",Object.keys(t.contacts).map((function(e){return Object(m.jsx)(E,{title:e,value:t.contacts[e]},e)}))]})]}),Object(m.jsxs)("div",{className:y.a.photos,children:[Object(m.jsx)("img",{className:"".concat(y.a.photo," ").concat(!t.photos.large&&y.a.photo_default),src:t.photos.large||k,alt:"#"}),Object(m.jsx)("img",{className:"".concat(y.a.photo," ").concat(!t.photos.small&&y.a.photo_default),src:t.photos.small||k,alt:""})]})]})]})},V=function(e){var t=e.profile,o=e.status,a=e.updateStatus,s=e.idAuthUser,n=e.isOwner,r=e.savePhoto,i=e.saveProfile,c=f.a.useState(!1),l=Object(P.a)(c,2),u=l[0],b=l[1];return t?Object(m.jsx)(m.Fragment,{children:u?Object(m.jsx)(C,{profile:t,isOwner:n,saveProfile:i,idAuthUser:s}):Object(m.jsx)(U,{profile:t,isOwner:n,onEditMode:function(){b(!0)},onChangePhoto:function(e){e.target.files.length&&r(e.target.files[0])},status:o,updateStatus:a,idAuthUser:s})}):Object(m.jsx)(S.a,{})};var T=function(e){var t=e.profile,o=e.status,a=e.updateStatus,s=e.id,n=e.isOwner,r=e.savePhoto,i=e.saveProfile;return Object(m.jsxs)("div",{className:p.a.content,children:[Object(m.jsx)(V,{profile:t,status:o,updateStatus:a,idAuthUser:s,isOwner:n,savePhoto:r,saveProfile:i}),Object(m.jsx)(g,{})]})},G=o(3),H=o(96),L=o(18),Y=function(e){Object(r.a)(o,e);var t=Object(i.a)(o);function o(){return Object(s.a)(this,o),t.apply(this,arguments)}return Object(n.a)(o,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.id),this.props.getPersonalInfo(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,o){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(m.jsx)(T,Object(a.a)(Object(a.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),o}(f.a.Component);t.default=Object(L.d)(Object(c.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status}}),{getPersonalInfo:l.c,getStatus:l.d,updateStatus:l.g,savePhoto:l.e,saveProfile:l.f}),G.f,H.a)(Y)},94:function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var a=o(38);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var o=[],a=!0,s=!1,n=void 0;try{for(var r,i=e[Symbol.iterator]();!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,n=c}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(e,t)||Object(a.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},96:function(e,t,o){"use strict";o.d(t,"a",(function(){return j}));var a=o(2),s=o(25),n=o(26),r=o(27),i=o(28),c=o(1),l=o.n(c),u=o(3),f=o(20),b=o(0),p=function(e){return{isAuth:e.auth.isAuth,id:e.auth.id}},j=function(e){var t=function(t){Object(r.a)(c,t);var o=Object(i.a)(c);function c(){return Object(s.a)(this,c),o.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(b.jsx)(e,Object(a.a)({},this.props)):Object(b.jsx)(u.a,{to:"/login"})}}]),c}(l.a.Component);return Object(f.b)(p)(t)}}}]);
//# sourceMappingURL=5.a91c6c05.chunk.js.map