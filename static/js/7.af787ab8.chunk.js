(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[7],{112:function(t,e,n){"use strict";var a=n(95),r=n(1),o=n.n(r),s=n(113),i=n.n(s),c=n(0);e.a=function(t){for(var e=t.totalCount,n=t.pageSize,r=t.currentPage,s=t.onClick,u=t.portionSize,l=void 0===u?10:u,f=Math.ceil(e/n),g=[],d=1;d<=f;d++)g.push(d);var b=o.a.useState(1),_=Object(a.a)(b,2),p=_[0],j=_[1],h=Math.ceil(f/l),v=(p-1)*l+1,O=p*l;return o.a.useEffect((function(){j(Math.ceil(r/l))}),[r,l]),Object(c.jsxs)("div",{className:i.a.paginator,children:[p>1&&Object(c.jsx)("button",{className:"".concat(i.a.left," ").concat(i.a.arrow),onClick:function(){j(p-1),s((p-2)*l+1)}}),g.filter((function(t){return t>=v&&t<=O})).map((function(t){return Object(c.jsx)("button",{className:"".concat(i.a.page," ").concat(t===r&&i.a.page_active),onClick:function(){return s(t)},children:t},t)})),h>p&&Object(c.jsx)("button",{className:"".concat(i.a.right," ").concat(i.a.arrow),onClick:function(){j(p+1),s(p*l+1)}})]})}},113:function(t,e,n){t.exports={page:"Pagination_page__3ALm-",page_active:"Pagination_page_active__5YgsH",paginator:"Pagination_paginator__2lOiO",arrow:"Pagination_arrow__2JBNs",left:"Pagination_left__3OWz-",right:"Pagination_right__itvgQ"}},114:function(t,e,n){t.exports={list:"UsersList_list__j40dD"}},115:function(t,e,n){t.exports={card:"UsersCard_card__i2_cK",avatar_box:"UsersCard_avatar_box__1h0zi",avatar:"UsersCard_avatar__7Wzzt",info_box:"UsersCard_info_box__3oB1Q",name:"UsersCard_name__1I9y8",status:"UsersCard_status__1J429",button:"UsersCard_button__2-_RS",button_add:"UsersCard_button_add__2WRNP",button_delete:"UsersCard_button_delete__3p_Tz"}},125:function(t,e,n){"use strict";var a=n(114),r=n.n(a),o=(n(1),n(115)),s=n.n(o),i=n(40),c=n(10),u=n(0);var l=function(t){var e=t.user,n=t.followingInProgress,a=t.follow,r=t.unfollow,o=t.friend;return Object(u.jsxs)("div",{className:s.a.card,children:[Object(u.jsx)("div",{className:s.a.avatar_box,children:Object(u.jsx)(c.c,{to:"/profile/"+e.id,children:Object(u.jsx)("img",{src:e.photos.small?e.photos.small:i.a,alt:"user",className:s.a.avatar})})}),Object(u.jsxs)("div",{className:s.a.info_box,children:[Object(u.jsx)("p",{className:s.a.name,children:e.name}),o&&Object(u.jsx)("p",{className:s.a.status,children:e.status}),e.followed?Object(u.jsx)("button",{disabled:n.some((function(t){return t===e.id})),onClick:function(){return r(e.id)},className:"".concat(s.a.button," ").concat(s.a.button_delete),children:"Unfollow"}):Object(u.jsx)("button",{disabled:n.some((function(t){return t===e.id})),onClick:function(){return a(e.id)},className:"".concat(s.a.button," ").concat(s.a.button_add),children:"Follow"})]})]})};e.a=function(t){var e=t.users,n=t.followingInProgress,a=t.unfollow,o=t.follow,s=t.friend;return Object(u.jsx)("div",{className:r.a.list,children:e.map((function(t){return Object(u.jsx)(l,{user:t,followingInProgress:n,follow:o,unfollow:a,friend:s},t.id)}))})}},267:function(t,e,n){t.exports={avatar:"Users_avatar__coBMK"}},274:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n(25),o=n(26),s=n(27),i=n(28),c=n(20),u=n(30),l=n(1),f=n.n(l),g=(n(267),n(112)),d=n(125),b=n(0);var _=function(t){var e=t.totalUsersCount,n=t.pageSize,a=t.currentPage,r=t.onPageChanged,o=t.users,s=t.followingInProgress,i=t.unfollow,c=t.follow;return Object(b.jsxs)("div",{children:[Object(b.jsx)(g.a,{totalCount:e,pageSize:n,currentPage:a,onClick:r}),Object(b.jsx)(d.a,{users:o,followingInProgress:s,follow:c,unfollow:i})]})},p=n(19),j=n(96),h=n(18),v=function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).onPageChanged=function(e){t.props.setCurrentPage(e),t.props.getUsers(e,t.props.pageSize)},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){0===this.props.users.length&&this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:this.props.isFetching?Object(b.jsx)(p.a,{}):Object(b.jsx)(_,Object(a.a)(Object(a.a)({},this.props),{},{onPageChanged:this.onPageChanged}))})}}]),n}(f.a.Component);e.default=Object(h.d)(Object(c.b)((function(t){return{users:t.usersPage.users,pageSize:t.usersPage.pageSize,totalUsersCount:t.usersPage.totalUsersCount,currentPage:t.usersPage.currentPage,isFetching:t.usersPage.isFetching,followingInProgress:t.usersPage.followingInProgress}}),{follow:u.b,unfollow:u.h,setCurrentPage:u.f,toggleFollowingProgress:u.g,getUsers:u.d}),j.a)(v)},95:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(39);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=t[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!e||n.length!==e);a=!0);}catch(c){r=!0,o=c}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}}(t,e)||Object(a.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},96:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n(2),r=n(25),o=n(26),s=n(27),i=n(28),c=n(1),u=n.n(c),l=n(3),f=n(20),g=n(0),d=function(t){return{isAuth:t.auth.isAuth,id:t.auth.id}},b=function(t){var e=function(e){Object(s.a)(c,e);var n=Object(i.a)(c);function c(){return Object(r.a)(this,c),n.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(g.jsx)(t,Object(a.a)({},this.props)):Object(g.jsx)(l.a,{to:"/login"})}}]),c}(u.a.Component);return Object(f.b)(d)(e)}}}]);
//# sourceMappingURL=7.af787ab8.chunk.js.map