(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{113:function(e,t,a){e.exports={avatar:"UsersCard_avatar__7Wzzt"}},114:function(e,t,a){e.exports={preloader:"Preloader_preloader__GEOde"}},115:function(e,t,a){e.exports={content:"Profile_content__1KZ02"}},116:function(e,t,a){e.exports={profile_info:"ProfileStatus_profile_info__31_wB",description_box:"ProfileStatus_description_box__1jV-l",user_photo:"ProfileStatus_user_photo__1Gzwh",user_photoDefault:"ProfileStatus_user_photoDefault__1tNob",header:"ProfileStatus_header__23dCf",caption:"ProfileStatus_caption__3qmL3",info:"ProfileStatus_info__SmNuY",headline:"ProfileStatus_headline__2PVkF",text:"ProfileStatus_text__13i11",photos:"ProfileStatus_photos__2D9fU",photo:"ProfileStatus_photo__1x8f0",photo_default:"ProfileStatus_photo_default__WggP-"}},12:function(e,t,a){e.exports={login_box:"Login_login_box__Y6NMk",container:"Login_container__1gh3E",title:"Login_title__2gOxU",form:"Login_form__1oI7F",form_row:"Login_form_row__3t5Xl",form_checkbox:"Login_form_checkbox__2jxsT",label:"Login_label__68JtG",input:"Login_input__2Xz_f",checkbox:"Login_checkbox__2nHAi",input_error:"Login_input_error__3D39Z",error:"Login_error__25IZ_",server_errorContainer:"Login_server_errorContainer__3Hk2W",server_error:"Login_server_error__1upWp",btn:"Login_btn__avbxQ",btn_disabled:"Login_btn_disabled__1LDYR"}},122:function(e,t,a){},127:function(e,t,a){},15:function(e,t,a){e.exports={introduce:"Landing_introduce__3-NDZ",text_box:"Landing_text_box__wEPvO",title:"Landing_title__31zGb",subtitle:"Landing_subtitle__3rb2_",link:"Landing_link__xYGqK",data:"Landing_data__2asvw",data_item:"Landing_data_item__3qhKN",data_nums:"Landing_data_nums__35Jm0",liner:"Landing_liner__1Q7-t",data_text:"Landing_data_text__3YH8R"}},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){e.exports={avatar:"Users_avatar__coBMK"}},155:function(e,t,a){e.exports={avatar:"Friends_avatar__FU8fM",page:"Friends_page__2aqf4",page_active:"Friends_page_active__1Ptoi"}},18:function(e,t,a){e.exports={profile_info:"ProfileInfo_profile_info__2mOSo",description_box:"ProfileInfo_description_box__22GFZ",user_photo:"ProfileInfo_user_photo__2q-zf",user_photoDefault:"ProfileInfo_user_photoDefault__3Yiy2",header:"ProfileInfo_header__3B74Z",caption:"ProfileInfo_caption__1Orjr",info:"ProfileInfo_info__2fHGV",headline:"ProfileInfo_headline__Ng3FZ",text:"ProfileInfo_text__33OWi",photos:"ProfileInfo_photos__3NjGQ",photo:"ProfileInfo_photo___q1pS",photo_default:"ProfileInfo_photo_default__29Y-k"}},22:function(e,t,a){e.exports={header:"Header_header__1wvV2",logo_box:"Header_logo_box__3Uutf",logo:"Header_logo__2rM5x",logo_text:"Header_logo_text__2S9gQ",avatar:"Header_avatar__20hQt",avatarNotAuth:"Header_avatarNotAuth__21vIS",user_box:"Header_user_box__1ks-9",name:"Header_name__3CMva",login:"Header_login__FBYHa",hidden_box:"Header_hidden_box__11vvz",logout:"Header_logout__2E1oC"}},254:function(e,t,a){"use strict";a.r(t);a(122);var n=a(1),r=a.n(n),s=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,255)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))},i=a(55),c=a.n(i),o=a(2),l=a(4),u=a(5),d=a(10),j=a(11),b=(a(127),a(3)),_=a(14),f=a(7),p=a.n(f),g=a(20),h=a(110),m=a.n(h).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"15561bb6-da04-4759-83e8-0491bebdaf61"}}),O={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return m.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},getFriends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return m.get("users?page=".concat(e,"&count=").concat(t,"&friend=true")).then((function(e){return e.data}))},getUserInfo:function(e){return w.getProfile(e)},followFriend:function(e){return m.post("follow/".concat(e),{}).then((function(e){if(!e.data.resultCode)return e.data}))},unfollowFriend:function(e){return m.delete("follow/".concat(e)).then((function(e){if(!e.data.resultCode)return e.data}))}},x=function(){return m.get("auth/me")},v=function(e){return m.post("auth/login",e)},N=function(){return m.delete("auth/login")},w={getProfile:function(e){return m.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return m.get("profile/status/".concat(e))},updateStatus:function(e){return m.put("profile/status",{status:e})}},P="auth/SET_AUTH_USER_DATA",S="auth/SET_ERROR",F={id:null,email:null,login:null,isAuth:!1,isFetching:!1,error:""},C=function(e){return{type:P,data:e}},y=function(){return function(){var e=Object(g.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:(a=e.sent).data.resultCode||t(C(Object(o.a)(Object(o.a)({},a.data.data),{},{isAuth:!0})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(o.a)(Object(o.a)(Object(o.a)({},e),t.data),{},{error:""});case S:return Object(o.a)(Object(o.a)({},e),{},{error:t.errorMessage});default:return e}},I=a(17),E=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(o.a)(Object(o.a)({},e),n):e}))},T="FOLLOW",L="UNFOLLOW",U="SET_USERS",A="SET_FRIENDS",D="SET_FRIENDS_AFTER_DELETE",z="SET_CURRENT_PAGE",M="SET_CURRENT_FRIENDS_PAGE",H="SET_TOTAL_USERS_COUNT",R="SET_TOTAL_FRIENDS_COUNT",G="TOGGLE_IS_FETCHING",q="TOGGLE_IS_FOLLOWING_PROGRESS",Y={users:[],pageSize:20,totalUsersCount:1,currentPage:1,isFetching:!1,followingInProgress:[],friends:[],currentFriendsPage:1,pageFriendsSize:10,totalFriendsCount:0},B=function(e){return{type:T,userId:e}},V=function(e){return{type:L,userId:e}},W=function(e){return{type:U,users:e}},J=function(e){return{type:H,num:e}},K=function(e){return{type:G,isFetching:e}},Z=function(e,t){return{type:q,progress:e,userId:t}},Q=function(e){return{type:A,friends:e}},X=function(e){return{type:D,userId:e}},$=function(e){return{type:R,num:e}},ee=function(){var e=Object(g.a)(p.a.mark((function e(t,a,n,r,s,i){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(K(!0)),e.next=3,r(a,n);case 3:c=e.sent,t(K(!1)),t(s(c.items)),t(i(c.totalCount));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s,i){return e.apply(this,arguments)}}(),te=function(){var e=Object(g.a)(p.a.mark((function e(t,a,n,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Z(!0,a)),e.next=3,n(a);case 3:e.sent.data.resultCode||t(r(a)),t(Z(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),ae=function(e,t){return function(){var a=Object(g.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=O.getUsers.bind(O),ee(n,e,t,r,W,J);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ne=function(e){return function(){var t=Object(g.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=O.followFriend.bind(O),te(a,e,n,B);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},re=function(e){return function(){var t=Object(g.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=O.unfollowFriend.bind(O),te(a,e,n,V),a(X(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(o.a)(Object(o.a)({},e),{},{users:E(e.users,t.userId,"id",{followed:!0})});case L:return Object(o.a)(Object(o.a)({},e),{},{users:E(e.users,t.userId,"id",{followed:!1})});case U:return Object(o.a)(Object(o.a)({},e),{},{users:Object(I.a)(t.users)});case A:return Object(o.a)(Object(o.a)({},e),{},{friends:Object(I.a)(t.friends)});case D:return Object(o.a)(Object(o.a)({},e),{},{friends:e.friends.filter((function(e){return e.id!==t.userId}))});case z:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.page});case M:return Object(o.a)(Object(o.a)({},e),{},{currentFriendsPage:t.page});case H:return Object(o.a)(Object(o.a)({},e),{},{totalUsersCount:t.num});case R:return Object(o.a)(Object(o.a)({},e),{},{totalFriendsCount:t.num});case G:return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});case q:return Object(o.a)(Object(o.a)({},e),{},{followingInProgress:t.progress?[].concat(Object(I.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},ie="SET_INITIALIZED",ce={initialized:!1},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(o.a)(Object(o.a)({},e),{},{initialized:!0});default:return e}},le=a(8),ue=a.n(le),de=a(16),je=a.p+"static/media/email.1ba0e733.svg",be=a.p+"static/media/settings.22afaeb4.svg",_e=a.p+"static/media/friends.c34571e0.svg",fe=a.p+"static/media/user.2e054d03.svg",pe=a.p+"static/media/news.8904c144.svg",ge=a(0);var he=function(e){return Object(ge.jsx)("div",{className:ue.a.menu,children:Object(ge.jsx)("nav",{className:ue.a.menu_nav,children:Object(ge.jsxs)("ul",{className:ue.a.menu_list,children:[Object(ge.jsx)("li",{className:ue.a.item,children:Object(ge.jsx)(de.c,{to:"/profile",className:ue.a.link,activeClassName:ue.a.active,children:"Profile"})}),Object(ge.jsx)("li",{className:ue.a.item,children:Object(ge.jsxs)(de.c,{to:"/dialogs",className:ue.a.link,activeClassName:ue.a.active,children:[Object(ge.jsx)("img",{className:ue.a.picture,src:je,alt:""}),"Messanger"]})}),Object(ge.jsx)("li",{className:ue.a.item,children:Object(ge.jsxs)(de.c,{to:"/friends",className:ue.a.link,activeClassName:ue.a.active,children:[Object(ge.jsx)("img",{className:ue.a.picture,src:_e,alt:""}),"Friends"]})}),Object(ge.jsx)("li",{className:ue.a.item,children:Object(ge.jsxs)(de.c,{to:"/users",className:ue.a.link,activeClassName:ue.a.active,children:[Object(ge.jsx)("img",{className:ue.a.picture,src:fe,alt:""}),"Users"]})}),Object(ge.jsx)("li",{className:ue.a.item,children:Object(ge.jsxs)(de.c,{to:"/news",className:ue.a.link,activeClassName:ue.a.active,children:[Object(ge.jsx)("img",{className:ue.a.picture,src:pe,alt:""}),"News"]})}),Object(ge.jsx)("li",{className:ue.a.item,children:Object(ge.jsxs)(de.c,{to:"/settings",className:ue.a.link,activeClassName:ue.a.active,children:[Object(ge.jsx)("img",{className:ue.a.picture,src:be,alt:""}),"Settings"]})})]})})})},me=a(46),Oe=a.n(me),xe=a(62),ve=a.n(xe);var Ne=function(e){var t=e.name,a=e.id;return Object(ge.jsx)("li",{className:ve.a.dialog,children:Object(ge.jsx)(de.c,{to:"/dialogs/".concat(a),className:ve.a.link,activeClassName:ve.a.active,children:t})})},we=a(63),Pe=a.n(we);var Se=function(e){var t=e.text;return Object(ge.jsxs)("div",{className:Pe.a.message_box,children:[Object(ge.jsx)("img",{className:Pe.a.avatar,src:"https://static.mycity.travel/manage/uploads/7/36/112961/1/2500px-fribourgregion-20190704-dscf3505_3000.jpg",alt:""}),Object(ge.jsx)("p",{className:Pe.a.text,children:t})]})},Fe=a(27);var Ce=function(e){return Object(ge.jsx)(Fe.d,{initialValues:{message:""},onSubmit:function(t,a){a.setSubmitting;e.onSubmit(t)},children:function(t){var a=t.isSubmitting;return Object(ge.jsxs)(Fe.c,{className:e.style,children:[Object(ge.jsx)(Fe.b,{type:"text",name:"message",placeholder:"Enter your message"}),Object(ge.jsx)("button",{type:"submit",disabled:a,children:"Send"})]})}})};var ye=function(e){var t=e.dialogsPage,a=e.onSendMessage;return Object(ge.jsxs)("div",{className:Oe.a.dialogs,children:[Object(ge.jsx)("ul",{className:Oe.a.dialogs_list,children:t.dialogs.map((function(e){return Object(ge.jsx)(Ne,{name:e.name,id:e.id},e.id)}))}),Object(ge.jsxs)("div",{className:Oe.a.messages,children:[t.messages.map((function(e){return Object(ge.jsx)(Se,{text:e.text},e.id)})),Object(ge.jsx)(Ce,{onSubmit:function(e){a(e.message)},style:Oe.a.form})]})]})},ke="SEND-MESSAGE",Ie={messages:[{id:"1",text:"Hi"},{id:"2",text:"How are you?"},{id:"3",text:"Hellow world! Hellow world! Hellow world!}Hellow world! Hellow world!\n    Hellow world! Hellow world!"}],dialogs:[{id:"1",name:"Sasha"},{id:"2",name:"Kolya"},{id:"3",name:"Sveta"},{id:"4",name:"Tanya"},{id:"5",name:"Medok"}]},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(o.a)(Object(o.a)({},e),{},{messages:[].concat(Object(I.a)(e.messages),[{id:"6",text:t.newText}])});default:return e}},Te=function(e){return{isAuth:e.auth.isAuth,id:e.auth.id}},Le=function(e){var t=function(t){Object(d.a)(n,t);var a=Object(j.a)(n);function n(){return Object(l.a)(this,n),a.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return this.props.isAuth?Object(ge.jsx)(e,Object(o.a)({},this.props)):Object(ge.jsx)(b.a,{to:"/login"})}}]),n}(r.a.Component);return Object(_.b)(Te)(t)},Ue=a(19),Ae=Object(Ue.d)(Object(_.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{onSendMessage:function(t){e(function(e){return{type:ke,newText:e}}(t))}}})),Le)(ye);a(152);var De=function(e){return Object(ge.jsx)("div",{children:"News"})};a(153);var ze=function(e){return Object(ge.jsx)("div",{children:"Settings"})},Me=(a(154),a(29)),He=a(36),Re=a.n(He);var Ge=function(e){for(var t=e.totalCount,a=e.pageSize,n=e.currentPage,s=e.onClick,i=e.portionSize,c=void 0===i?10:i,o=Math.ceil(t/a),l=[],u=1;u<=o;u++)l.push(u);var d=r.a.useState(1),j=Object(Me.a)(d,2),b=j[0],_=j[1],f=Math.ceil(o/c),p=(b-1)*c+1,g=b*c;return r.a.useEffect((function(){_(Math.ceil(n/c))}),[n,c]),Object(ge.jsxs)("div",{className:Re.a.paginator,children:[b>1&&Object(ge.jsx)("button",{className:"".concat(Re.a.left," ").concat(Re.a.arrow),onClick:function(){_(b-1),s((b-2)*c+1)}}),l.filter((function(e){return e>=p&&e<=g})).map((function(e){return Object(ge.jsx)("button",{className:"".concat(Re.a.page," ").concat(e===n&&Re.a.page_active),onClick:function(){return s(e)},children:e},e)})),f>b&&Object(ge.jsx)("button",{className:"".concat(Re.a.right," ").concat(Re.a.arrow),onClick:function(){_(b+1),s(b*c+1)}})]})},qe=a(113),Ye=a.n(qe),Be=a.p+"static/media/avatarDefault.b6ecac72.svg";var Ve=function(e){var t=e.user,a=e.followingInProgress,n=e.follow,r=e.unfollow;return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)("div",{children:[Object(ge.jsx)(de.c,{to:"/profile/"+t.id,children:Object(ge.jsx)("img",{src:t.photos.small?t.photos.small:Be,alt:"",className:Ye.a.avatar})}),t.followed?Object(ge.jsx)("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){return r(t.id)},children:"Unfollow"}):Object(ge.jsx)("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){return n(t.id)},children:"Follow"})]}),Object(ge.jsxs)("div",{children:[Object(ge.jsx)("p",{children:t.name}),Object(ge.jsx)("p",{children:t.status})]})]})};var We=function(e){var t=e.totalUsersCount,a=e.pageSize,n=e.currentPage,r=e.onPageChanged,s=e.users,i=e.followingInProgress,c=e.unfollow,o=e.follow;return Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Ge,{totalCount:t,pageSize:a,currentPage:n,onClick:r}),s.map((function(e){return Object(ge.jsx)(Ve,{user:e,followingInProgress:i,follow:o,unfollow:c},e.id)}))]})},Je=a.p+"static/media/preloader.85b18b8e.svg",Ke=a(114),Ze=a.n(Ke);var Qe=function(e){return Object(ge.jsx)("img",{className:Ze.a.preloader,src:Je,alt:"#"})},Xe=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.getUsers(t,e.props.pageSize)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){0===this.props.users.length&&this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(ge.jsx)(ge.Fragment,{children:this.props.isFetching?Object(ge.jsx)(Qe,{}):Object(ge.jsx)(We,Object(o.a)(Object(o.a)({},this.props),{},{onPageChanged:this.onPageChanged}))})}}]),a}(r.a.Component),$e=Object(Ue.d)(Object(_.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{follow:ne,unfollow:re,setCurrentPage:function(e){return{type:z,page:e}},toggleFollowingProgress:Z,getUsers:ae}),Le)(Xe),et="ADD-POST",tt="SET_USER_PROFILE",at="SET_STATUS",nt={posts:[{id:"1",text:"How are you?"},{id:"2",text:"Hellow world!"},{id:"3",text:"Hi"}],profile:null,status:""},rt=function(e){return{type:at,status:e}},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return Object(o.a)(Object(o.a)({},e),{},{posts:[].concat(Object(I.a)(e.posts),[{id:4,text:t.newText}])});case tt:return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case at:return Object(o.a)(Object(o.a)({},e),{},{status:t.status});default:return e}},it=a(115),ct=a.n(it),ot=a(64),lt=a.n(ot),ut=a(65),dt=a.n(ut);var jt=function(e){var t=e.message;return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsxs)("div",{className:dt.a.post,children:[Object(ge.jsx)("img",{className:dt.a.avatar,src:"https://static.mycity.travel/manage/uploads/7/36/112961/1/2500px-fribourgregion-20190704-dscf3505_3000.jpg",alt:""}),Object(ge.jsx)("p",{className:dt.a.text,children:t})]})})};var bt=function(e){return Object(ge.jsxs)("div",{className:lt.a.myPosts_box,children:[Object(ge.jsxs)("div",{children:[Object(ge.jsx)("h2",{className:lt.a.title,children:"My posts"}),Object(ge.jsx)(Ce,{onSubmit:function(t){e.addPost(t.message)},style:lt.a.form})]}),Object(ge.jsx)("div",{className:"PostList",children:e.posts.map((function(e){return Object(ge.jsx)(jt,{message:e.text},e.id)}))})]})},_t=Object(_.b)((function(e){return{posts:e.profilePage.posts,newPostTex:e.profilePage.newPostTex}}),(function(e){return{addPost:function(t){e(function(e){return{type:et,newText:e}}(t))}}}))(bt),ft=a(18),pt=a.n(ft),gt=a.p+"static/media/camera.9436a671.svg",ht=a(116),mt=a.n(ht);var Ot=function(e){var t=r.a.useState(!1),a=Object(Me.a)(t,2),n=a[0],s=a[1],i=r.a.useState(e.status),c=Object(Me.a)(i,2),o=c[0],l=c[1];return r.a.useEffect((function(){l(e.status)}),[e.status]),Object(ge.jsx)("div",{className:mt.a.profile_status,children:n?Object(ge.jsx)("div",{children:Object(ge.jsx)("input",{autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(o)},value:o,onChange:function(e){l(e.currentTarget.value)}})}):Object(ge.jsx)("div",{children:Object(ge.jsx)("p",{onClick:function(){e.noChanges?s(!1):s(!0)},children:e.status||"No status"})})})};var xt=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.idAuthUser;return t?Object(ge.jsxs)("div",{className:pt.a.profile_info,children:[Object(ge.jsx)("div",{children:Object(ge.jsx)("img",{className:"".concat(pt.a.user_photo," ").concat(!t.photos.large&&pt.a.user_photoDefault),src:t.photos.large||Be,alt:"#"})}),Object(ge.jsxs)("div",{className:pt.a.description_box,children:[Object(ge.jsxs)("div",{className:pt.a.main_info,children:[Object(ge.jsx)("h2",{className:pt.a.header,children:t.fullName}),Object(ge.jsx)(Ot,{status:a,updateStatus:n,noChanges:t.userId!==r&&!0})]}),Object(ge.jsxs)("div",{className:pt.a.info,children:[Object(ge.jsxs)("p",{className:pt.a.text,children:[Object(ge.jsx)("span",{className:pt.a.headline,children:"About me: "}),t.aboutMe||"no description"]}),Object(ge.jsxs)("p",{className:pt.a.text,children:[Object(ge.jsx)("span",{className:pt.a.headline,children:t.lookingForAJob?"Looking for a job: ":"Employed: "}),t.lookingForAJobDescription||"no description"]})]}),Object(ge.jsxs)("div",{className:pt.a.photos,children:[Object(ge.jsx)("img",{className:"".concat(pt.a.photo," ").concat(!t.photos.large&&pt.a.photo_default),src:t.photos.large||gt,alt:"#"}),Object(ge.jsx)("img",{className:"".concat(pt.a.photo," ").concat(!t.photos.small&&pt.a.photo_default),src:t.photos.small||gt,alt:""})]})]})]}):Object(ge.jsx)(Qe,{})};var vt=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.id;return Object(ge.jsxs)("div",{className:ct.a.content,children:[Object(ge.jsx)(xt,{profile:t,status:a,updateStatus:n,idAuthUser:r}),Object(ge.jsx)(_t,{})]})},Nt=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props);var e=this.props.match.params.userId;e||(e=this.props.id),this.props.getPersonalInfo(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(ge.jsx)(vt,Object(o.a)({},this.props))}}]),a}(r.a.Component),wt=Object(Ue.d)(Object(_.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status}}),{getPersonalInfo:function(e){return function(){var t=Object(g.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.getUserInfo(e);case 2:n=t.sent,a({type:tt,profile:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(g.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getStatus(e);case 2:n=t.sent,a(rt(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(g.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.updateStatus(e);case 2:t.sent.data.resultCode||a(rt(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),b.f,Le)(Nt),Pt=a.p+"static/media/logo.37c24b2d.svg",St=a(22),Ft=a.n(St);var Ct=function(e){var t=e.isAuth,a=e.login,n=e.logout;return Object(ge.jsxs)("header",{className:Ft.a.header,children:[Object(ge.jsxs)("div",{className:Ft.a.logo_box,children:[Object(ge.jsx)("img",{className:Ft.a.logo,src:Pt,alt:""}),Object(ge.jsx)(de.b,{to:t?"/profile":"/",className:Ft.a.logo_text,children:"TravelBook"})]}),!t&&Object(ge.jsxs)("div",{className:Ft.a.user_box,children:[Object(ge.jsx)("img",{className:"".concat(Ft.a.avatar," ").concat(Ft.a.avatarNotAuth),src:fe,alt:""}),Object(ge.jsx)(de.b,{className:Ft.a.login,to:"/",children:"Sign up"})]}),Object(ge.jsxs)("div",{className:t?Ft.a.user_box:Ft.a.hidden_box,children:[Object(ge.jsx)("p",{className:Ft.a.name,children:a}),Object(ge.jsx)("img",{className:Ft.a.avatar,src:Be,alt:""}),Object(ge.jsx)("button",{className:Ft.a.logout,onClick:n,type:"button"})]})]})},yt=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(ge.jsx)(Ct,Object(o.a)({},this.props))}}]),a}(r.a.Component),kt=Object(_.b)((function(e){return{login:e.auth.login}}),{logout:function(){return function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:e.sent.data.resultCode||t(C({id:null,email:null,login:null,isAuth:!1}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Object(b.f)(yt)),It=a(121);a(155);var Et=function(e){var t=e.totalFriendsCount,a=e.pageFriendsSize,n=e.currentFriendsPage,r=e.onPageChanged,s=e.friends,i=e.followingInProgress,c=e.unfollow,o=e.follow;return Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Ge,{totalCount:t,pageSize:a,currentPage:n,onClick:r}),s.map((function(e){return Object(ge.jsx)(Ve,{user:e,followingInProgress:i,follow:o,unfollow:c},e.id)}))]})};var Tt=Object(Ue.d)(Object(_.b)((function(e){return{totalFriendsCount:e.usersPage.totalFriendsCount,pageFriendsSize:e.usersPage.pageFriendsSize,currentFriendsPage:e.usersPage.currentFriendsPage,friends:e.usersPage.friends,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{setCurrentFriendsPage:function(e){return{type:M,page:e}},getUserFriends:function(e,t){return function(){var a=Object(g.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=O.getFriends.bind(O),ee(n,e,t,r,Q,$);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},follow:ne,unfollow:re,toggleFollowingProgress:Z}),b.f,Le)((function(e){var t=e.currentFriendsPage,a=e.pageFriendsSize,n=e.getUserFriends,s=e.setCurrentFriendsPage,i=Object(It.a)(e,["currentFriendsPage","pageFriendsSize","getUserFriends","setCurrentFriendsPage"]);return r.a.useEffect((function(){n(t,a)}),[n,t,a]),Object(ge.jsx)(ge.Fragment,{children:i.isFetching?Object(ge.jsx)(Qe,{}):Object(ge.jsx)(Et,Object(o.a)(Object(o.a)({},i),{},{onPageChanged:function(e){s(e),n(e,a)},currentFriendsPage:t,pageFriendsSize:a}))})})),Lt=a(66),Ut=Lt.a().shape({email:Lt.b().email().required("Email is required"),password:Lt.b().required("Password is required").min(4,"Password is too short - should be 4 chars min")}),At=a(12),Dt=a.n(At);var zt=Object(_.b)((function(e){return{isAuth:e.auth.isAuth,error:e.auth.error}}),{login:function(e){return function(){var t=Object(g.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:(n=t.sent).data.resultCode?a((r=n.data.messages[0],{type:S,errorMessage:r})):a(y());case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Object(b.f)((function(e){var t=e.login,a=e.error;return Object(ge.jsx)("div",{className:Dt.a.login_box,children:Object(ge.jsx)(Fe.d,{initialValues:{email:"",password:"",rememberMe:!1},validationSchema:Ut,onSubmit:function(e){t(e)},children:function(e){var t=e.errors,n=e.touched,r=e.isValid,s=e.dirty;return Object(ge.jsxs)("div",{className:Dt.a.container,children:[Object(ge.jsx)("h1",{className:Dt.a.title,children:"Sign in to continue"}),Object(ge.jsxs)(Fe.c,{className:Dt.a.form,children:[Object(ge.jsxs)("div",{className:Dt.a.form_row,children:[Object(ge.jsx)("label",{htmlFor:"email",className:Dt.a.label,children:"Email"}),Object(ge.jsx)(Fe.b,{type:"email",name:"email",id:"email",className:"\n                    ".concat(Dt.a.input,"\n                    ").concat(t.email&&n.email?Dt.a.input_error:null,"\n                  ")}),Object(ge.jsx)(Fe.a,{name:"email",component:"span",className:Dt.a.error})]}),Object(ge.jsxs)("div",{className:Dt.a.form_row,children:[Object(ge.jsx)("label",{htmlFor:"password",className:Dt.a.label,children:"Password"}),Object(ge.jsx)(Fe.b,{type:"password",name:"password",id:"password",className:"\n                    ".concat(Dt.a.input,"\n                    ").concat(t.password&&n.password?Dt.a.input_error:null,"\n                  ")}),Object(ge.jsx)(Fe.a,{name:"password",component:"span",className:Dt.a.error})]}),Object(ge.jsxs)("div",{className:Dt.a.form_checkbox,children:[Object(ge.jsx)("label",{htmlFor:"rememberMe",className:Dt.a.label,children:"Remember me"}),Object(ge.jsx)(Fe.b,{type:"checkbox",name:"rememberMe",id:"rememberMe",className:Dt.a.checkbox})]}),Object(ge.jsx)("button",{type:"submit",className:"".concat(Dt.a.btn," ").concat(s&&r?"":Dt.a.btn_disabled),disabled:!(s&&r),children:"Sign in"}),a?Object(ge.jsxs)("div",{className:Dt.a.server_errorContainer,children:[Object(ge.jsx)("p",{className:Dt.a.server_error,children:"Something wrong!"}),Object(ge.jsx)("p",{className:Dt.a.server_error,children:a})]}):null]})]})}})})}))),Mt=a(15),Ht=a.n(Mt);var Rt=function(e){var t=function(){console.log(e.totalUsersCount);var t=String(e.totalUsersCount).split("").reverse().join("");return(t.slice(0,3)+" "+t.slice(3)).split("").reverse().join("")};return Object(ge.jsxs)("div",{className:Ht.a.content,children:[Object(ge.jsx)("div",{className:Ht.a.introduce,children:Object(ge.jsxs)("div",{className:Ht.a.text_box,children:[Object(ge.jsx)("h1",{className:Ht.a.title,children:"See the world of amazind travel"}),Object(ge.jsx)("p",{className:Ht.a.subtitle,children:"Social network of travel lovers"}),Object(ge.jsx)(de.b,{to:"/login",className:Ht.a.link,children:"Sign in"})]})}),Object(ge.jsxs)("div",{className:Ht.a.data,children:[Object(ge.jsxs)("div",{className:Ht.a.data_item,children:[Object(ge.jsx)("p",{className:Ht.a.data_nums,children:t()<=1?"11 300":t()}),Object(ge.jsx)("div",{className:Ht.a.liner}),Object(ge.jsxs)("p",{className:Ht.a.data_text,children:["registered",Object(ge.jsx)("br",{}),"users"]})]}),Object(ge.jsxs)("div",{className:Ht.a.data_item,children:[Object(ge.jsx)("p",{className:Ht.a.data_nums,children:"5 300"}),Object(ge.jsx)("div",{className:Ht.a.liner}),Object(ge.jsxs)("p",{className:Ht.a.data_text,children:["reviews from",Object(ge.jsx)("br",{}),"different countries"]})]}),Object(ge.jsxs)("div",{className:Ht.a.data_item,children:[Object(ge.jsx)("p",{className:Ht.a.data_nums,children:"54 008"}),Object(ge.jsx)("div",{className:Ht.a.liner}),Object(ge.jsxs)("p",{className:Ht.a.data_text,children:["beautiful",Object(ge.jsx)("br",{}),"user photo"]})]})]})]})},Gt=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(ge.jsxs)("div",{className:"App",children:[Object(ge.jsx)(kt,Object(o.a)({},this.props)),this.props.isAuth&&Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(he,{}),Object(ge.jsxs)("div",{className:"app-content",children:[Object(ge.jsx)(b.b,{path:"/profile/:userId?",children:Object(ge.jsx)(wt,{})}),Object(ge.jsx)(b.b,{path:"/dialogs",children:Object(ge.jsx)(Ae,{})}),Object(ge.jsx)(b.b,{path:"/friends",children:Object(ge.jsx)(Tt,{})}),Object(ge.jsx)(b.b,{path:"/news",children:Object(ge.jsx)(De,{})}),Object(ge.jsx)(b.b,{path:"/settings",children:Object(ge.jsx)(ze,{})}),Object(ge.jsx)(b.b,{path:"/users",children:Object(ge.jsx)($e,{})})]})]}),Object(ge.jsxs)("div",{className:"app-landing",children:[Object(ge.jsx)(b.b,{exact:!0,path:"/login",children:this.props.isAuth?Object(ge.jsx)(b.a,{to:"/profile"}):Object(ge.jsx)(zt,{})}),Object(ge.jsx)(b.b,{exact:!0,path:"/",children:Object(ge.jsx)(Rt,{totalUsersCount:this.props.totalUsersCount})})]}),Object(ge.jsx)(b.b,{children:this.props.isAuth?Object(ge.jsx)(b.a,{to:"/profile"}):Object(ge.jsx)(b.a,{to:"/"})})]}):Object(ge.jsx)(Qe,{})}}]),a}(r.a.Component),qt=Object(_.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,authUserId:e.auth.id,initialized:e.app.initialized,totalUsersCount:e.usersPage.totalUsersCount}}),{initializeApp:function(){return function(e){e(ae()),e(y()).then((function(){e({type:ie})}))}}})(Object(b.f)(Gt)),Yt=a(120),Bt=Object(Ue.c)({profilePage:st,dialogsPage:Ee,usersPage:se,auth:k,app:oe}),Vt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ue.d,Wt=Object(Ue.e)(Bt,Vt(Object(Ue.a)(Yt.a)));c.a.render(Object(ge.jsx)(r.a.StrictMode,{children:Object(ge.jsx)(de.a,{children:Object(ge.jsx)(_.a,{store:Wt,children:Object(ge.jsx)(qt,{})})})}),document.getElementById("root")),s()},36:function(e,t,a){e.exports={page:"Pagination_page__3ALm-",page_active:"Pagination_page_active__5YgsH",paginator:"Pagination_paginator__2lOiO",arrow:"Pagination_arrow__2JBNs",left:"Pagination_left__3OWz-",right:"Pagination_right__itvgQ"}},46:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__1-R3R",dialogs_list:"Dialogs_dialogs_list__259sl",messages:"Dialogs_messages__1sBuo"}},62:function(e,t,a){e.exports={dialog:"Dialog_dialog__iFTJX",link:"Dialog_link__1rmI7",active:"Dialog_active__1AEkN"}},63:function(e,t,a){e.exports={message_box:"Message_message_box__30VK9",text:"Message_text__GG0FJ",avatar:"Message_avatar__3nTGE"}},64:function(e,t,a){e.exports={myPosts_box:"MyPosts_myPosts_box__1vWVt",title:"MyPosts_title__3I_rh",form:"MyPosts_form__qT0-R"}},65:function(e,t,a){e.exports={post:"Post_post__3rY-N",avatar:"Post_avatar__36H_Y",text:"Post_text__3l8k_"}},8:function(e,t,a){e.exports={menu:"Navbar_menu__3tK4E",menu_nav:"Navbar_menu_nav__3EcIa",menu_list:"Navbar_menu_list__2lM7s",item:"Navbar_item__1P1wq",link:"Navbar_link__2nDx-",active:"Navbar_active__1ofAm",picture:"Navbar_picture__3x2Dp"}}},[[254,1,2]]]);
//# sourceMappingURL=main.478ab9a4.chunk.js.map